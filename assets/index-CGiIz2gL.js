(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const p of document.querySelectorAll('link[rel="modulepreload"]'))f(p);new MutationObserver(p=>{for(const m of p)if(m.type==="childList")for(const b of m.addedNodes)b.tagName==="LINK"&&b.rel==="modulepreload"&&f(b)}).observe(document,{childList:!0,subtree:!0});function l(p){const m={};return p.integrity&&(m.integrity=p.integrity),p.referrerPolicy&&(m.referrerPolicy=p.referrerPolicy),p.crossOrigin==="use-credentials"?m.credentials="include":p.crossOrigin==="anonymous"?m.credentials="omit":m.credentials="same-origin",m}function f(p){if(p.ep)return;p.ep=!0;const m=l(p);fetch(p.href,m)}})();var Nc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Pm(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}var Fh={exports:{}},Xl={};var M1;function Fm(){if(M1)return Xl;M1=1;var o=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function l(f,p,m){var b=null;if(m!==void 0&&(b=""+m),p.key!==void 0&&(b=""+p.key),"key"in p){m={};for(var E in p)E!=="key"&&(m[E]=p[E])}else m=p;return p=m.ref,{$$typeof:o,type:f,key:b,ref:p!==void 0?p:null,props:m}}return Xl.Fragment=r,Xl.jsx=l,Xl.jsxs=l,Xl}var B1;function Hm(){return B1||(B1=1,Fh.exports=Fm()),Fh.exports}var I=Hm(),Hh={exports:{}},Qe={};var L1;function Vm(){if(L1)return Qe;L1=1;var o=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),m=Symbol.for("react.consumer"),b=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),L=Symbol.iterator;function j(V){return V===null||typeof V!="object"?null:(V=L&&V[L]||V["@@iterator"],typeof V=="function"?V:null)}var H={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G=Object.assign,le={};function W(V,oe,be){this.props=V,this.context=oe,this.refs=le,this.updater=be||H}W.prototype.isReactComponent={},W.prototype.setState=function(V,oe){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,oe,"setState")},W.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function ae(){}ae.prototype=W.prototype;function J(V,oe,be){this.props=V,this.context=oe,this.refs=le,this.updater=be||H}var $=J.prototype=new ae;$.constructor=J,G($,W.prototype),$.isPureReactComponent=!0;var Re=Array.isArray;function ve(){}var K={H:null,A:null,T:null,S:null},Se=Object.prototype.hasOwnProperty;function he(V,oe,be){var Ae=be.ref;return{$$typeof:o,type:V,key:oe,ref:Ae!==void 0?Ae:null,props:be}}function wn(V,oe){return he(V.type,oe,V.props)}function Ue(V){return typeof V=="object"&&V!==null&&V.$$typeof===o}function Ee(V){var oe={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(be){return oe[be]})}var Be=/\/+/g;function Ye(V,oe){return typeof V=="object"&&V!==null&&V.key!=null?Ee(""+V.key):oe.toString(36)}function te(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(ve,ve):(V.status="pending",V.then(function(oe){V.status==="pending"&&(V.status="fulfilled",V.value=oe)},function(oe){V.status==="pending"&&(V.status="rejected",V.reason=oe)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function ne(V,oe,be,Ae,Ve){var we=typeof V;(we==="undefined"||we==="boolean")&&(V=null);var ft=!1;if(V===null)ft=!0;else switch(we){case"bigint":case"string":case"number":ft=!0;break;case"object":switch(V.$$typeof){case o:case r:ft=!0;break;case T:return ft=V._init,ne(ft(V._payload),oe,be,Ae,Ve)}}if(ft)return Ve=Ve(V),ft=Ae===""?"."+Ye(V,0):Ae,Re(Ve)?(be="",ft!=null&&(be=ft.replace(Be,"$&/")+"/"),ne(Ve,oe,be,"",function(ki){return ki})):Ve!=null&&(Ue(Ve)&&(Ve=wn(Ve,be+(Ve.key==null||V&&V.key===Ve.key?"":(""+Ve.key).replace(Be,"$&/")+"/")+ft)),oe.push(Ve)),1;ft=0;var dt=Ae===""?".":Ae+":";if(Re(V))for(var kt=0;kt<V.length;kt++)Ae=V[kt],we=dt+Ye(Ae,kt),ft+=ne(Ae,oe,be,we,Ve);else if(kt=j(V),typeof kt=="function")for(V=kt.call(V),kt=0;!(Ae=V.next()).done;)Ae=Ae.value,we=dt+Ye(Ae,kt++),ft+=ne(Ae,oe,be,we,Ve);else if(we==="object"){if(typeof V.then=="function")return ne(te(V),oe,be,Ae,Ve);throw oe=String(V),Error("Objects are not valid as a React child (found: "+(oe==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":oe)+"). If you meant to render a collection of children, use an array instead.")}return ft}function fe(V,oe,be){if(V==null)return V;var Ae=[],Ve=0;return ne(V,Ae,"","",function(we){return oe.call(be,we,Ve++)}),Ae}function ke(V){if(V._status===-1){var oe=V._result;oe=oe(),oe.then(function(be){(V._status===0||V._status===-1)&&(V._status=1,V._result=be)},function(be){(V._status===0||V._status===-1)&&(V._status=2,V._result=be)}),V._status===-1&&(V._status=0,V._result=oe)}if(V._status===1)return V._result.default;throw V._result}var Xe=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var oe=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(oe))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Ze={map:fe,forEach:function(V,oe,be){fe(V,function(){oe.apply(this,arguments)},be)},count:function(V){var oe=0;return fe(V,function(){oe++}),oe},toArray:function(V){return fe(V,function(oe){return oe})||[]},only:function(V){if(!Ue(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return Qe.Activity=R,Qe.Children=Ze,Qe.Component=W,Qe.Fragment=l,Qe.Profiler=p,Qe.PureComponent=J,Qe.StrictMode=f,Qe.Suspense=S,Qe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=K,Qe.__COMPILER_RUNTIME={__proto__:null,c:function(V){return K.H.useMemoCache(V)}},Qe.cache=function(V){return function(){return V.apply(null,arguments)}},Qe.cacheSignal=function(){return null},Qe.cloneElement=function(V,oe,be){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var Ae=G({},V.props),Ve=V.key;if(oe!=null)for(we in oe.key!==void 0&&(Ve=""+oe.key),oe)!Se.call(oe,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&oe.ref===void 0||(Ae[we]=oe[we]);var we=arguments.length-2;if(we===1)Ae.children=be;else if(1<we){for(var ft=Array(we),dt=0;dt<we;dt++)ft[dt]=arguments[dt+2];Ae.children=ft}return he(V.type,Ve,Ae)},Qe.createContext=function(V){return V={$$typeof:b,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:m,_context:V},V},Qe.createElement=function(V,oe,be){var Ae,Ve={},we=null;if(oe!=null)for(Ae in oe.key!==void 0&&(we=""+oe.key),oe)Se.call(oe,Ae)&&Ae!=="key"&&Ae!=="__self"&&Ae!=="__source"&&(Ve[Ae]=oe[Ae]);var ft=arguments.length-2;if(ft===1)Ve.children=be;else if(1<ft){for(var dt=Array(ft),kt=0;kt<ft;kt++)dt[kt]=arguments[kt+2];Ve.children=dt}if(V&&V.defaultProps)for(Ae in ft=V.defaultProps,ft)Ve[Ae]===void 0&&(Ve[Ae]=ft[Ae]);return he(V,we,Ve)},Qe.createRef=function(){return{current:null}},Qe.forwardRef=function(V){return{$$typeof:E,render:V}},Qe.isValidElement=Ue,Qe.lazy=function(V){return{$$typeof:T,_payload:{_status:-1,_result:V},_init:ke}},Qe.memo=function(V,oe){return{$$typeof:v,type:V,compare:oe===void 0?null:oe}},Qe.startTransition=function(V){var oe=K.T,be={};K.T=be;try{var Ae=V(),Ve=K.S;Ve!==null&&Ve(be,Ae),typeof Ae=="object"&&Ae!==null&&typeof Ae.then=="function"&&Ae.then(ve,Xe)}catch(we){Xe(we)}finally{oe!==null&&be.types!==null&&(oe.types=be.types),K.T=oe}},Qe.unstable_useCacheRefresh=function(){return K.H.useCacheRefresh()},Qe.use=function(V){return K.H.use(V)},Qe.useActionState=function(V,oe,be){return K.H.useActionState(V,oe,be)},Qe.useCallback=function(V,oe){return K.H.useCallback(V,oe)},Qe.useContext=function(V){return K.H.useContext(V)},Qe.useDebugValue=function(){},Qe.useDeferredValue=function(V,oe){return K.H.useDeferredValue(V,oe)},Qe.useEffect=function(V,oe){return K.H.useEffect(V,oe)},Qe.useEffectEvent=function(V){return K.H.useEffectEvent(V)},Qe.useId=function(){return K.H.useId()},Qe.useImperativeHandle=function(V,oe,be){return K.H.useImperativeHandle(V,oe,be)},Qe.useInsertionEffect=function(V,oe){return K.H.useInsertionEffect(V,oe)},Qe.useLayoutEffect=function(V,oe){return K.H.useLayoutEffect(V,oe)},Qe.useMemo=function(V,oe){return K.H.useMemo(V,oe)},Qe.useOptimistic=function(V,oe){return K.H.useOptimistic(V,oe)},Qe.useReducer=function(V,oe,be){return K.H.useReducer(V,oe,be)},Qe.useRef=function(V){return K.H.useRef(V)},Qe.useState=function(V){return K.H.useState(V)},Qe.useSyncExternalStore=function(V,oe,be){return K.H.useSyncExternalStore(V,oe,be)},Qe.useTransition=function(){return K.H.useTransition()},Qe.version="19.2.4",Qe}var k1;function lo(){return k1||(k1=1,Hh.exports=Vm()),Hh.exports}var Oe=lo(),Vh={exports:{}},Wl={},Gh={exports:{}},Yh={};var j1;function Gm(){return j1||(j1=1,(function(o){function r(ne,fe){var ke=ne.length;ne.push(fe);e:for(;0<ke;){var Xe=ke-1>>>1,Ze=ne[Xe];if(0<p(Ze,fe))ne[Xe]=fe,ne[ke]=Ze,ke=Xe;else break e}}function l(ne){return ne.length===0?null:ne[0]}function f(ne){if(ne.length===0)return null;var fe=ne[0],ke=ne.pop();if(ke!==fe){ne[0]=ke;e:for(var Xe=0,Ze=ne.length,V=Ze>>>1;Xe<V;){var oe=2*(Xe+1)-1,be=ne[oe],Ae=oe+1,Ve=ne[Ae];if(0>p(be,ke))Ae<Ze&&0>p(Ve,be)?(ne[Xe]=Ve,ne[Ae]=ke,Xe=Ae):(ne[Xe]=be,ne[oe]=ke,Xe=oe);else if(Ae<Ze&&0>p(Ve,ke))ne[Xe]=Ve,ne[Ae]=ke,Xe=Ae;else break e}}return fe}function p(ne,fe){var ke=ne.sortIndex-fe.sortIndex;return ke!==0?ke:ne.id-fe.id}if(o.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var m=performance;o.unstable_now=function(){return m.now()}}else{var b=Date,E=b.now();o.unstable_now=function(){return b.now()-E}}var S=[],v=[],T=1,R=null,L=3,j=!1,H=!1,G=!1,le=!1,W=typeof setTimeout=="function"?setTimeout:null,ae=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;function $(ne){for(var fe=l(v);fe!==null;){if(fe.callback===null)f(v);else if(fe.startTime<=ne)f(v),fe.sortIndex=fe.expirationTime,r(S,fe);else break;fe=l(v)}}function Re(ne){if(G=!1,$(ne),!H)if(l(S)!==null)H=!0,ve||(ve=!0,Ee());else{var fe=l(v);fe!==null&&te(Re,fe.startTime-ne)}}var ve=!1,K=-1,Se=5,he=-1;function wn(){return le?!0:!(o.unstable_now()-he<Se)}function Ue(){if(le=!1,ve){var ne=o.unstable_now();he=ne;var fe=!0;try{e:{H=!1,G&&(G=!1,ae(K),K=-1),j=!0;var ke=L;try{t:{for($(ne),R=l(S);R!==null&&!(R.expirationTime>ne&&wn());){var Xe=R.callback;if(typeof Xe=="function"){R.callback=null,L=R.priorityLevel;var Ze=Xe(R.expirationTime<=ne);if(ne=o.unstable_now(),typeof Ze=="function"){R.callback=Ze,$(ne),fe=!0;break t}R===l(S)&&f(S),$(ne)}else f(S);R=l(S)}if(R!==null)fe=!0;else{var V=l(v);V!==null&&te(Re,V.startTime-ne),fe=!1}}break e}finally{R=null,L=ke,j=!1}fe=void 0}}finally{fe?Ee():ve=!1}}}var Ee;if(typeof J=="function")Ee=function(){J(Ue)};else if(typeof MessageChannel<"u"){var Be=new MessageChannel,Ye=Be.port2;Be.port1.onmessage=Ue,Ee=function(){Ye.postMessage(null)}}else Ee=function(){W(Ue,0)};function te(ne,fe){K=W(function(){ne(o.unstable_now())},fe)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(ne){ne.callback=null},o.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Se=0<ne?Math.floor(1e3/ne):5},o.unstable_getCurrentPriorityLevel=function(){return L},o.unstable_next=function(ne){switch(L){case 1:case 2:case 3:var fe=3;break;default:fe=L}var ke=L;L=fe;try{return ne()}finally{L=ke}},o.unstable_requestPaint=function(){le=!0},o.unstable_runWithPriority=function(ne,fe){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var ke=L;L=ne;try{return fe()}finally{L=ke}},o.unstable_scheduleCallback=function(ne,fe,ke){var Xe=o.unstable_now();switch(typeof ke=="object"&&ke!==null?(ke=ke.delay,ke=typeof ke=="number"&&0<ke?Xe+ke:Xe):ke=Xe,ne){case 1:var Ze=-1;break;case 2:Ze=250;break;case 5:Ze=1073741823;break;case 4:Ze=1e4;break;default:Ze=5e3}return Ze=ke+Ze,ne={id:T++,callback:fe,priorityLevel:ne,startTime:ke,expirationTime:Ze,sortIndex:-1},ke>Xe?(ne.sortIndex=ke,r(v,ne),l(S)===null&&ne===l(v)&&(G?(ae(K),K=-1):G=!0,te(Re,ke-Xe))):(ne.sortIndex=Ze,r(S,ne),H||j||(H=!0,ve||(ve=!0,Ee()))),ne},o.unstable_shouldYield=wn,o.unstable_wrapCallback=function(ne){var fe=L;return function(){var ke=L;L=fe;try{return ne.apply(this,arguments)}finally{L=ke}}}})(Yh)),Yh}var U1;function Ym(){return U1||(U1=1,Gh.exports=Gm()),Gh.exports}var qh={exports:{}},zn={};var z1;function qm(){if(z1)return zn;z1=1;var o=lo();function r(S){var v="https://react.dev/errors/"+S;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)v+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+S+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var f={d:{f:l,r:function(){throw Error(r(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},p=Symbol.for("react.portal");function m(S,v,T){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:p,key:R==null?null:""+R,children:S,containerInfo:v,implementation:T}}var b=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function E(S,v){if(S==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return zn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=f,zn.createPortal=function(S,v){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(r(299));return m(S,v,null,T)},zn.flushSync=function(S){var v=b.T,T=f.p;try{if(b.T=null,f.p=2,S)return S()}finally{b.T=v,f.p=T,f.d.f()}},zn.preconnect=function(S,v){typeof S=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,f.d.C(S,v))},zn.prefetchDNS=function(S){typeof S=="string"&&f.d.D(S)},zn.preinit=function(S,v){if(typeof S=="string"&&v&&typeof v.as=="string"){var T=v.as,R=E(T,v.crossOrigin),L=typeof v.integrity=="string"?v.integrity:void 0,j=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;T==="style"?f.d.S(S,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:R,integrity:L,fetchPriority:j}):T==="script"&&f.d.X(S,{crossOrigin:R,integrity:L,fetchPriority:j,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},zn.preinitModule=function(S,v){if(typeof S=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var T=E(v.as,v.crossOrigin);f.d.M(S,{crossOrigin:T,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&f.d.M(S)},zn.preload=function(S,v){if(typeof S=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var T=v.as,R=E(T,v.crossOrigin);f.d.L(S,T,{crossOrigin:R,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},zn.preloadModule=function(S,v){if(typeof S=="string")if(v){var T=E(v.as,v.crossOrigin);f.d.m(S,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:T,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else f.d.m(S)},zn.requestFormReset=function(S){f.d.r(S)},zn.unstable_batchedUpdates=function(S,v){return S(v)},zn.useFormState=function(S,v,T){return b.H.useFormState(S,v,T)},zn.useFormStatus=function(){return b.H.useHostTransitionStatus()},zn.version="19.2.4",zn}var P1;function Xm(){if(P1)return qh.exports;P1=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(r){console.error(r)}}return o(),qh.exports=qm(),qh.exports}var F1;function Wm(){if(F1)return Wl;F1=1;var o=Ym(),r=lo(),l=Xm();function f(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function p(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function m(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function b(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function E(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function S(e){if(m(e)!==e)throw Error(f(188))}function v(e){var n=e.alternate;if(!n){if(n=m(e),n===null)throw Error(f(188));return n!==e?null:e}for(var s=e,h=n;;){var y=s.return;if(y===null)break;var w=y.alternate;if(w===null){if(h=y.return,h!==null){s=h;continue}break}if(y.child===w.child){for(w=y.child;w;){if(w===s)return S(y),e;if(w===h)return S(y),n;w=w.sibling}throw Error(f(188))}if(s.return!==h.return)s=y,h=w;else{for(var C=!1,M=y.child;M;){if(M===s){C=!0,s=y,h=w;break}if(M===h){C=!0,h=y,s=w;break}M=M.sibling}if(!C){for(M=w.child;M;){if(M===s){C=!0,s=w,h=y;break}if(M===h){C=!0,h=w,s=y;break}M=M.sibling}if(!C)throw Error(f(189))}}if(s.alternate!==h)throw Error(f(190))}if(s.tag!==3)throw Error(f(188));return s.stateNode.current===s?e:n}function T(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=T(e),n!==null)return n;e=e.sibling}return null}var R=Object.assign,L=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),H=Symbol.for("react.portal"),G=Symbol.for("react.fragment"),le=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),ae=Symbol.for("react.consumer"),J=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),Re=Symbol.for("react.suspense"),ve=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),Se=Symbol.for("react.lazy"),he=Symbol.for("react.activity"),wn=Symbol.for("react.memo_cache_sentinel"),Ue=Symbol.iterator;function Ee(e){return e===null||typeof e!="object"?null:(e=Ue&&e[Ue]||e["@@iterator"],typeof e=="function"?e:null)}var Be=Symbol.for("react.client.reference");function Ye(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Be?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case G:return"Fragment";case W:return"Profiler";case le:return"StrictMode";case Re:return"Suspense";case ve:return"SuspenseList";case he:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case H:return"Portal";case J:return e.displayName||"Context";case ae:return(e._context.displayName||"Context")+".Consumer";case $:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case K:return n=e.displayName||null,n!==null?n:Ye(e.type)||"Memo";case Se:n=e._payload,e=e._init;try{return Ye(e(n))}catch{}}return null}var te=Array.isArray,ne=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ke={pending:!1,data:null,method:null,action:null},Xe=[],Ze=-1;function V(e){return{current:e}}function oe(e){0>Ze||(e.current=Xe[Ze],Xe[Ze]=null,Ze--)}function be(e,n){Ze++,Xe[Ze]=e.current,e.current=n}var Ae=V(null),Ve=V(null),we=V(null),ft=V(null);function dt(e,n){switch(be(we,n),be(Ve,e),be(Ae,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?n1(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=n1(n),e=i1(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}oe(Ae),be(Ae,e)}function kt(){oe(Ae),oe(Ve),oe(we)}function ki(e){e.memoizedState!==null&&be(ft,e);var n=Ae.current,s=i1(n,e.type);n!==s&&(be(Ve,e),be(Ae,s))}function vn(e){Ve.current===e&&(oe(Ae),oe(Ve)),ft.current===e&&(oe(ft),Vl._currentValue=ke)}var kr,gt;function Xn(e){if(kr===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);kr=n&&n[1]||"",gt=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+kr+e+gt}var Wn=!1;function ur(e,n){if(!e||Wn)return"";Wn=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(n){var de=function(){throw Error()};if(Object.defineProperty(de.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(de,[])}catch(se){var ee=se}Reflect.construct(e,[],de)}else{try{de.call()}catch(se){ee=se}e.call(de.prototype)}}else{try{throw Error()}catch(se){ee=se}(de=e())&&typeof de.catch=="function"&&de.catch(function(){})}}catch(se){if(se&&ee&&typeof se.stack=="string")return[se.stack,ee.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=h.DetermineComponentFrameRoot(),C=w[0],M=w[1];if(C&&M){var U=C.split(`
`),Q=M.split(`
`);for(y=h=0;h<U.length&&!U[h].includes("DetermineComponentFrameRoot");)h++;for(;y<Q.length&&!Q[y].includes("DetermineComponentFrameRoot");)y++;if(h===U.length||y===Q.length)for(h=U.length-1,y=Q.length-1;1<=h&&0<=y&&U[h]!==Q[y];)y--;for(;1<=h&&0<=y;h--,y--)if(U[h]!==Q[y]){if(h!==1||y!==1)do if(h--,y--,0>y||U[h]!==Q[y]){var ce=`
`+U[h].replace(" at new "," at ");return e.displayName&&ce.includes("<anonymous>")&&(ce=ce.replace("<anonymous>",e.displayName)),ce}while(1<=h&&0<=y);break}}}finally{Wn=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?Xn(s):""}function bn(e,n){switch(e.tag){case 26:case 27:case 5:return Xn(e.type);case 16:return Xn("Lazy");case 13:return e.child!==n&&n!==null?Xn("Suspense Fallback"):Xn("Suspense");case 19:return Xn("SuspenseList");case 0:case 15:return ur(e.type,!1);case 11:return ur(e.type.render,!1);case 1:return ur(e.type,!0);case 31:return Xn("Activity");default:return""}}function Ct(e){try{var n="",s=null;do n+=bn(e,s),s=e,e=e.return;while(e);return n}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var it=Object.prototype.hasOwnProperty,jr=o.unstable_scheduleCallback,Te=o.unstable_cancelCallback,ts=o.unstable_shouldYield,co=o.unstable_requestPaint,Kt=o.unstable_now,el=o.unstable_getCurrentPriorityLevel,Zn=o.unstable_ImmediatePriority,tl=o.unstable_UserBlockingPriority,ai=o.unstable_NormalPriority,In=o.unstable_LowPriority,nl=o.unstable_IdlePriority,ns=o.log,qc=o.unstable_setDisableYieldValue,Ft=null,xe=null;function Dt(e){if(typeof ns=="function"&&qc(e),xe&&typeof xe.setStrictMode=="function")try{xe.setStrictMode(Ft,e)}catch{}}var Je=Math.clz32?Math.clz32:il,Wt=Math.log,Sa=Math.LN2;function il(e){return e>>>=0,e===0?32:31-(Wt(e)/Sa|0)|0}var _a=256,lt=262144,Ei=4194304;function Ki(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ca(e,n,s){var h=e.pendingLanes;if(h===0)return 0;var y=0,w=e.suspendedLanes,C=e.pingedLanes;e=e.warmLanes;var M=h&134217727;return M!==0?(h=M&~w,h!==0?y=Ki(h):(C&=M,C!==0?y=Ki(C):s||(s=M&~e,s!==0&&(y=Ki(s))))):(M=h&~w,M!==0?y=Ki(M):C!==0?y=Ki(C):s||(s=h&~e,s!==0&&(y=Ki(s)))),y===0?0:n!==0&&n!==y&&(n&w)===0&&(w=y&-y,s=n&-n,w>=s||w===32&&(s&4194048)!==0)?n:y}function Rn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function rl(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function An(){var e=Ei;return Ei<<=1,(Ei&62914560)===0&&(Ei=4194304),e}function Ji(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function $i(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Si(e,n,s,h,y,w){var C=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var M=e.entanglements,U=e.expirationTimes,Q=e.hiddenUpdates;for(s=C&~s;0<s;){var ce=31-Je(s),de=1<<ce;M[ce]=0,U[ce]=-1;var ee=Q[ce];if(ee!==null)for(Q[ce]=null,ce=0;ce<ee.length;ce++){var se=ee[ce];se!==null&&(se.lane&=-536870913)}s&=~de}h!==0&&uo(e,h,0),w!==0&&y===0&&e.tag!==0&&(e.suspendedLanes|=w&~(C&~n))}function uo(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var h=31-Je(n);e.entangledLanes|=n,e.entanglements[h]=e.entanglements[h]|1073741824|s&261930}function er(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var h=31-Je(s),y=1<<h;y&n|e[h]&n&&(e[h]|=n),s&=~y}}function is(e,n){var s=n&-n;return s=(s&42)!==0?1:Nn(s),(s&(e.suspendedLanes|n))!==0?0:s}function Nn(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ji(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Pn(){var e=fe.p;return e!==0?e:(e=window.event,e===void 0?32:C1(e.type))}function _e(e,n){var s=fe.p;try{return fe.p=e,n()}finally{fe.p=s}}var Fn=Math.random().toString(36).slice(2),ln="__reactFiber$"+Fn,Tt="__reactProps$"+Fn,si="__reactContainer$"+Fn,Ur="__reactEvents$"+Fn,rs="__reactListeners$"+Fn,_i="__reactHandles$"+Fn,ho="__reactResources$"+Fn,Ta="__reactMarker$"+Fn;function Qn(e){delete e[ln],delete e[Tt],delete e[Ur],delete e[rs],delete e[_i]}function $t(e){var n=e[ln];if(n)return n;for(var s=e.parentNode;s;){if(n=s[si]||s[ln]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=u1(e);e!==null;){if(s=e[ln])return s;e=u1(e)}return n}e=s,s=e.parentNode}return null}function vt(e){if(e=e[ln]||e[si]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function zr(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(f(33))}function Hn(e){var n=e[ho];return n||(n=e[ho]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function en(e){e[Ta]=!0}var ge=new Set,fo={};function Et(e,n){li(e,n),li(e+"Capture",n)}function li(e,n){for(fo[e]=n,e=0;e<n.length;e++)ge.add(n[e])}var Xc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),pt={},mt={};function rt(e){return it.call(mt,e)?!0:it.call(pt,e)?!1:Xc.test(e)?mt[e]=!0:(pt[e]=!0,!1)}function Pr(e,n,s){if(rt(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var h=n.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function Fr(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function oi(e,n,s,h){if(h===null)e.removeAttribute(s);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+h)}}function yt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ui(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Wc(e,n,s){var h=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var y=h.get,w=h.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return y.call(this)},set:function(C){s=""+C,w.call(this,C)}}),Object.defineProperty(e,n,{enumerable:h.enumerable}),{getValue:function(){return s},setValue:function(C){s=""+C},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Gt(e){if(!e._valueTracker){var n=Ui(e)?"checked":"value";e._valueTracker=Wc(e,n,""+e[n])}}function zi(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),h="";return e&&(h=Ui(e)?e.checked?"true":"false":e.value),e=h,e!==s?(n.setValue(e),!0):!1}function as(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Hr=/[\n"\\]/g;function nt(e){return e.replace(Hr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function fn(e,n,s,h,y,w,C,M){e.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?e.type=C:e.removeAttribute("type"),n!=null?C==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+yt(n)):e.value!==""+yt(n)&&(e.value=""+yt(n)):C!=="submit"&&C!=="reset"||e.removeAttribute("value"),n!=null?B(e,C,yt(n)):s!=null?B(e,C,yt(s)):h!=null&&e.removeAttribute("value"),y==null&&w!=null&&(e.defaultChecked=!!w),y!=null&&(e.checked=y&&typeof y!="function"&&typeof y!="symbol"),M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?e.name=""+yt(M):e.removeAttribute("name")}function X(e,n,s,h,y,w,C,M){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(e.type=w),n!=null||s!=null){if(!(w!=="submit"&&w!=="reset"||n!=null)){Gt(e);return}s=s!=null?""+yt(s):"",n=n!=null?""+yt(n):s,M||n===e.value||(e.value=n),e.defaultValue=n}h=h??y,h=typeof h!="function"&&typeof h!="symbol"&&!!h,e.checked=M?e.checked:!!h,e.defaultChecked=!!h,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(e.name=C),Gt(e)}function B(e,n,s){n==="number"&&as(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function Ie(e,n,s,h){if(e=e.options,n){n={};for(var y=0;y<s.length;y++)n["$"+s[y]]=!0;for(s=0;s<e.length;s++)y=n.hasOwnProperty("$"+e[s].value),e[s].selected!==y&&(e[s].selected=y),y&&h&&(e[s].defaultSelected=!0)}else{for(s=""+yt(s),n=null,y=0;y<e.length;y++){if(e[y].value===s){e[y].selected=!0,h&&(e[y].defaultSelected=!0);return}n!==null||e[y].disabled||(n=e[y])}n!==null&&(n.selected=!0)}}function on(e,n,s){if(n!=null&&(n=""+yt(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+yt(s):""}function Vn(e,n,s,h){if(n==null){if(h!=null){if(s!=null)throw Error(f(92));if(te(h)){if(1<h.length)throw Error(f(93));h=h[0]}s=h}s==null&&(s=""),n=s}s=yt(n),e.defaultValue=s,h=e.textContent,h===s&&h!==""&&h!==null&&(e.value=h),Gt(e)}function Vr(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var al=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Gn(e,n,s){var h=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?h?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":h?e.setProperty(n,s):typeof s!="number"||s===0||al.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function Le(e,n,s){if(n!=null&&typeof n!="object")throw Error(f(62));if(e=e.style,s!=null){for(var h in s)!s.hasOwnProperty(h)||n!=null&&n.hasOwnProperty(h)||(h.indexOf("--")===0?e.setProperty(h,""):h==="float"?e.cssFloat="":e[h]="");for(var y in n)h=n[y],n.hasOwnProperty(y)&&s[y]!==h&&Gn(e,y,h)}else for(var w in n)n.hasOwnProperty(w)&&Gn(e,w,n[w])}function jt(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var go=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Zc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Gr(e){return Zc.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Kn(){}var Na=null;function sl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Yt=null,Ci=null;function Pi(e){var n=vt(e);if(n&&(e=n.stateNode)){var s=e[Tt]||null;e:switch(e=n.stateNode,n.type){case"input":if(fn(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+nt(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var h=s[n];if(h!==e&&h.form===e.form){var y=h[Tt]||null;if(!y)throw Error(f(90));fn(h,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(n=0;n<s.length;n++)h=s[n],h.form===e.form&&zi(h)}break e;case"textarea":on(e,s.value,s.defaultValue);break e;case"select":n=s.value,n!=null&&Ie(e,!!s.multiple,n,!1)}}}var ze=!1;function mo(e,n,s){if(ze)return e(n,s);ze=!0;try{var h=e(n);return h}finally{if(ze=!1,(Yt!==null||Ci!==null)&&(sc(),Yt&&(n=Yt,e=Ci,Ci=Yt=null,Pi(n),e)))for(n=0;n<e.length;n++)Pi(e[n])}}function qe(e,n){var s=e.stateNode;if(s===null)return null;var h=s[Tt]||null;if(h===null)return null;s=h[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(e=e.type,h=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!h;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(f(231,n,typeof s));return s}var Ut=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ll=!1;if(Ut)try{var hr={};Object.defineProperty(hr,"passive",{get:function(){ll=!0}}),window.addEventListener("test",hr,hr),window.removeEventListener("test",hr,hr)}catch{ll=!1}var Fi=null,Hi=null,ss=null;function Yr(){if(ss)return ss;var e,n=Hi,s=n.length,h,y="value"in Fi?Fi.value:Fi.textContent,w=y.length;for(e=0;e<s&&n[e]===y[e];e++);var C=s-e;for(h=1;h<=C&&n[s-h]===y[w-h];h++);return ss=y.slice(e,1<h?1-h:void 0)}function tr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function nr(){return!0}function ol(){return!1}function dn(e){function n(s,h,y,w,C){this._reactName=s,this._targetInst=y,this.type=h,this.nativeEvent=w,this.target=C,this.currentTarget=null;for(var M in e)e.hasOwnProperty(M)&&(s=e[M],this[M]=s?s(w):w[M]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?nr:ol,this.isPropagationStopped=ol,this}return R(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=nr)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=nr)},persist:function(){},isPersistent:nr}),n}var ci={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},En=dn(ci),qr=R({},ci,{view:0,detail:0}),po=dn(qr),ls,cl,Oa,os=R({},qr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ia,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Oa&&(Oa&&e.type==="mousemove"?(ls=e.screenX-Oa.screenX,cl=e.screenY-Oa.screenY):cl=ls=0,Oa=e),ls)},movementY:function(e){return"movementY"in e?e.movementY:cl}}),bt=dn(os),yo=R({},os,{dataTransfer:0}),cs=dn(yo),ir=R({},qr,{relatedTarget:0}),ul=dn(ir),re=R({},ci,{animationName:0,elapsedTime:0,pseudoElement:0}),$e=dn(re),Sn=R({},ci,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),us=dn(Sn),xo=R({},ci,{data:0}),wo=dn(xo),Qc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Kc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cn(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=hl[e])?!!n[e]:!1}function Ia(){return cn}var Zt=R({},qr,{key:function(e){if(e.key){var n=Qc[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=tr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Kc[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ia,charCode:function(e){return e.type==="keypress"?tr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?tr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),hs=dn(Zt),fr=R({},os,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),St=dn(fr),Pe=R({},qr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ia}),Jc=dn(Pe),zt=R({},ci,{propertyName:0,elapsedTime:0,pseudoElement:0}),dr=dn(zt),Xr=R({},os,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),$c=dn(Xr),Ti=R({},ci,{newState:0,oldState:0}),fl=dn(Ti),vo=[9,13,27,32],Ra=Ut&&"CompositionEvent"in window,Wr=null;Ut&&"documentMode"in document&&(Wr=document.documentMode);var bo=Ut&&"TextEvent"in window&&!Wr,Ao=Ut&&(!Ra||Wr&&8<Wr&&11>=Wr),gr=" ",fs=!1;function Eo(e,n){switch(e){case"keyup":return vo.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zr(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Qr=!1;function rr(e,n){switch(e){case"compositionend":return Zr(n);case"keypress":return n.which!==32?null:(fs=!0,gr);case"textInput":return e=n.data,e===gr&&fs?null:e;default:return null}}function ds(e,n){if(Qr)return e==="compositionend"||!Ra&&Eo(e,n)?(e=Yr(),ss=Hi=Fi=null,Qr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ao&&n.locale!=="ko"?null:n.data;default:return null}}var Jn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dl(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Jn[e.type]:n==="textarea"}function ui(e,n,s,h){Yt?Ci?Ci.push(h):Ci=[h]:Yt=h,n=dc(n,"onChange"),0<n.length&&(s=new En("onChange","change",null,s,h),e.push({event:s,listeners:n}))}var Da=null,mr=null;function eu(e){Q0(e,0)}function Ma(e){var n=zr(e);if(zi(n))return e}function hi(e,n){if(e==="change")return n}var So=!1;if(Ut){var Ba;if(Ut){var pr="oninput"in document;if(!pr){var ot=document.createElement("div");ot.setAttribute("oninput","return;"),pr=typeof ot.oninput=="function"}Ba=pr}else Ba=!1;So=Ba&&(!document.documentMode||9<document.documentMode)}function La(){Da&&(Da.detachEvent("onpropertychange",N),mr=Da=null)}function N(e){if(e.propertyName==="value"&&Ma(mr)){var n=[];ui(n,mr,e,sl(e)),mo(eu,n)}}function t(e,n,s){e==="focusin"?(La(),Da=n,mr=s,Da.attachEvent("onpropertychange",N)):e==="focusout"&&La()}function i(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ma(mr)}function a(e,n){if(e==="click")return Ma(n)}function c(e,n){if(e==="input"||e==="change")return Ma(n)}function u(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var d=typeof Object.is=="function"?Object.is:u;function g(e,n){if(d(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),h=Object.keys(n);if(s.length!==h.length)return!1;for(h=0;h<s.length;h++){var y=s[h];if(!it.call(n,y)||!d(e[y],n[y]))return!1}return!0}function x(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function A(e,n){var s=x(e);e=0;for(var h;s;){if(s.nodeType===3){if(h=e+s.textContent.length,e<=n&&h>=n)return{node:s,offset:n-e};e=h}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=x(s)}}function _(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?_(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function O(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=as(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=as(e.document)}return n}function D(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var k=Ut&&"documentMode"in document&&11>=document.documentMode,z=null,P=null,q=null,ie=!1;function ye(e,n,s){var h=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;ie||z==null||z!==as(h)||(h=z,"selectionStart"in h&&D(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),q&&g(q,h)||(q=h,h=dc(P,"onSelect"),0<h.length&&(n=new En("onSelect","select",null,n,s),e.push({event:n,listeners:h}),n.target=z)))}function pe(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var me={animationend:pe("Animation","AnimationEnd"),animationiteration:pe("Animation","AnimationIteration"),animationstart:pe("Animation","AnimationStart"),transitionrun:pe("Transition","TransitionRun"),transitionstart:pe("Transition","TransitionStart"),transitioncancel:pe("Transition","TransitionCancel"),transitionend:pe("Transition","TransitionEnd")},tt={},We={};Ut&&(We=document.createElement("div").style,"AnimationEvent"in window||(delete me.animationend.animation,delete me.animationiteration.animation,delete me.animationstart.animation),"TransitionEvent"in window||delete me.transitionend.transition);function tn(e){if(tt[e])return tt[e];if(!me[e])return e;var n=me[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in We)return tt[e]=n[s];return e}var $n=tn("animationend"),Dn=tn("animationiteration"),_t=tn("animationstart"),_n=tn("transitionrun"),Yn=tn("transitionstart"),Kr=tn("transitioncancel"),yr=tn("transitionend"),_o=new Map,gl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");gl.push("scrollEnd");function Vi(e,n){_o.set(e,n),Et(n,[e])}var Co=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Ni=[],gs=0,tu=0;function To(){for(var e=gs,n=tu=gs=0;n<e;){var s=Ni[n];Ni[n++]=null;var h=Ni[n];Ni[n++]=null;var y=Ni[n];Ni[n++]=null;var w=Ni[n];if(Ni[n++]=null,h!==null&&y!==null){var C=h.pending;C===null?y.next=y:(y.next=C.next,C.next=y),h.pending=y}w!==0&&Rf(s,y,w)}}function No(e,n,s,h){Ni[gs++]=e,Ni[gs++]=n,Ni[gs++]=s,Ni[gs++]=h,tu|=h,e.lanes|=h,e=e.alternate,e!==null&&(e.lanes|=h)}function nu(e,n,s,h){return No(e,n,s,h),Oo(e)}function ka(e,n){return No(e,null,null,n),Oo(e)}function Rf(e,n,s){e.lanes|=s;var h=e.alternate;h!==null&&(h.lanes|=s);for(var y=!1,w=e.return;w!==null;)w.childLanes|=s,h=w.alternate,h!==null&&(h.childLanes|=s),w.tag===22&&(e=w.stateNode,e===null||e._visibility&1||(y=!0)),e=w,w=w.return;return e.tag===3?(w=e.stateNode,y&&n!==null&&(y=31-Je(s),e=w.hiddenUpdates,h=e[y],h===null?e[y]=[n]:h.push(n),n.lane=s|536870912),w):null}function Oo(e){if(50<kl)throw kl=0,hh=null,Error(f(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ms={};function E2(e,n,s,h){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fi(e,n,s,h){return new E2(e,n,s,h)}function iu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function xr(e,n){var s=e.alternate;return s===null?(s=fi(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Df(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Io(e,n,s,h,y,w){var C=0;if(h=e,typeof e=="function")iu(e)&&(C=1);else if(typeof e=="string")C=Nm(e,s,Ae.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case he:return e=fi(31,s,n,y),e.elementType=he,e.lanes=w,e;case G:return ja(s.children,y,w,n);case le:C=8,y|=24;break;case W:return e=fi(12,s,n,y|2),e.elementType=W,e.lanes=w,e;case Re:return e=fi(13,s,n,y),e.elementType=Re,e.lanes=w,e;case ve:return e=fi(19,s,n,y),e.elementType=ve,e.lanes=w,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case J:C=10;break e;case ae:C=9;break e;case $:C=11;break e;case K:C=14;break e;case Se:C=16,h=null;break e}C=29,s=Error(f(130,e===null?"null":typeof e,"")),h=null}return n=fi(C,s,n,y),n.elementType=e,n.type=h,n.lanes=w,n}function ja(e,n,s,h){return e=fi(7,e,h,n),e.lanes=s,e}function ru(e,n,s){return e=fi(6,e,null,n),e.lanes=s,e}function Mf(e){var n=fi(18,null,null,0);return n.stateNode=e,n}function au(e,n,s){return n=fi(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Bf=new WeakMap;function Oi(e,n){if(typeof e=="object"&&e!==null){var s=Bf.get(e);return s!==void 0?s:(n={value:e,source:n,stack:Ct(n)},Bf.set(e,n),n)}return{value:e,source:n,stack:Ct(n)}}var ps=[],ys=0,Ro=null,ml=0,Ii=[],Ri=0,Jr=null,ar=1,sr="";function wr(e,n){ps[ys++]=ml,ps[ys++]=Ro,Ro=e,ml=n}function Lf(e,n,s){Ii[Ri++]=ar,Ii[Ri++]=sr,Ii[Ri++]=Jr,Jr=e;var h=ar;e=sr;var y=32-Je(h)-1;h&=~(1<<y),s+=1;var w=32-Je(n)+y;if(30<w){var C=y-y%5;w=(h&(1<<C)-1).toString(32),h>>=C,y-=C,ar=1<<32-Je(n)+y|s<<y|h,sr=w+e}else ar=1<<w|s<<y|h,sr=e}function su(e){e.return!==null&&(wr(e,1),Lf(e,1,0))}function lu(e){for(;e===Ro;)Ro=ps[--ys],ps[ys]=null,ml=ps[--ys],ps[ys]=null;for(;e===Jr;)Jr=Ii[--Ri],Ii[Ri]=null,sr=Ii[--Ri],Ii[Ri]=null,ar=Ii[--Ri],Ii[Ri]=null}function kf(e,n){Ii[Ri++]=ar,Ii[Ri++]=sr,Ii[Ri++]=Jr,ar=n.id,sr=n.overflow,Jr=e}var Mn=null,qt=null,ht=!1,$r=null,Di=!1,ou=Error(f(519));function ea(e){var n=Error(f(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw pl(Oi(n,e)),ou}function jf(e){var n=e.stateNode,s=e.type,h=e.memoizedProps;switch(n[ln]=e,n[Tt]=h,s){case"dialog":st("cancel",n),st("close",n);break;case"iframe":case"object":case"embed":st("load",n);break;case"video":case"audio":for(s=0;s<Ul.length;s++)st(Ul[s],n);break;case"source":st("error",n);break;case"img":case"image":case"link":st("error",n),st("load",n);break;case"details":st("toggle",n);break;case"input":st("invalid",n),X(n,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":st("invalid",n);break;case"textarea":st("invalid",n),Vn(n,h.value,h.defaultValue,h.children)}s=h.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||h.suppressHydrationWarning===!0||e1(n.textContent,s)?(h.popover!=null&&(st("beforetoggle",n),st("toggle",n)),h.onScroll!=null&&st("scroll",n),h.onScrollEnd!=null&&st("scrollend",n),h.onClick!=null&&(n.onclick=Kn),n=!0):n=!1,n||ea(e,!0)}function Uf(e){for(Mn=e.return;Mn;)switch(Mn.tag){case 5:case 31:case 13:Di=!1;return;case 27:case 3:Di=!0;return;default:Mn=Mn.return}}function xs(e){if(e!==Mn)return!1;if(!ht)return Uf(e),ht=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||Ch(e.type,e.memoizedProps)),s=!s),s&&qt&&ea(e),Uf(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(f(317));qt=c1(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(f(317));qt=c1(e)}else n===27?(n=qt,ga(e.type)?(e=Rh,Rh=null,qt=e):qt=n):qt=Mn?Bi(e.stateNode.nextSibling):null;return!0}function Ua(){qt=Mn=null,ht=!1}function cu(){var e=$r;return e!==null&&(ii===null?ii=e:ii.push.apply(ii,e),$r=null),e}function pl(e){$r===null?$r=[e]:$r.push(e)}var uu=V(null),za=null,vr=null;function ta(e,n,s){be(uu,n._currentValue),n._currentValue=s}function br(e){e._currentValue=uu.current,oe(uu)}function hu(e,n,s){for(;e!==null;){var h=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,h!==null&&(h.childLanes|=n)):h!==null&&(h.childLanes&n)!==n&&(h.childLanes|=n),e===s)break;e=e.return}}function fu(e,n,s,h){var y=e.child;for(y!==null&&(y.return=e);y!==null;){var w=y.dependencies;if(w!==null){var C=y.child;w=w.firstContext;e:for(;w!==null;){var M=w;w=y;for(var U=0;U<n.length;U++)if(M.context===n[U]){w.lanes|=s,M=w.alternate,M!==null&&(M.lanes|=s),hu(w.return,s,e),h||(C=null);break e}w=M.next}}else if(y.tag===18){if(C=y.return,C===null)throw Error(f(341));C.lanes|=s,w=C.alternate,w!==null&&(w.lanes|=s),hu(C,s,e),C=null}else C=y.child;if(C!==null)C.return=y;else for(C=y;C!==null;){if(C===e){C=null;break}if(y=C.sibling,y!==null){y.return=C.return,C=y;break}C=C.return}y=C}}function ws(e,n,s,h){e=null;for(var y=n,w=!1;y!==null;){if(!w){if((y.flags&524288)!==0)w=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var C=y.alternate;if(C===null)throw Error(f(387));if(C=C.memoizedProps,C!==null){var M=y.type;d(y.pendingProps.value,C.value)||(e!==null?e.push(M):e=[M])}}else if(y===ft.current){if(C=y.alternate,C===null)throw Error(f(387));C.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(e!==null?e.push(Vl):e=[Vl])}y=y.return}e!==null&&fu(n,e,s,h),n.flags|=262144}function Do(e){for(e=e.firstContext;e!==null;){if(!d(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Pa(e){za=e,vr=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Bn(e){return zf(za,e)}function Mo(e,n){return za===null&&Pa(e),zf(e,n)}function zf(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},vr===null){if(e===null)throw Error(f(308));vr=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else vr=vr.next=n;return s}var S2=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,h){e.push(h)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},_2=o.unstable_scheduleCallback,C2=o.unstable_NormalPriority,gn={$$typeof:J,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function du(){return{controller:new S2,data:new Map,refCount:0}}function yl(e){e.refCount--,e.refCount===0&&_2(C2,function(){e.controller.abort()})}var xl=null,gu=0,vs=0,bs=null;function T2(e,n){if(xl===null){var s=xl=[];gu=0,vs=yh(),bs={status:"pending",value:void 0,then:function(h){s.push(h)}}}return gu++,n.then(Pf,Pf),n}function Pf(){if(--gu===0&&xl!==null){bs!==null&&(bs.status="fulfilled");var e=xl;xl=null,vs=0,bs=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function N2(e,n){var s=[],h={status:"pending",value:null,reason:null,then:function(y){s.push(y)}};return e.then(function(){h.status="fulfilled",h.value=n;for(var y=0;y<s.length;y++)(0,s[y])(n)},function(y){for(h.status="rejected",h.reason=y,y=0;y<s.length;y++)(0,s[y])(void 0)}),h}var Ff=ne.S;ne.S=function(e,n){S0=Kt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&T2(e,n),Ff!==null&&Ff(e,n)};var Fa=V(null);function mu(){var e=Fa.current;return e!==null?e:Pt.pooledCache}function Bo(e,n){n===null?be(Fa,Fa.current):be(Fa,n.pool)}function Hf(){var e=mu();return e===null?null:{parent:gn._currentValue,pool:e}}var As=Error(f(460)),pu=Error(f(474)),Lo=Error(f(542)),ko={then:function(){}};function Vf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Gf(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(Kn,Kn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,qf(e),e;default:if(typeof n.status=="string")n.then(Kn,Kn);else{if(e=Pt,e!==null&&100<e.shellSuspendCounter)throw Error(f(482));e=n,e.status="pending",e.then(function(h){if(n.status==="pending"){var y=n;y.status="fulfilled",y.value=h}},function(h){if(n.status==="pending"){var y=n;y.status="rejected",y.reason=h}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,qf(e),e}throw Va=n,As}}function Ha(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Va=s,As):s}}var Va=null;function Yf(){if(Va===null)throw Error(f(459));var e=Va;return Va=null,e}function qf(e){if(e===As||e===Lo)throw Error(f(483))}var Es=null,wl=0;function jo(e){var n=wl;return wl+=1,Es===null&&(Es=[]),Gf(Es,e,n)}function vl(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Uo(e,n){throw n.$$typeof===L?Error(f(525)):(e=Object.prototype.toString.call(n),Error(f(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Xf(e){function n(Y,F){if(e){var Z=Y.deletions;Z===null?(Y.deletions=[F],Y.flags|=16):Z.push(F)}}function s(Y,F){if(!e)return null;for(;F!==null;)n(Y,F),F=F.sibling;return null}function h(Y){for(var F=new Map;Y!==null;)Y.key!==null?F.set(Y.key,Y):F.set(Y.index,Y),Y=Y.sibling;return F}function y(Y,F){return Y=xr(Y,F),Y.index=0,Y.sibling=null,Y}function w(Y,F,Z){return Y.index=Z,e?(Z=Y.alternate,Z!==null?(Z=Z.index,Z<F?(Y.flags|=67108866,F):Z):(Y.flags|=67108866,F)):(Y.flags|=1048576,F)}function C(Y){return e&&Y.alternate===null&&(Y.flags|=67108866),Y}function M(Y,F,Z,ue){return F===null||F.tag!==6?(F=ru(Z,Y.mode,ue),F.return=Y,F):(F=y(F,Z),F.return=Y,F)}function U(Y,F,Z,ue){var je=Z.type;return je===G?ce(Y,F,Z.props.children,ue,Z.key):F!==null&&(F.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===Se&&Ha(je)===F.type)?(F=y(F,Z.props),vl(F,Z),F.return=Y,F):(F=Io(Z.type,Z.key,Z.props,null,Y.mode,ue),vl(F,Z),F.return=Y,F)}function Q(Y,F,Z,ue){return F===null||F.tag!==4||F.stateNode.containerInfo!==Z.containerInfo||F.stateNode.implementation!==Z.implementation?(F=au(Z,Y.mode,ue),F.return=Y,F):(F=y(F,Z.children||[]),F.return=Y,F)}function ce(Y,F,Z,ue,je){return F===null||F.tag!==7?(F=ja(Z,Y.mode,ue,je),F.return=Y,F):(F=y(F,Z),F.return=Y,F)}function de(Y,F,Z){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return F=ru(""+F,Y.mode,Z),F.return=Y,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case j:return Z=Io(F.type,F.key,F.props,null,Y.mode,Z),vl(Z,F),Z.return=Y,Z;case H:return F=au(F,Y.mode,Z),F.return=Y,F;case Se:return F=Ha(F),de(Y,F,Z)}if(te(F)||Ee(F))return F=ja(F,Y.mode,Z,null),F.return=Y,F;if(typeof F.then=="function")return de(Y,jo(F),Z);if(F.$$typeof===J)return de(Y,Mo(Y,F),Z);Uo(Y,F)}return null}function ee(Y,F,Z,ue){var je=F!==null?F.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return je!==null?null:M(Y,F,""+Z,ue);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case j:return Z.key===je?U(Y,F,Z,ue):null;case H:return Z.key===je?Q(Y,F,Z,ue):null;case Se:return Z=Ha(Z),ee(Y,F,Z,ue)}if(te(Z)||Ee(Z))return je!==null?null:ce(Y,F,Z,ue,null);if(typeof Z.then=="function")return ee(Y,F,jo(Z),ue);if(Z.$$typeof===J)return ee(Y,F,Mo(Y,Z),ue);Uo(Y,Z)}return null}function se(Y,F,Z,ue,je){if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return Y=Y.get(Z)||null,M(F,Y,""+ue,je);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case j:return Y=Y.get(ue.key===null?Z:ue.key)||null,U(F,Y,ue,je);case H:return Y=Y.get(ue.key===null?Z:ue.key)||null,Q(F,Y,ue,je);case Se:return ue=Ha(ue),se(Y,F,Z,ue,je)}if(te(ue)||Ee(ue))return Y=Y.get(Z)||null,ce(F,Y,ue,je,null);if(typeof ue.then=="function")return se(Y,F,Z,jo(ue),je);if(ue.$$typeof===J)return se(Y,F,Z,Mo(F,ue),je);Uo(F,ue)}return null}function Ne(Y,F,Z,ue){for(var je=null,xt=null,De=F,et=F=0,ut=null;De!==null&&et<Z.length;et++){De.index>et?(ut=De,De=null):ut=De.sibling;var wt=ee(Y,De,Z[et],ue);if(wt===null){De===null&&(De=ut);break}e&&De&&wt.alternate===null&&n(Y,De),F=w(wt,F,et),xt===null?je=wt:xt.sibling=wt,xt=wt,De=ut}if(et===Z.length)return s(Y,De),ht&&wr(Y,et),je;if(De===null){for(;et<Z.length;et++)De=de(Y,Z[et],ue),De!==null&&(F=w(De,F,et),xt===null?je=De:xt.sibling=De,xt=De);return ht&&wr(Y,et),je}for(De=h(De);et<Z.length;et++)ut=se(De,Y,et,Z[et],ue),ut!==null&&(e&&ut.alternate!==null&&De.delete(ut.key===null?et:ut.key),F=w(ut,F,et),xt===null?je=ut:xt.sibling=ut,xt=ut);return e&&De.forEach(function(wa){return n(Y,wa)}),ht&&wr(Y,et),je}function Fe(Y,F,Z,ue){if(Z==null)throw Error(f(151));for(var je=null,xt=null,De=F,et=F=0,ut=null,wt=Z.next();De!==null&&!wt.done;et++,wt=Z.next()){De.index>et?(ut=De,De=null):ut=De.sibling;var wa=ee(Y,De,wt.value,ue);if(wa===null){De===null&&(De=ut);break}e&&De&&wa.alternate===null&&n(Y,De),F=w(wa,F,et),xt===null?je=wa:xt.sibling=wa,xt=wa,De=ut}if(wt.done)return s(Y,De),ht&&wr(Y,et),je;if(De===null){for(;!wt.done;et++,wt=Z.next())wt=de(Y,wt.value,ue),wt!==null&&(F=w(wt,F,et),xt===null?je=wt:xt.sibling=wt,xt=wt);return ht&&wr(Y,et),je}for(De=h(De);!wt.done;et++,wt=Z.next())wt=se(De,Y,et,wt.value,ue),wt!==null&&(e&&wt.alternate!==null&&De.delete(wt.key===null?et:wt.key),F=w(wt,F,et),xt===null?je=wt:xt.sibling=wt,xt=wt);return e&&De.forEach(function(zm){return n(Y,zm)}),ht&&wr(Y,et),je}function Lt(Y,F,Z,ue){if(typeof Z=="object"&&Z!==null&&Z.type===G&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case j:e:{for(var je=Z.key;F!==null;){if(F.key===je){if(je=Z.type,je===G){if(F.tag===7){s(Y,F.sibling),ue=y(F,Z.props.children),ue.return=Y,Y=ue;break e}}else if(F.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===Se&&Ha(je)===F.type){s(Y,F.sibling),ue=y(F,Z.props),vl(ue,Z),ue.return=Y,Y=ue;break e}s(Y,F);break}else n(Y,F);F=F.sibling}Z.type===G?(ue=ja(Z.props.children,Y.mode,ue,Z.key),ue.return=Y,Y=ue):(ue=Io(Z.type,Z.key,Z.props,null,Y.mode,ue),vl(ue,Z),ue.return=Y,Y=ue)}return C(Y);case H:e:{for(je=Z.key;F!==null;){if(F.key===je)if(F.tag===4&&F.stateNode.containerInfo===Z.containerInfo&&F.stateNode.implementation===Z.implementation){s(Y,F.sibling),ue=y(F,Z.children||[]),ue.return=Y,Y=ue;break e}else{s(Y,F);break}else n(Y,F);F=F.sibling}ue=au(Z,Y.mode,ue),ue.return=Y,Y=ue}return C(Y);case Se:return Z=Ha(Z),Lt(Y,F,Z,ue)}if(te(Z))return Ne(Y,F,Z,ue);if(Ee(Z)){if(je=Ee(Z),typeof je!="function")throw Error(f(150));return Z=je.call(Z),Fe(Y,F,Z,ue)}if(typeof Z.then=="function")return Lt(Y,F,jo(Z),ue);if(Z.$$typeof===J)return Lt(Y,F,Mo(Y,Z),ue);Uo(Y,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,F!==null&&F.tag===6?(s(Y,F.sibling),ue=y(F,Z),ue.return=Y,Y=ue):(s(Y,F),ue=ru(Z,Y.mode,ue),ue.return=Y,Y=ue),C(Y)):s(Y,F)}return function(Y,F,Z,ue){try{wl=0;var je=Lt(Y,F,Z,ue);return Es=null,je}catch(De){if(De===As||De===Lo)throw De;var xt=fi(29,De,null,Y.mode);return xt.lanes=ue,xt.return=Y,xt}}}var Ga=Xf(!0),Wf=Xf(!1),na=!1;function yu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function xu(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ia(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ra(e,n,s){var h=e.updateQueue;if(h===null)return null;if(h=h.shared,(At&2)!==0){var y=h.pending;return y===null?n.next=n:(n.next=y.next,y.next=n),h.pending=n,n=Oo(e),Rf(e,null,s),n}return No(e,h,n,s),Oo(e)}function bl(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var h=n.lanes;h&=e.pendingLanes,s|=h,n.lanes=s,er(e,s)}}function wu(e,n){var s=e.updateQueue,h=e.alternate;if(h!==null&&(h=h.updateQueue,s===h)){var y=null,w=null;if(s=s.firstBaseUpdate,s!==null){do{var C={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};w===null?y=w=C:w=w.next=C,s=s.next}while(s!==null);w===null?y=w=n:w=w.next=n}else y=w=n;s={baseState:h.baseState,firstBaseUpdate:y,lastBaseUpdate:w,shared:h.shared,callbacks:h.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var vu=!1;function Al(){if(vu){var e=bs;if(e!==null)throw e}}function El(e,n,s,h){vu=!1;var y=e.updateQueue;na=!1;var w=y.firstBaseUpdate,C=y.lastBaseUpdate,M=y.shared.pending;if(M!==null){y.shared.pending=null;var U=M,Q=U.next;U.next=null,C===null?w=Q:C.next=Q,C=U;var ce=e.alternate;ce!==null&&(ce=ce.updateQueue,M=ce.lastBaseUpdate,M!==C&&(M===null?ce.firstBaseUpdate=Q:M.next=Q,ce.lastBaseUpdate=U))}if(w!==null){var de=y.baseState;C=0,ce=Q=U=null,M=w;do{var ee=M.lane&-536870913,se=ee!==M.lane;if(se?(ct&ee)===ee:(h&ee)===ee){ee!==0&&ee===vs&&(vu=!0),ce!==null&&(ce=ce.next={lane:0,tag:M.tag,payload:M.payload,callback:null,next:null});e:{var Ne=e,Fe=M;ee=n;var Lt=s;switch(Fe.tag){case 1:if(Ne=Fe.payload,typeof Ne=="function"){de=Ne.call(Lt,de,ee);break e}de=Ne;break e;case 3:Ne.flags=Ne.flags&-65537|128;case 0:if(Ne=Fe.payload,ee=typeof Ne=="function"?Ne.call(Lt,de,ee):Ne,ee==null)break e;de=R({},de,ee);break e;case 2:na=!0}}ee=M.callback,ee!==null&&(e.flags|=64,se&&(e.flags|=8192),se=y.callbacks,se===null?y.callbacks=[ee]:se.push(ee))}else se={lane:ee,tag:M.tag,payload:M.payload,callback:M.callback,next:null},ce===null?(Q=ce=se,U=de):ce=ce.next=se,C|=ee;if(M=M.next,M===null){if(M=y.shared.pending,M===null)break;se=M,M=se.next,se.next=null,y.lastBaseUpdate=se,y.shared.pending=null}}while(!0);ce===null&&(U=de),y.baseState=U,y.firstBaseUpdate=Q,y.lastBaseUpdate=ce,w===null&&(y.shared.lanes=0),ca|=C,e.lanes=C,e.memoizedState=de}}function Zf(e,n){if(typeof e!="function")throw Error(f(191,e));e.call(n)}function Qf(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Zf(s[e],n)}var Ss=V(null),zo=V(0);function Kf(e,n){e=Ir,be(zo,e),be(Ss,n),Ir=e|n.baseLanes}function bu(){be(zo,Ir),be(Ss,Ss.current)}function Au(){Ir=zo.current,oe(Ss),oe(zo)}var di=V(null),Mi=null;function aa(e){var n=e.alternate;be(un,un.current&1),be(di,e),Mi===null&&(n===null||Ss.current!==null||n.memoizedState!==null)&&(Mi=e)}function Eu(e){be(un,un.current),be(di,e),Mi===null&&(Mi=e)}function Jf(e){e.tag===22?(be(un,un.current),be(di,e),Mi===null&&(Mi=e)):sa()}function sa(){be(un,un.current),be(di,di.current)}function gi(e){oe(di),Mi===e&&(Mi=null),oe(un)}var un=V(0);function Po(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Oh(s)||Ih(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Ar=0,Ke=null,Mt=null,mn=null,Fo=!1,_s=!1,Ya=!1,Ho=0,Sl=0,Cs=null,O2=0;function nn(){throw Error(f(321))}function Su(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!d(e[s],n[s]))return!1;return!0}function _u(e,n,s,h,y,w){return Ar=w,Ke=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,ne.H=e===null||e.memoizedState===null?Ld:Pu,Ya=!1,w=s(h,y),Ya=!1,_s&&(w=ed(n,s,h,y)),$f(e),w}function $f(e){ne.H=Tl;var n=Mt!==null&&Mt.next!==null;if(Ar=0,mn=Mt=Ke=null,Fo=!1,Sl=0,Cs=null,n)throw Error(f(300));e===null||pn||(e=e.dependencies,e!==null&&Do(e)&&(pn=!0))}function ed(e,n,s,h){Ke=e;var y=0;do{if(_s&&(Cs=null),Sl=0,_s=!1,25<=y)throw Error(f(301));if(y+=1,mn=Mt=null,e.updateQueue!=null){var w=e.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}ne.H=kd,w=n(s,h)}while(_s);return w}function I2(){var e=ne.H,n=e.useState()[0];return n=typeof n.then=="function"?_l(n):n,e=e.useState()[0],(Mt!==null?Mt.memoizedState:null)!==e&&(Ke.flags|=1024),n}function Cu(){var e=Ho!==0;return Ho=0,e}function Tu(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function Nu(e){if(Fo){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Fo=!1}Ar=0,mn=Mt=Ke=null,_s=!1,Sl=Ho=0,Cs=null}function qn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mn===null?Ke.memoizedState=mn=e:mn=mn.next=e,mn}function hn(){if(Mt===null){var e=Ke.alternate;e=e!==null?e.memoizedState:null}else e=Mt.next;var n=mn===null?Ke.memoizedState:mn.next;if(n!==null)mn=n,Mt=e;else{if(e===null)throw Ke.alternate===null?Error(f(467)):Error(f(310));Mt=e,e={memoizedState:Mt.memoizedState,baseState:Mt.baseState,baseQueue:Mt.baseQueue,queue:Mt.queue,next:null},mn===null?Ke.memoizedState=mn=e:mn=mn.next=e}return mn}function Vo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function _l(e){var n=Sl;return Sl+=1,Cs===null&&(Cs=[]),e=Gf(Cs,e,n),n=Ke,(mn===null?n.memoizedState:mn.next)===null&&(n=n.alternate,ne.H=n===null||n.memoizedState===null?Ld:Pu),e}function Go(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return _l(e);if(e.$$typeof===J)return Bn(e)}throw Error(f(438,String(e)))}function Ou(e){var n=null,s=Ke.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var h=Ke.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(n={data:h.data.map(function(y){return y.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Vo(),Ke.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),h=0;h<e;h++)s[h]=wn;return n.index++,s}function Er(e,n){return typeof n=="function"?n(e):n}function Yo(e){var n=hn();return Iu(n,Mt,e)}function Iu(e,n,s){var h=e.queue;if(h===null)throw Error(f(311));h.lastRenderedReducer=s;var y=e.baseQueue,w=h.pending;if(w!==null){if(y!==null){var C=y.next;y.next=w.next,w.next=C}n.baseQueue=y=w,h.pending=null}if(w=e.baseState,y===null)e.memoizedState=w;else{n=y.next;var M=C=null,U=null,Q=n,ce=!1;do{var de=Q.lane&-536870913;if(de!==Q.lane?(ct&de)===de:(Ar&de)===de){var ee=Q.revertLane;if(ee===0)U!==null&&(U=U.next={lane:0,revertLane:0,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),de===vs&&(ce=!0);else if((Ar&ee)===ee){Q=Q.next,ee===vs&&(ce=!0);continue}else de={lane:0,revertLane:Q.revertLane,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},U===null?(M=U=de,C=w):U=U.next=de,Ke.lanes|=ee,ca|=ee;de=Q.action,Ya&&s(w,de),w=Q.hasEagerState?Q.eagerState:s(w,de)}else ee={lane:de,revertLane:Q.revertLane,gesture:Q.gesture,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},U===null?(M=U=ee,C=w):U=U.next=ee,Ke.lanes|=de,ca|=de;Q=Q.next}while(Q!==null&&Q!==n);if(U===null?C=w:U.next=M,!d(w,e.memoizedState)&&(pn=!0,ce&&(s=bs,s!==null)))throw s;e.memoizedState=w,e.baseState=C,e.baseQueue=U,h.lastRenderedState=w}return y===null&&(h.lanes=0),[e.memoizedState,h.dispatch]}function Ru(e){var n=hn(),s=n.queue;if(s===null)throw Error(f(311));s.lastRenderedReducer=e;var h=s.dispatch,y=s.pending,w=n.memoizedState;if(y!==null){s.pending=null;var C=y=y.next;do w=e(w,C.action),C=C.next;while(C!==y);d(w,n.memoizedState)||(pn=!0),n.memoizedState=w,n.baseQueue===null&&(n.baseState=w),s.lastRenderedState=w}return[w,h]}function td(e,n,s){var h=Ke,y=hn(),w=ht;if(w){if(s===void 0)throw Error(f(407));s=s()}else s=n();var C=!d((Mt||y).memoizedState,s);if(C&&(y.memoizedState=s,pn=!0),y=y.queue,Bu(rd.bind(null,h,y,e),[e]),y.getSnapshot!==n||C||mn!==null&&mn.memoizedState.tag&1){if(h.flags|=2048,Ts(9,{destroy:void 0},id.bind(null,h,y,s,n),null),Pt===null)throw Error(f(349));w||(Ar&127)!==0||nd(h,n,s)}return s}function nd(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=Ke.updateQueue,n===null?(n=Vo(),Ke.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function id(e,n,s,h){n.value=s,n.getSnapshot=h,ad(n)&&sd(e)}function rd(e,n,s){return s(function(){ad(n)&&sd(e)})}function ad(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!d(e,s)}catch{return!0}}function sd(e){var n=ka(e,2);n!==null&&ri(n,e,2)}function Du(e){var n=qn();if(typeof e=="function"){var s=e;if(e=s(),Ya){Dt(!0);try{s()}finally{Dt(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Er,lastRenderedState:e},n}function ld(e,n,s,h){return e.baseState=s,Iu(e,Mt,typeof h=="function"?h:Er)}function R2(e,n,s,h,y){if(Wo(e))throw Error(f(485));if(e=n.action,e!==null){var w={payload:y,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){w.listeners.push(C)}};ne.T!==null?s(!0):w.isTransition=!1,h(w),s=n.pending,s===null?(w.next=n.pending=w,od(n,w)):(w.next=s.next,n.pending=s.next=w)}}function od(e,n){var s=n.action,h=n.payload,y=e.state;if(n.isTransition){var w=ne.T,C={};ne.T=C;try{var M=s(y,h),U=ne.S;U!==null&&U(C,M),cd(e,n,M)}catch(Q){Mu(e,n,Q)}finally{w!==null&&C.types!==null&&(w.types=C.types),ne.T=w}}else try{w=s(y,h),cd(e,n,w)}catch(Q){Mu(e,n,Q)}}function cd(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(h){ud(e,n,h)},function(h){return Mu(e,n,h)}):ud(e,n,s)}function ud(e,n,s){n.status="fulfilled",n.value=s,hd(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,od(e,s)))}function Mu(e,n,s){var h=e.pending;if(e.pending=null,h!==null){h=h.next;do n.status="rejected",n.reason=s,hd(n),n=n.next;while(n!==h)}e.action=null}function hd(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function fd(e,n){return n}function dd(e,n){if(ht){var s=Pt.formState;if(s!==null){e:{var h=Ke;if(ht){if(qt){t:{for(var y=qt,w=Di;y.nodeType!==8;){if(!w){y=null;break t}if(y=Bi(y.nextSibling),y===null){y=null;break t}}w=y.data,y=w==="F!"||w==="F"?y:null}if(y){qt=Bi(y.nextSibling),h=y.data==="F!";break e}}ea(h)}h=!1}h&&(n=s[0])}}return s=qn(),s.memoizedState=s.baseState=n,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fd,lastRenderedState:n},s.queue=h,s=Dd.bind(null,Ke,h),h.dispatch=s,h=Du(!1),w=zu.bind(null,Ke,!1,h.queue),h=qn(),y={state:n,dispatch:null,action:e,pending:null},h.queue=y,s=R2.bind(null,Ke,y,w,s),y.dispatch=s,h.memoizedState=e,[n,s,!1]}function gd(e){var n=hn();return md(n,Mt,e)}function md(e,n,s){if(n=Iu(e,n,fd)[0],e=Yo(Er)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var h=_l(n)}catch(C){throw C===As?Lo:C}else h=n;n=hn();var y=n.queue,w=y.dispatch;return s!==n.memoizedState&&(Ke.flags|=2048,Ts(9,{destroy:void 0},D2.bind(null,y,s),null)),[h,w,e]}function D2(e,n){e.action=n}function pd(e){var n=hn(),s=Mt;if(s!==null)return md(n,s,e);hn(),n=n.memoizedState,s=hn();var h=s.queue.dispatch;return s.memoizedState=e,[n,h,!1]}function Ts(e,n,s,h){return e={tag:e,create:s,deps:h,inst:n,next:null},n=Ke.updateQueue,n===null&&(n=Vo(),Ke.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(h=s.next,s.next=e,e.next=h,n.lastEffect=e),e}function yd(){return hn().memoizedState}function qo(e,n,s,h){var y=qn();Ke.flags|=e,y.memoizedState=Ts(1|n,{destroy:void 0},s,h===void 0?null:h)}function Xo(e,n,s,h){var y=hn();h=h===void 0?null:h;var w=y.memoizedState.inst;Mt!==null&&h!==null&&Su(h,Mt.memoizedState.deps)?y.memoizedState=Ts(n,w,s,h):(Ke.flags|=e,y.memoizedState=Ts(1|n,w,s,h))}function xd(e,n){qo(8390656,8,e,n)}function Bu(e,n){Xo(2048,8,e,n)}function M2(e){Ke.flags|=4;var n=Ke.updateQueue;if(n===null)n=Vo(),Ke.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function wd(e){var n=hn().memoizedState;return M2({ref:n,nextImpl:e}),function(){if((At&2)!==0)throw Error(f(440));return n.impl.apply(void 0,arguments)}}function vd(e,n){return Xo(4,2,e,n)}function bd(e,n){return Xo(4,4,e,n)}function Ad(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Ed(e,n,s){s=s!=null?s.concat([e]):null,Xo(4,4,Ad.bind(null,n,e),s)}function Lu(){}function Sd(e,n){var s=hn();n=n===void 0?null:n;var h=s.memoizedState;return n!==null&&Su(n,h[1])?h[0]:(s.memoizedState=[e,n],e)}function _d(e,n){var s=hn();n=n===void 0?null:n;var h=s.memoizedState;if(n!==null&&Su(n,h[1]))return h[0];if(h=e(),Ya){Dt(!0);try{e()}finally{Dt(!1)}}return s.memoizedState=[h,n],h}function ku(e,n,s){return s===void 0||(Ar&1073741824)!==0&&(ct&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=C0(),Ke.lanes|=e,ca|=e,s)}function Cd(e,n,s,h){return d(s,n)?s:Ss.current!==null?(e=ku(e,s,h),d(e,n)||(pn=!0),e):(Ar&42)===0||(Ar&1073741824)!==0&&(ct&261930)===0?(pn=!0,e.memoizedState=s):(e=C0(),Ke.lanes|=e,ca|=e,n)}function Td(e,n,s,h,y){var w=fe.p;fe.p=w!==0&&8>w?w:8;var C=ne.T,M={};ne.T=M,zu(e,!1,n,s);try{var U=y(),Q=ne.S;if(Q!==null&&Q(M,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var ce=N2(U,h);Cl(e,n,ce,yi(e))}else Cl(e,n,h,yi(e))}catch(de){Cl(e,n,{then:function(){},status:"rejected",reason:de},yi())}finally{fe.p=w,C!==null&&M.types!==null&&(C.types=M.types),ne.T=C}}function B2(){}function ju(e,n,s,h){if(e.tag!==5)throw Error(f(476));var y=Nd(e).queue;Td(e,y,n,ke,s===null?B2:function(){return Od(e),s(h)})}function Nd(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ke,baseState:ke,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Er,lastRenderedState:ke},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Er,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Od(e){var n=Nd(e);n.next===null&&(n=e.alternate.memoizedState),Cl(e,n.next.queue,{},yi())}function Uu(){return Bn(Vl)}function Id(){return hn().memoizedState}function Rd(){return hn().memoizedState}function L2(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=yi();e=ia(s);var h=ra(n,e,s);h!==null&&(ri(h,n,s),bl(h,n,s)),n={cache:du()},e.payload=n;return}n=n.return}}function k2(e,n,s){var h=yi();s={lane:h,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Wo(e)?Md(n,s):(s=nu(e,n,s,h),s!==null&&(ri(s,e,h),Bd(s,n,h)))}function Dd(e,n,s){var h=yi();Cl(e,n,s,h)}function Cl(e,n,s,h){var y={lane:h,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Wo(e))Md(n,y);else{var w=e.alternate;if(e.lanes===0&&(w===null||w.lanes===0)&&(w=n.lastRenderedReducer,w!==null))try{var C=n.lastRenderedState,M=w(C,s);if(y.hasEagerState=!0,y.eagerState=M,d(M,C))return No(e,n,y,0),Pt===null&&To(),!1}catch{}if(s=nu(e,n,y,h),s!==null)return ri(s,e,h),Bd(s,n,h),!0}return!1}function zu(e,n,s,h){if(h={lane:2,revertLane:yh(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},Wo(e)){if(n)throw Error(f(479))}else n=nu(e,s,h,2),n!==null&&ri(n,e,2)}function Wo(e){var n=e.alternate;return e===Ke||n!==null&&n===Ke}function Md(e,n){_s=Fo=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function Bd(e,n,s){if((s&4194048)!==0){var h=n.lanes;h&=e.pendingLanes,s|=h,n.lanes=s,er(e,s)}}var Tl={readContext:Bn,use:Go,useCallback:nn,useContext:nn,useEffect:nn,useImperativeHandle:nn,useLayoutEffect:nn,useInsertionEffect:nn,useMemo:nn,useReducer:nn,useRef:nn,useState:nn,useDebugValue:nn,useDeferredValue:nn,useTransition:nn,useSyncExternalStore:nn,useId:nn,useHostTransitionStatus:nn,useFormState:nn,useActionState:nn,useOptimistic:nn,useMemoCache:nn,useCacheRefresh:nn};Tl.useEffectEvent=nn;var Ld={readContext:Bn,use:Go,useCallback:function(e,n){return qn().memoizedState=[e,n===void 0?null:n],e},useContext:Bn,useEffect:xd,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,qo(4194308,4,Ad.bind(null,n,e),s)},useLayoutEffect:function(e,n){return qo(4194308,4,e,n)},useInsertionEffect:function(e,n){qo(4,2,e,n)},useMemo:function(e,n){var s=qn();n=n===void 0?null:n;var h=e();if(Ya){Dt(!0);try{e()}finally{Dt(!1)}}return s.memoizedState=[h,n],h},useReducer:function(e,n,s){var h=qn();if(s!==void 0){var y=s(n);if(Ya){Dt(!0);try{s(n)}finally{Dt(!1)}}}else y=n;return h.memoizedState=h.baseState=y,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:y},h.queue=e,e=e.dispatch=k2.bind(null,Ke,e),[h.memoizedState,e]},useRef:function(e){var n=qn();return e={current:e},n.memoizedState=e},useState:function(e){e=Du(e);var n=e.queue,s=Dd.bind(null,Ke,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:Lu,useDeferredValue:function(e,n){var s=qn();return ku(s,e,n)},useTransition:function(){var e=Du(!1);return e=Td.bind(null,Ke,e.queue,!0,!1),qn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var h=Ke,y=qn();if(ht){if(s===void 0)throw Error(f(407));s=s()}else{if(s=n(),Pt===null)throw Error(f(349));(ct&127)!==0||nd(h,n,s)}y.memoizedState=s;var w={value:s,getSnapshot:n};return y.queue=w,xd(rd.bind(null,h,w,e),[e]),h.flags|=2048,Ts(9,{destroy:void 0},id.bind(null,h,w,s,n),null),s},useId:function(){var e=qn(),n=Pt.identifierPrefix;if(ht){var s=sr,h=ar;s=(h&~(1<<32-Je(h)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Ho++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=O2++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Uu,useFormState:dd,useActionState:dd,useOptimistic:function(e){var n=qn();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=zu.bind(null,Ke,!0,s),s.dispatch=n,[e,n]},useMemoCache:Ou,useCacheRefresh:function(){return qn().memoizedState=L2.bind(null,Ke)},useEffectEvent:function(e){var n=qn(),s={impl:e};return n.memoizedState=s,function(){if((At&2)!==0)throw Error(f(440));return s.impl.apply(void 0,arguments)}}},Pu={readContext:Bn,use:Go,useCallback:Sd,useContext:Bn,useEffect:Bu,useImperativeHandle:Ed,useInsertionEffect:vd,useLayoutEffect:bd,useMemo:_d,useReducer:Yo,useRef:yd,useState:function(){return Yo(Er)},useDebugValue:Lu,useDeferredValue:function(e,n){var s=hn();return Cd(s,Mt.memoizedState,e,n)},useTransition:function(){var e=Yo(Er)[0],n=hn().memoizedState;return[typeof e=="boolean"?e:_l(e),n]},useSyncExternalStore:td,useId:Id,useHostTransitionStatus:Uu,useFormState:gd,useActionState:gd,useOptimistic:function(e,n){var s=hn();return ld(s,Mt,e,n)},useMemoCache:Ou,useCacheRefresh:Rd};Pu.useEffectEvent=wd;var kd={readContext:Bn,use:Go,useCallback:Sd,useContext:Bn,useEffect:Bu,useImperativeHandle:Ed,useInsertionEffect:vd,useLayoutEffect:bd,useMemo:_d,useReducer:Ru,useRef:yd,useState:function(){return Ru(Er)},useDebugValue:Lu,useDeferredValue:function(e,n){var s=hn();return Mt===null?ku(s,e,n):Cd(s,Mt.memoizedState,e,n)},useTransition:function(){var e=Ru(Er)[0],n=hn().memoizedState;return[typeof e=="boolean"?e:_l(e),n]},useSyncExternalStore:td,useId:Id,useHostTransitionStatus:Uu,useFormState:pd,useActionState:pd,useOptimistic:function(e,n){var s=hn();return Mt!==null?ld(s,Mt,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:Ou,useCacheRefresh:Rd};kd.useEffectEvent=wd;function Fu(e,n,s,h){n=e.memoizedState,s=s(h,n),s=s==null?n:R({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Hu={enqueueSetState:function(e,n,s){e=e._reactInternals;var h=yi(),y=ia(h);y.payload=n,s!=null&&(y.callback=s),n=ra(e,y,h),n!==null&&(ri(n,e,h),bl(n,e,h))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var h=yi(),y=ia(h);y.tag=1,y.payload=n,s!=null&&(y.callback=s),n=ra(e,y,h),n!==null&&(ri(n,e,h),bl(n,e,h))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=yi(),h=ia(s);h.tag=2,n!=null&&(h.callback=n),n=ra(e,h,s),n!==null&&(ri(n,e,s),bl(n,e,s))}};function jd(e,n,s,h,y,w,C){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(h,w,C):n.prototype&&n.prototype.isPureReactComponent?!g(s,h)||!g(y,w):!0}function Ud(e,n,s,h){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,h),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,h),n.state!==e&&Hu.enqueueReplaceState(n,n.state,null)}function qa(e,n){var s=n;if("ref"in n){s={};for(var h in n)h!=="ref"&&(s[h]=n[h])}if(e=e.defaultProps){s===n&&(s=R({},s));for(var y in e)s[y]===void 0&&(s[y]=e[y])}return s}function zd(e){Co(e)}function Pd(e){console.error(e)}function Fd(e){Co(e)}function Zo(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(h){setTimeout(function(){throw h})}}function Hd(e,n,s){try{var h=e.onCaughtError;h(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function Vu(e,n,s){return s=ia(s),s.tag=3,s.payload={element:null},s.callback=function(){Zo(e,n)},s}function Vd(e){return e=ia(e),e.tag=3,e}function Gd(e,n,s,h){var y=s.type.getDerivedStateFromError;if(typeof y=="function"){var w=h.value;e.payload=function(){return y(w)},e.callback=function(){Hd(n,s,h)}}var C=s.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(e.callback=function(){Hd(n,s,h),typeof y!="function"&&(ua===null?ua=new Set([this]):ua.add(this));var M=h.stack;this.componentDidCatch(h.value,{componentStack:M!==null?M:""})})}function j2(e,n,s,h,y){if(s.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(n=s.alternate,n!==null&&ws(n,s,y,!0),s=di.current,s!==null){switch(s.tag){case 31:case 13:return Mi===null?lc():s.alternate===null&&rn===0&&(rn=3),s.flags&=-257,s.flags|=65536,s.lanes=y,h===ko?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([h]):n.add(h),gh(e,h,y)),!1;case 22:return s.flags|=65536,h===ko?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([h])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([h]):s.add(h)),gh(e,h,y)),!1}throw Error(f(435,s.tag))}return gh(e,h,y),lc(),!1}if(ht)return n=di.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=y,h!==ou&&(e=Error(f(422),{cause:h}),pl(Oi(e,s)))):(h!==ou&&(n=Error(f(423),{cause:h}),pl(Oi(n,s))),e=e.current.alternate,e.flags|=65536,y&=-y,e.lanes|=y,h=Oi(h,s),y=Vu(e.stateNode,h,y),wu(e,y),rn!==4&&(rn=2)),!1;var w=Error(f(520),{cause:h});if(w=Oi(w,s),Ll===null?Ll=[w]:Ll.push(w),rn!==4&&(rn=2),n===null)return!0;h=Oi(h,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=y&-y,s.lanes|=e,e=Vu(s.stateNode,h,e),wu(s,e),!1;case 1:if(n=s.type,w=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(ua===null||!ua.has(w))))return s.flags|=65536,y&=-y,s.lanes|=y,y=Vd(y),Gd(y,e,s,h),wu(s,y),!1}s=s.return}while(s!==null);return!1}var Gu=Error(f(461)),pn=!1;function Ln(e,n,s,h){n.child=e===null?Wf(n,null,s,h):Ga(n,e.child,s,h)}function Yd(e,n,s,h,y){s=s.render;var w=n.ref;if("ref"in h){var C={};for(var M in h)M!=="ref"&&(C[M]=h[M])}else C=h;return Pa(n),h=_u(e,n,s,C,w,y),M=Cu(),e!==null&&!pn?(Tu(e,n,y),Sr(e,n,y)):(ht&&M&&su(n),n.flags|=1,Ln(e,n,h,y),n.child)}function qd(e,n,s,h,y){if(e===null){var w=s.type;return typeof w=="function"&&!iu(w)&&w.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=w,Xd(e,n,w,h,y)):(e=Io(s.type,null,h,n,n.mode,y),e.ref=n.ref,e.return=n,n.child=e)}if(w=e.child,!Ju(e,y)){var C=w.memoizedProps;if(s=s.compare,s=s!==null?s:g,s(C,h)&&e.ref===n.ref)return Sr(e,n,y)}return n.flags|=1,e=xr(w,h),e.ref=n.ref,e.return=n,n.child=e}function Xd(e,n,s,h,y){if(e!==null){var w=e.memoizedProps;if(g(w,h)&&e.ref===n.ref)if(pn=!1,n.pendingProps=h=w,Ju(e,y))(e.flags&131072)!==0&&(pn=!0);else return n.lanes=e.lanes,Sr(e,n,y)}return Yu(e,n,s,h,y)}function Wd(e,n,s,h){var y=h.children,w=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((n.flags&128)!==0){if(w=w!==null?w.baseLanes|s:s,e!==null){for(h=n.child=e.child,y=0;h!==null;)y=y|h.lanes|h.childLanes,h=h.sibling;h=y&~w}else h=0,n.child=null;return Zd(e,n,w,s,h)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Bo(n,w!==null?w.cachePool:null),w!==null?Kf(n,w):bu(),Jf(n);else return h=n.lanes=536870912,Zd(e,n,w!==null?w.baseLanes|s:s,s,h)}else w!==null?(Bo(n,w.cachePool),Kf(n,w),sa(),n.memoizedState=null):(e!==null&&Bo(n,null),bu(),sa());return Ln(e,n,y,s),n.child}function Nl(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Zd(e,n,s,h,y){var w=mu();return w=w===null?null:{parent:gn._currentValue,pool:w},n.memoizedState={baseLanes:s,cachePool:w},e!==null&&Bo(n,null),bu(),Jf(n),e!==null&&ws(e,n,h,!0),n.childLanes=y,null}function Qo(e,n){return n=Jo({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Qd(e,n,s){return Ga(n,e.child,null,s),e=Qo(n,n.pendingProps),e.flags|=2,gi(n),n.memoizedState=null,e}function U2(e,n,s){var h=n.pendingProps,y=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(ht){if(h.mode==="hidden")return e=Qo(n,h),n.lanes=536870912,Nl(null,e);if(Eu(n),(e=qt)?(e=o1(e,Di),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Jr!==null?{id:ar,overflow:sr}:null,retryLane:536870912,hydrationErrors:null},s=Mf(e),s.return=n,n.child=s,Mn=n,qt=null)):e=null,e===null)throw ea(n);return n.lanes=536870912,null}return Qo(n,h)}var w=e.memoizedState;if(w!==null){var C=w.dehydrated;if(Eu(n),y)if(n.flags&256)n.flags&=-257,n=Qd(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(f(558));else if(pn||ws(e,n,s,!1),y=(s&e.childLanes)!==0,pn||y){if(h=Pt,h!==null&&(C=is(h,s),C!==0&&C!==w.retryLane))throw w.retryLane=C,ka(e,C),ri(h,e,C),Gu;lc(),n=Qd(e,n,s)}else e=w.treeContext,qt=Bi(C.nextSibling),Mn=n,ht=!0,$r=null,Di=!1,e!==null&&kf(n,e),n=Qo(n,h),n.flags|=4096;return n}return e=xr(e.child,{mode:h.mode,children:h.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Ko(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(f(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function Yu(e,n,s,h,y){return Pa(n),s=_u(e,n,s,h,void 0,y),h=Cu(),e!==null&&!pn?(Tu(e,n,y),Sr(e,n,y)):(ht&&h&&su(n),n.flags|=1,Ln(e,n,s,y),n.child)}function Kd(e,n,s,h,y,w){return Pa(n),n.updateQueue=null,s=ed(n,h,s,y),$f(e),h=Cu(),e!==null&&!pn?(Tu(e,n,w),Sr(e,n,w)):(ht&&h&&su(n),n.flags|=1,Ln(e,n,s,w),n.child)}function Jd(e,n,s,h,y){if(Pa(n),n.stateNode===null){var w=ms,C=s.contextType;typeof C=="object"&&C!==null&&(w=Bn(C)),w=new s(h,w),n.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=Hu,n.stateNode=w,w._reactInternals=n,w=n.stateNode,w.props=h,w.state=n.memoizedState,w.refs={},yu(n),C=s.contextType,w.context=typeof C=="object"&&C!==null?Bn(C):ms,w.state=n.memoizedState,C=s.getDerivedStateFromProps,typeof C=="function"&&(Fu(n,s,C,h),w.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(C=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),C!==w.state&&Hu.enqueueReplaceState(w,w.state,null),El(n,h,w,y),Al(),w.state=n.memoizedState),typeof w.componentDidMount=="function"&&(n.flags|=4194308),h=!0}else if(e===null){w=n.stateNode;var M=n.memoizedProps,U=qa(s,M);w.props=U;var Q=w.context,ce=s.contextType;C=ms,typeof ce=="object"&&ce!==null&&(C=Bn(ce));var de=s.getDerivedStateFromProps;ce=typeof de=="function"||typeof w.getSnapshotBeforeUpdate=="function",M=n.pendingProps!==M,ce||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(M||Q!==C)&&Ud(n,w,h,C),na=!1;var ee=n.memoizedState;w.state=ee,El(n,h,w,y),Al(),Q=n.memoizedState,M||ee!==Q||na?(typeof de=="function"&&(Fu(n,s,de,h),Q=n.memoizedState),(U=na||jd(n,s,U,h,ee,Q,C))?(ce||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(n.flags|=4194308)):(typeof w.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=h,n.memoizedState=Q),w.props=h,w.state=Q,w.context=C,h=U):(typeof w.componentDidMount=="function"&&(n.flags|=4194308),h=!1)}else{w=n.stateNode,xu(e,n),C=n.memoizedProps,ce=qa(s,C),w.props=ce,de=n.pendingProps,ee=w.context,Q=s.contextType,U=ms,typeof Q=="object"&&Q!==null&&(U=Bn(Q)),M=s.getDerivedStateFromProps,(Q=typeof M=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(C!==de||ee!==U)&&Ud(n,w,h,U),na=!1,ee=n.memoizedState,w.state=ee,El(n,h,w,y),Al();var se=n.memoizedState;C!==de||ee!==se||na||e!==null&&e.dependencies!==null&&Do(e.dependencies)?(typeof M=="function"&&(Fu(n,s,M,h),se=n.memoizedState),(ce=na||jd(n,s,ce,h,ee,se,U)||e!==null&&e.dependencies!==null&&Do(e.dependencies))?(Q||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(h,se,U),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(h,se,U)),typeof w.componentDidUpdate=="function"&&(n.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof w.componentDidUpdate!="function"||C===e.memoizedProps&&ee===e.memoizedState||(n.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||C===e.memoizedProps&&ee===e.memoizedState||(n.flags|=1024),n.memoizedProps=h,n.memoizedState=se),w.props=h,w.state=se,w.context=U,h=ce):(typeof w.componentDidUpdate!="function"||C===e.memoizedProps&&ee===e.memoizedState||(n.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||C===e.memoizedProps&&ee===e.memoizedState||(n.flags|=1024),h=!1)}return w=h,Ko(e,n),h=(n.flags&128)!==0,w||h?(w=n.stateNode,s=h&&typeof s.getDerivedStateFromError!="function"?null:w.render(),n.flags|=1,e!==null&&h?(n.child=Ga(n,e.child,null,y),n.child=Ga(n,null,s,y)):Ln(e,n,s,y),n.memoizedState=w.state,e=n.child):e=Sr(e,n,y),e}function $d(e,n,s,h){return Ua(),n.flags|=256,Ln(e,n,s,h),n.child}var qu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Xu(e){return{baseLanes:e,cachePool:Hf()}}function Wu(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=pi),e}function e0(e,n,s){var h=n.pendingProps,y=!1,w=(n.flags&128)!==0,C;if((C=w)||(C=e!==null&&e.memoizedState===null?!1:(un.current&2)!==0),C&&(y=!0,n.flags&=-129),C=(n.flags&32)!==0,n.flags&=-33,e===null){if(ht){if(y?aa(n):sa(),(e=qt)?(e=o1(e,Di),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Jr!==null?{id:ar,overflow:sr}:null,retryLane:536870912,hydrationErrors:null},s=Mf(e),s.return=n,n.child=s,Mn=n,qt=null)):e=null,e===null)throw ea(n);return Ih(e)?n.lanes=32:n.lanes=536870912,null}var M=h.children;return h=h.fallback,y?(sa(),y=n.mode,M=Jo({mode:"hidden",children:M},y),h=ja(h,y,s,null),M.return=n,h.return=n,M.sibling=h,n.child=M,h=n.child,h.memoizedState=Xu(s),h.childLanes=Wu(e,C,s),n.memoizedState=qu,Nl(null,h)):(aa(n),Zu(n,M))}var U=e.memoizedState;if(U!==null&&(M=U.dehydrated,M!==null)){if(w)n.flags&256?(aa(n),n.flags&=-257,n=Qu(e,n,s)):n.memoizedState!==null?(sa(),n.child=e.child,n.flags|=128,n=null):(sa(),M=h.fallback,y=n.mode,h=Jo({mode:"visible",children:h.children},y),M=ja(M,y,s,null),M.flags|=2,h.return=n,M.return=n,h.sibling=M,n.child=h,Ga(n,e.child,null,s),h=n.child,h.memoizedState=Xu(s),h.childLanes=Wu(e,C,s),n.memoizedState=qu,n=Nl(null,h));else if(aa(n),Ih(M)){if(C=M.nextSibling&&M.nextSibling.dataset,C)var Q=C.dgst;C=Q,h=Error(f(419)),h.stack="",h.digest=C,pl({value:h,source:null,stack:null}),n=Qu(e,n,s)}else if(pn||ws(e,n,s,!1),C=(s&e.childLanes)!==0,pn||C){if(C=Pt,C!==null&&(h=is(C,s),h!==0&&h!==U.retryLane))throw U.retryLane=h,ka(e,h),ri(C,e,h),Gu;Oh(M)||lc(),n=Qu(e,n,s)}else Oh(M)?(n.flags|=192,n.child=e.child,n=null):(e=U.treeContext,qt=Bi(M.nextSibling),Mn=n,ht=!0,$r=null,Di=!1,e!==null&&kf(n,e),n=Zu(n,h.children),n.flags|=4096);return n}return y?(sa(),M=h.fallback,y=n.mode,U=e.child,Q=U.sibling,h=xr(U,{mode:"hidden",children:h.children}),h.subtreeFlags=U.subtreeFlags&65011712,Q!==null?M=xr(Q,M):(M=ja(M,y,s,null),M.flags|=2),M.return=n,h.return=n,h.sibling=M,n.child=h,Nl(null,h),h=n.child,M=e.child.memoizedState,M===null?M=Xu(s):(y=M.cachePool,y!==null?(U=gn._currentValue,y=y.parent!==U?{parent:U,pool:U}:y):y=Hf(),M={baseLanes:M.baseLanes|s,cachePool:y}),h.memoizedState=M,h.childLanes=Wu(e,C,s),n.memoizedState=qu,Nl(e.child,h)):(aa(n),s=e.child,e=s.sibling,s=xr(s,{mode:"visible",children:h.children}),s.return=n,s.sibling=null,e!==null&&(C=n.deletions,C===null?(n.deletions=[e],n.flags|=16):C.push(e)),n.child=s,n.memoizedState=null,s)}function Zu(e,n){return n=Jo({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Jo(e,n){return e=fi(22,e,null,n),e.lanes=0,e}function Qu(e,n,s){return Ga(n,e.child,null,s),e=Zu(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function t0(e,n,s){e.lanes|=n;var h=e.alternate;h!==null&&(h.lanes|=n),hu(e.return,n,s)}function Ku(e,n,s,h,y,w){var C=e.memoizedState;C===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:h,tail:s,tailMode:y,treeForkCount:w}:(C.isBackwards=n,C.rendering=null,C.renderingStartTime=0,C.last=h,C.tail=s,C.tailMode=y,C.treeForkCount=w)}function n0(e,n,s){var h=n.pendingProps,y=h.revealOrder,w=h.tail;h=h.children;var C=un.current,M=(C&2)!==0;if(M?(C=C&1|2,n.flags|=128):C&=1,be(un,C),Ln(e,n,h,s),h=ht?ml:0,!M&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&t0(e,s,n);else if(e.tag===19)t0(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(y){case"forwards":for(s=n.child,y=null;s!==null;)e=s.alternate,e!==null&&Po(e)===null&&(y=s),s=s.sibling;s=y,s===null?(y=n.child,n.child=null):(y=s.sibling,s.sibling=null),Ku(n,!1,y,s,w,h);break;case"backwards":case"unstable_legacy-backwards":for(s=null,y=n.child,n.child=null;y!==null;){if(e=y.alternate,e!==null&&Po(e)===null){n.child=y;break}e=y.sibling,y.sibling=s,s=y,y=e}Ku(n,!0,s,null,w,h);break;case"together":Ku(n,!1,null,null,void 0,h);break;default:n.memoizedState=null}return n.child}function Sr(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),ca|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(ws(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(f(153));if(n.child!==null){for(e=n.child,s=xr(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=xr(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function Ju(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Do(e)))}function z2(e,n,s){switch(n.tag){case 3:dt(n,n.stateNode.containerInfo),ta(n,gn,e.memoizedState.cache),Ua();break;case 27:case 5:ki(n);break;case 4:dt(n,n.stateNode.containerInfo);break;case 10:ta(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Eu(n),null;break;case 13:var h=n.memoizedState;if(h!==null)return h.dehydrated!==null?(aa(n),n.flags|=128,null):(s&n.child.childLanes)!==0?e0(e,n,s):(aa(n),e=Sr(e,n,s),e!==null?e.sibling:null);aa(n);break;case 19:var y=(e.flags&128)!==0;if(h=(s&n.childLanes)!==0,h||(ws(e,n,s,!1),h=(s&n.childLanes)!==0),y){if(h)return n0(e,n,s);n.flags|=128}if(y=n.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),be(un,un.current),h)break;return null;case 22:return n.lanes=0,Wd(e,n,s,n.pendingProps);case 24:ta(n,gn,e.memoizedState.cache)}return Sr(e,n,s)}function i0(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)pn=!0;else{if(!Ju(e,s)&&(n.flags&128)===0)return pn=!1,z2(e,n,s);pn=(e.flags&131072)!==0}else pn=!1,ht&&(n.flags&1048576)!==0&&Lf(n,ml,n.index);switch(n.lanes=0,n.tag){case 16:e:{var h=n.pendingProps;if(e=Ha(n.elementType),n.type=e,typeof e=="function")iu(e)?(h=qa(e,h),n.tag=1,n=Jd(null,n,e,h,s)):(n.tag=0,n=Yu(null,n,e,h,s));else{if(e!=null){var y=e.$$typeof;if(y===$){n.tag=11,n=Yd(null,n,e,h,s);break e}else if(y===K){n.tag=14,n=qd(null,n,e,h,s);break e}}throw n=Ye(e)||e,Error(f(306,n,""))}}return n;case 0:return Yu(e,n,n.type,n.pendingProps,s);case 1:return h=n.type,y=qa(h,n.pendingProps),Jd(e,n,h,y,s);case 3:e:{if(dt(n,n.stateNode.containerInfo),e===null)throw Error(f(387));h=n.pendingProps;var w=n.memoizedState;y=w.element,xu(e,n),El(n,h,null,s);var C=n.memoizedState;if(h=C.cache,ta(n,gn,h),h!==w.cache&&fu(n,[gn],s,!0),Al(),h=C.element,w.isDehydrated)if(w={element:h,isDehydrated:!1,cache:C.cache},n.updateQueue.baseState=w,n.memoizedState=w,n.flags&256){n=$d(e,n,h,s);break e}else if(h!==y){y=Oi(Error(f(424)),n),pl(y),n=$d(e,n,h,s);break e}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,qt=Bi(e.firstChild),Mn=n,ht=!0,$r=null,Di=!0,s=Wf(n,null,h,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Ua(),h===y){n=Sr(e,n,s);break e}Ln(e,n,h,s)}n=n.child}return n;case 26:return Ko(e,n),e===null?(s=g1(n.type,null,n.pendingProps,null))?n.memoizedState=s:ht||(s=n.type,e=n.pendingProps,h=gc(we.current).createElement(s),h[ln]=n,h[Tt]=e,kn(h,s,e),en(h),n.stateNode=h):n.memoizedState=g1(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return ki(n),e===null&&ht&&(h=n.stateNode=h1(n.type,n.pendingProps,we.current),Mn=n,Di=!0,y=qt,ga(n.type)?(Rh=y,qt=Bi(h.firstChild)):qt=y),Ln(e,n,n.pendingProps.children,s),Ko(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&ht&&((y=h=qt)&&(h=mm(h,n.type,n.pendingProps,Di),h!==null?(n.stateNode=h,Mn=n,qt=Bi(h.firstChild),Di=!1,y=!0):y=!1),y||ea(n)),ki(n),y=n.type,w=n.pendingProps,C=e!==null?e.memoizedProps:null,h=w.children,Ch(y,w)?h=null:C!==null&&Ch(y,C)&&(n.flags|=32),n.memoizedState!==null&&(y=_u(e,n,I2,null,null,s),Vl._currentValue=y),Ko(e,n),Ln(e,n,h,s),n.child;case 6:return e===null&&ht&&((e=s=qt)&&(s=pm(s,n.pendingProps,Di),s!==null?(n.stateNode=s,Mn=n,qt=null,e=!0):e=!1),e||ea(n)),null;case 13:return e0(e,n,s);case 4:return dt(n,n.stateNode.containerInfo),h=n.pendingProps,e===null?n.child=Ga(n,null,h,s):Ln(e,n,h,s),n.child;case 11:return Yd(e,n,n.type,n.pendingProps,s);case 7:return Ln(e,n,n.pendingProps,s),n.child;case 8:return Ln(e,n,n.pendingProps.children,s),n.child;case 12:return Ln(e,n,n.pendingProps.children,s),n.child;case 10:return h=n.pendingProps,ta(n,n.type,h.value),Ln(e,n,h.children,s),n.child;case 9:return y=n.type._context,h=n.pendingProps.children,Pa(n),y=Bn(y),h=h(y),n.flags|=1,Ln(e,n,h,s),n.child;case 14:return qd(e,n,n.type,n.pendingProps,s);case 15:return Xd(e,n,n.type,n.pendingProps,s);case 19:return n0(e,n,s);case 31:return U2(e,n,s);case 22:return Wd(e,n,s,n.pendingProps);case 24:return Pa(n),h=Bn(gn),e===null?(y=mu(),y===null&&(y=Pt,w=du(),y.pooledCache=w,w.refCount++,w!==null&&(y.pooledCacheLanes|=s),y=w),n.memoizedState={parent:h,cache:y},yu(n),ta(n,gn,y)):((e.lanes&s)!==0&&(xu(e,n),El(n,null,null,s),Al()),y=e.memoizedState,w=n.memoizedState,y.parent!==h?(y={parent:h,cache:h},n.memoizedState=y,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=y),ta(n,gn,h)):(h=w.cache,ta(n,gn,h),h!==y.cache&&fu(n,[gn],s,!0))),Ln(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(f(156,n.tag))}function _r(e){e.flags|=4}function $u(e,n,s,h,y){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(y&335544128)===y)if(e.stateNode.complete)e.flags|=8192;else if(I0())e.flags|=8192;else throw Va=ko,pu}else e.flags&=-16777217}function r0(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!w1(n))if(I0())e.flags|=8192;else throw Va=ko,pu}function $o(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?An():536870912,e.lanes|=n,Rs|=n)}function Ol(e,n){if(!ht)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var h=null;s!==null;)s.alternate!==null&&(h=s),s=s.sibling;h===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:h.sibling=null}}function Xt(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,h=0;if(n)for(var y=e.child;y!==null;)s|=y.lanes|y.childLanes,h|=y.subtreeFlags&65011712,h|=y.flags&65011712,y.return=e,y=y.sibling;else for(y=e.child;y!==null;)s|=y.lanes|y.childLanes,h|=y.subtreeFlags,h|=y.flags,y.return=e,y=y.sibling;return e.subtreeFlags|=h,e.childLanes=s,n}function P2(e,n,s){var h=n.pendingProps;switch(lu(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xt(n),null;case 1:return Xt(n),null;case 3:return s=n.stateNode,h=null,e!==null&&(h=e.memoizedState.cache),n.memoizedState.cache!==h&&(n.flags|=2048),br(gn),kt(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(xs(n)?_r(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,cu())),Xt(n),null;case 26:var y=n.type,w=n.memoizedState;return e===null?(_r(n),w!==null?(Xt(n),r0(n,w)):(Xt(n),$u(n,y,null,h,s))):w?w!==e.memoizedState?(_r(n),Xt(n),r0(n,w)):(Xt(n),n.flags&=-16777217):(e=e.memoizedProps,e!==h&&_r(n),Xt(n),$u(n,y,e,h,s)),null;case 27:if(vn(n),s=we.current,y=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==h&&_r(n);else{if(!h){if(n.stateNode===null)throw Error(f(166));return Xt(n),null}e=Ae.current,xs(n)?jf(n):(e=h1(y,h,s),n.stateNode=e,_r(n))}return Xt(n),null;case 5:if(vn(n),y=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==h&&_r(n);else{if(!h){if(n.stateNode===null)throw Error(f(166));return Xt(n),null}if(w=Ae.current,xs(n))jf(n);else{var C=gc(we.current);switch(w){case 1:w=C.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:w=C.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":w=C.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":w=C.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":w=C.createElement("div"),w.innerHTML="<script><\/script>",w=w.removeChild(w.firstChild);break;case"select":w=typeof h.is=="string"?C.createElement("select",{is:h.is}):C.createElement("select"),h.multiple?w.multiple=!0:h.size&&(w.size=h.size);break;default:w=typeof h.is=="string"?C.createElement(y,{is:h.is}):C.createElement(y)}}w[ln]=n,w[Tt]=h;e:for(C=n.child;C!==null;){if(C.tag===5||C.tag===6)w.appendChild(C.stateNode);else if(C.tag!==4&&C.tag!==27&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===n)break e;for(;C.sibling===null;){if(C.return===null||C.return===n)break e;C=C.return}C.sibling.return=C.return,C=C.sibling}n.stateNode=w;e:switch(kn(w,y,h),y){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&_r(n)}}return Xt(n),$u(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==h&&_r(n);else{if(typeof h!="string"&&n.stateNode===null)throw Error(f(166));if(e=we.current,xs(n)){if(e=n.stateNode,s=n.memoizedProps,h=null,y=Mn,y!==null)switch(y.tag){case 27:case 5:h=y.memoizedProps}e[ln]=n,e=!!(e.nodeValue===s||h!==null&&h.suppressHydrationWarning===!0||e1(e.nodeValue,s)),e||ea(n,!0)}else e=gc(e).createTextNode(h),e[ln]=n,n.stateNode=e}return Xt(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(h=xs(n),s!==null){if(e===null){if(!h)throw Error(f(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(f(557));e[ln]=n}else Ua(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Xt(n),e=!1}else s=cu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(gi(n),n):(gi(n),null);if((n.flags&128)!==0)throw Error(f(558))}return Xt(n),null;case 13:if(h=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(y=xs(n),h!==null&&h.dehydrated!==null){if(e===null){if(!y)throw Error(f(318));if(y=n.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(f(317));y[ln]=n}else Ua(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Xt(n),y=!1}else y=cu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=y),y=!0;if(!y)return n.flags&256?(gi(n),n):(gi(n),null)}return gi(n),(n.flags&128)!==0?(n.lanes=s,n):(s=h!==null,e=e!==null&&e.memoizedState!==null,s&&(h=n.child,y=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(y=h.alternate.memoizedState.cachePool.pool),w=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(w=h.memoizedState.cachePool.pool),w!==y&&(h.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),$o(n,n.updateQueue),Xt(n),null);case 4:return kt(),e===null&&bh(n.stateNode.containerInfo),Xt(n),null;case 10:return br(n.type),Xt(n),null;case 19:if(oe(un),h=n.memoizedState,h===null)return Xt(n),null;if(y=(n.flags&128)!==0,w=h.rendering,w===null)if(y)Ol(h,!1);else{if(rn!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(w=Po(e),w!==null){for(n.flags|=128,Ol(h,!1),e=w.updateQueue,n.updateQueue=e,$o(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)Df(s,e),s=s.sibling;return be(un,un.current&1|2),ht&&wr(n,h.treeForkCount),n.child}e=e.sibling}h.tail!==null&&Kt()>rc&&(n.flags|=128,y=!0,Ol(h,!1),n.lanes=4194304)}else{if(!y)if(e=Po(w),e!==null){if(n.flags|=128,y=!0,e=e.updateQueue,n.updateQueue=e,$o(n,e),Ol(h,!0),h.tail===null&&h.tailMode==="hidden"&&!w.alternate&&!ht)return Xt(n),null}else 2*Kt()-h.renderingStartTime>rc&&s!==536870912&&(n.flags|=128,y=!0,Ol(h,!1),n.lanes=4194304);h.isBackwards?(w.sibling=n.child,n.child=w):(e=h.last,e!==null?e.sibling=w:n.child=w,h.last=w)}return h.tail!==null?(e=h.tail,h.rendering=e,h.tail=e.sibling,h.renderingStartTime=Kt(),e.sibling=null,s=un.current,be(un,y?s&1|2:s&1),ht&&wr(n,h.treeForkCount),e):(Xt(n),null);case 22:case 23:return gi(n),Au(),h=n.memoizedState!==null,e!==null?e.memoizedState!==null!==h&&(n.flags|=8192):h&&(n.flags|=8192),h?(s&536870912)!==0&&(n.flags&128)===0&&(Xt(n),n.subtreeFlags&6&&(n.flags|=8192)):Xt(n),s=n.updateQueue,s!==null&&$o(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),h=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(h=n.memoizedState.cachePool.pool),h!==s&&(n.flags|=2048),e!==null&&oe(Fa),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),br(gn),Xt(n),null;case 25:return null;case 30:return null}throw Error(f(156,n.tag))}function F2(e,n){switch(lu(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return br(gn),kt(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return vn(n),null;case 31:if(n.memoizedState!==null){if(gi(n),n.alternate===null)throw Error(f(340));Ua()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(gi(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(f(340));Ua()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return oe(un),null;case 4:return kt(),null;case 10:return br(n.type),null;case 22:case 23:return gi(n),Au(),e!==null&&oe(Fa),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return br(gn),null;case 25:return null;default:return null}}function a0(e,n){switch(lu(n),n.tag){case 3:br(gn),kt();break;case 26:case 27:case 5:vn(n);break;case 4:kt();break;case 31:n.memoizedState!==null&&gi(n);break;case 13:gi(n);break;case 19:oe(un);break;case 10:br(n.type);break;case 22:case 23:gi(n),Au(),e!==null&&oe(Fa);break;case 24:br(gn)}}function Il(e,n){try{var s=n.updateQueue,h=s!==null?s.lastEffect:null;if(h!==null){var y=h.next;s=y;do{if((s.tag&e)===e){h=void 0;var w=s.create,C=s.inst;h=w(),C.destroy=h}s=s.next}while(s!==y)}}catch(M){Ot(n,n.return,M)}}function la(e,n,s){try{var h=n.updateQueue,y=h!==null?h.lastEffect:null;if(y!==null){var w=y.next;h=w;do{if((h.tag&e)===e){var C=h.inst,M=C.destroy;if(M!==void 0){C.destroy=void 0,y=n;var U=s,Q=M;try{Q()}catch(ce){Ot(y,U,ce)}}}h=h.next}while(h!==w)}}catch(ce){Ot(n,n.return,ce)}}function s0(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{Qf(n,s)}catch(h){Ot(e,e.return,h)}}}function l0(e,n,s){s.props=qa(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(h){Ot(e,n,h)}}function Rl(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var h=e.stateNode;break;case 30:h=e.stateNode;break;default:h=e.stateNode}typeof s=="function"?e.refCleanup=s(h):s.current=h}}catch(y){Ot(e,n,y)}}function lr(e,n){var s=e.ref,h=e.refCleanup;if(s!==null)if(typeof h=="function")try{h()}catch(y){Ot(e,n,y)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(y){Ot(e,n,y)}else s.current=null}function o0(e){var n=e.type,s=e.memoizedProps,h=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&h.focus();break e;case"img":s.src?h.src=s.src:s.srcSet&&(h.srcset=s.srcSet)}}catch(y){Ot(e,e.return,y)}}function eh(e,n,s){try{var h=e.stateNode;cm(h,e.type,s,n),h[Tt]=n}catch(y){Ot(e,e.return,y)}}function c0(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ga(e.type)||e.tag===4}function th(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||c0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ga(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function nh(e,n,s){var h=e.tag;if(h===5||h===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Kn));else if(h!==4&&(h===27&&ga(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(nh(e,n,s),e=e.sibling;e!==null;)nh(e,n,s),e=e.sibling}function ec(e,n,s){var h=e.tag;if(h===5||h===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(h!==4&&(h===27&&ga(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(ec(e,n,s),e=e.sibling;e!==null;)ec(e,n,s),e=e.sibling}function u0(e){var n=e.stateNode,s=e.memoizedProps;try{for(var h=e.type,y=n.attributes;y.length;)n.removeAttributeNode(y[0]);kn(n,h,s),n[ln]=e,n[Tt]=s}catch(w){Ot(e,e.return,w)}}var Cr=!1,yn=!1,ih=!1,h0=typeof WeakSet=="function"?WeakSet:Set,On=null;function H2(e,n){if(e=e.containerInfo,Sh=bc,e=O(e),D(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var h=s.getSelection&&s.getSelection();if(h&&h.rangeCount!==0){s=h.anchorNode;var y=h.anchorOffset,w=h.focusNode;h=h.focusOffset;try{s.nodeType,w.nodeType}catch{s=null;break e}var C=0,M=-1,U=-1,Q=0,ce=0,de=e,ee=null;t:for(;;){for(var se;de!==s||y!==0&&de.nodeType!==3||(M=C+y),de!==w||h!==0&&de.nodeType!==3||(U=C+h),de.nodeType===3&&(C+=de.nodeValue.length),(se=de.firstChild)!==null;)ee=de,de=se;for(;;){if(de===e)break t;if(ee===s&&++Q===y&&(M=C),ee===w&&++ce===h&&(U=C),(se=de.nextSibling)!==null)break;de=ee,ee=de.parentNode}de=se}s=M===-1||U===-1?null:{start:M,end:U}}else s=null}s=s||{start:0,end:0}}else s=null;for(_h={focusedElem:e,selectionRange:s},bc=!1,On=n;On!==null;)if(n=On,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,On=e;else for(;On!==null;){switch(n=On,w=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)y=e[s],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&w!==null){e=void 0,s=n,y=w.memoizedProps,w=w.memoizedState,h=s.stateNode;try{var Ne=qa(s.type,y);e=h.getSnapshotBeforeUpdate(Ne,w),h.__reactInternalSnapshotBeforeUpdate=e}catch(Fe){Ot(s,s.return,Fe)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)Nh(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Nh(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(f(163))}if(e=n.sibling,e!==null){e.return=n.return,On=e;break}On=n.return}}function f0(e,n,s){var h=s.flags;switch(s.tag){case 0:case 11:case 15:Nr(e,s),h&4&&Il(5,s);break;case 1:if(Nr(e,s),h&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(C){Ot(s,s.return,C)}else{var y=qa(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(y,n,e.__reactInternalSnapshotBeforeUpdate)}catch(C){Ot(s,s.return,C)}}h&64&&s0(s),h&512&&Rl(s,s.return);break;case 3:if(Nr(e,s),h&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Qf(e,n)}catch(C){Ot(s,s.return,C)}}break;case 27:n===null&&h&4&&u0(s);case 26:case 5:Nr(e,s),n===null&&h&4&&o0(s),h&512&&Rl(s,s.return);break;case 12:Nr(e,s);break;case 31:Nr(e,s),h&4&&m0(e,s);break;case 13:Nr(e,s),h&4&&p0(e,s),h&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=K2.bind(null,s),ym(e,s))));break;case 22:if(h=s.memoizedState!==null||Cr,!h){n=n!==null&&n.memoizedState!==null||yn,y=Cr;var w=yn;Cr=h,(yn=n)&&!w?Or(e,s,(s.subtreeFlags&8772)!==0):Nr(e,s),Cr=y,yn=w}break;case 30:break;default:Nr(e,s)}}function d0(e){var n=e.alternate;n!==null&&(e.alternate=null,d0(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Qn(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Qt=null,ei=!1;function Tr(e,n,s){for(s=s.child;s!==null;)g0(e,n,s),s=s.sibling}function g0(e,n,s){if(xe&&typeof xe.onCommitFiberUnmount=="function")try{xe.onCommitFiberUnmount(Ft,s)}catch{}switch(s.tag){case 26:yn||lr(s,n),Tr(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:yn||lr(s,n);var h=Qt,y=ei;ga(s.type)&&(Qt=s.stateNode,ei=!1),Tr(e,n,s),Pl(s.stateNode),Qt=h,ei=y;break;case 5:yn||lr(s,n);case 6:if(h=Qt,y=ei,Qt=null,Tr(e,n,s),Qt=h,ei=y,Qt!==null)if(ei)try{(Qt.nodeType===9?Qt.body:Qt.nodeName==="HTML"?Qt.ownerDocument.body:Qt).removeChild(s.stateNode)}catch(w){Ot(s,n,w)}else try{Qt.removeChild(s.stateNode)}catch(w){Ot(s,n,w)}break;case 18:Qt!==null&&(ei?(e=Qt,s1(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),zs(e)):s1(Qt,s.stateNode));break;case 4:h=Qt,y=ei,Qt=s.stateNode.containerInfo,ei=!0,Tr(e,n,s),Qt=h,ei=y;break;case 0:case 11:case 14:case 15:la(2,s,n),yn||la(4,s,n),Tr(e,n,s);break;case 1:yn||(lr(s,n),h=s.stateNode,typeof h.componentWillUnmount=="function"&&l0(s,n,h)),Tr(e,n,s);break;case 21:Tr(e,n,s);break;case 22:yn=(h=yn)||s.memoizedState!==null,Tr(e,n,s),yn=h;break;default:Tr(e,n,s)}}function m0(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{zs(e)}catch(s){Ot(n,n.return,s)}}}function p0(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{zs(e)}catch(s){Ot(n,n.return,s)}}function V2(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new h0),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new h0),n;default:throw Error(f(435,e.tag))}}function tc(e,n){var s=V2(e);n.forEach(function(h){if(!s.has(h)){s.add(h);var y=J2.bind(null,e,h);h.then(y,y)}})}function ti(e,n){var s=n.deletions;if(s!==null)for(var h=0;h<s.length;h++){var y=s[h],w=e,C=n,M=C;e:for(;M!==null;){switch(M.tag){case 27:if(ga(M.type)){Qt=M.stateNode,ei=!1;break e}break;case 5:Qt=M.stateNode,ei=!1;break e;case 3:case 4:Qt=M.stateNode.containerInfo,ei=!0;break e}M=M.return}if(Qt===null)throw Error(f(160));g0(w,C,y),Qt=null,ei=!1,w=y.alternate,w!==null&&(w.return=null),y.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)y0(n,e),n=n.sibling}var Gi=null;function y0(e,n){var s=e.alternate,h=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ti(n,e),ni(e),h&4&&(la(3,e,e.return),Il(3,e),la(5,e,e.return));break;case 1:ti(n,e),ni(e),h&512&&(yn||s===null||lr(s,s.return)),h&64&&Cr&&(e=e.updateQueue,e!==null&&(h=e.callbacks,h!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?h:s.concat(h))));break;case 26:var y=Gi;if(ti(n,e),ni(e),h&512&&(yn||s===null||lr(s,s.return)),h&4){var w=s!==null?s.memoizedState:null;if(h=e.memoizedState,s===null)if(h===null)if(e.stateNode===null){e:{h=e.type,s=e.memoizedProps,y=y.ownerDocument||y;t:switch(h){case"title":w=y.getElementsByTagName("title")[0],(!w||w[Ta]||w[ln]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=y.createElement(h),y.head.insertBefore(w,y.querySelector("head > title"))),kn(w,h,s),w[ln]=e,en(w),h=w;break e;case"link":var C=y1("link","href",y).get(h+(s.href||""));if(C){for(var M=0;M<C.length;M++)if(w=C[M],w.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&w.getAttribute("rel")===(s.rel==null?null:s.rel)&&w.getAttribute("title")===(s.title==null?null:s.title)&&w.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){C.splice(M,1);break t}}w=y.createElement(h),kn(w,h,s),y.head.appendChild(w);break;case"meta":if(C=y1("meta","content",y).get(h+(s.content||""))){for(M=0;M<C.length;M++)if(w=C[M],w.getAttribute("content")===(s.content==null?null:""+s.content)&&w.getAttribute("name")===(s.name==null?null:s.name)&&w.getAttribute("property")===(s.property==null?null:s.property)&&w.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&w.getAttribute("charset")===(s.charSet==null?null:s.charSet)){C.splice(M,1);break t}}w=y.createElement(h),kn(w,h,s),y.head.appendChild(w);break;default:throw Error(f(468,h))}w[ln]=e,en(w),h=w}e.stateNode=h}else x1(y,e.type,e.stateNode);else e.stateNode=p1(y,h,e.memoizedProps);else w!==h?(w===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):w.count--,h===null?x1(y,e.type,e.stateNode):p1(y,h,e.memoizedProps)):h===null&&e.stateNode!==null&&eh(e,e.memoizedProps,s.memoizedProps)}break;case 27:ti(n,e),ni(e),h&512&&(yn||s===null||lr(s,s.return)),s!==null&&h&4&&eh(e,e.memoizedProps,s.memoizedProps);break;case 5:if(ti(n,e),ni(e),h&512&&(yn||s===null||lr(s,s.return)),e.flags&32){y=e.stateNode;try{Vr(y,"")}catch(Ne){Ot(e,e.return,Ne)}}h&4&&e.stateNode!=null&&(y=e.memoizedProps,eh(e,y,s!==null?s.memoizedProps:y)),h&1024&&(ih=!0);break;case 6:if(ti(n,e),ni(e),h&4){if(e.stateNode===null)throw Error(f(162));h=e.memoizedProps,s=e.stateNode;try{s.nodeValue=h}catch(Ne){Ot(e,e.return,Ne)}}break;case 3:if(yc=null,y=Gi,Gi=mc(n.containerInfo),ti(n,e),Gi=y,ni(e),h&4&&s!==null&&s.memoizedState.isDehydrated)try{zs(n.containerInfo)}catch(Ne){Ot(e,e.return,Ne)}ih&&(ih=!1,x0(e));break;case 4:h=Gi,Gi=mc(e.stateNode.containerInfo),ti(n,e),ni(e),Gi=h;break;case 12:ti(n,e),ni(e);break;case 31:ti(n,e),ni(e),h&4&&(h=e.updateQueue,h!==null&&(e.updateQueue=null,tc(e,h)));break;case 13:ti(n,e),ni(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(ic=Kt()),h&4&&(h=e.updateQueue,h!==null&&(e.updateQueue=null,tc(e,h)));break;case 22:y=e.memoizedState!==null;var U=s!==null&&s.memoizedState!==null,Q=Cr,ce=yn;if(Cr=Q||y,yn=ce||U,ti(n,e),yn=ce,Cr=Q,ni(e),h&8192)e:for(n=e.stateNode,n._visibility=y?n._visibility&-2:n._visibility|1,y&&(s===null||U||Cr||yn||Xa(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){U=s=n;try{if(w=U.stateNode,y)C=w.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{M=U.stateNode;var de=U.memoizedProps.style,ee=de!=null&&de.hasOwnProperty("display")?de.display:null;M.style.display=ee==null||typeof ee=="boolean"?"":(""+ee).trim()}}catch(Ne){Ot(U,U.return,Ne)}}}else if(n.tag===6){if(s===null){U=n;try{U.stateNode.nodeValue=y?"":U.memoizedProps}catch(Ne){Ot(U,U.return,Ne)}}}else if(n.tag===18){if(s===null){U=n;try{var se=U.stateNode;y?l1(se,!0):l1(U.stateNode,!1)}catch(Ne){Ot(U,U.return,Ne)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}h&4&&(h=e.updateQueue,h!==null&&(s=h.retryQueue,s!==null&&(h.retryQueue=null,tc(e,s))));break;case 19:ti(n,e),ni(e),h&4&&(h=e.updateQueue,h!==null&&(e.updateQueue=null,tc(e,h)));break;case 30:break;case 21:break;default:ti(n,e),ni(e)}}function ni(e){var n=e.flags;if(n&2){try{for(var s,h=e.return;h!==null;){if(c0(h)){s=h;break}h=h.return}if(s==null)throw Error(f(160));switch(s.tag){case 27:var y=s.stateNode,w=th(e);ec(e,w,y);break;case 5:var C=s.stateNode;s.flags&32&&(Vr(C,""),s.flags&=-33);var M=th(e);ec(e,M,C);break;case 3:case 4:var U=s.stateNode.containerInfo,Q=th(e);nh(e,Q,U);break;default:throw Error(f(161))}}catch(ce){Ot(e,e.return,ce)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function x0(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;x0(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Nr(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)f0(e,n.alternate,n),n=n.sibling}function Xa(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:la(4,n,n.return),Xa(n);break;case 1:lr(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&l0(n,n.return,s),Xa(n);break;case 27:Pl(n.stateNode);case 26:case 5:lr(n,n.return),Xa(n);break;case 22:n.memoizedState===null&&Xa(n);break;case 30:Xa(n);break;default:Xa(n)}e=e.sibling}}function Or(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var h=n.alternate,y=e,w=n,C=w.flags;switch(w.tag){case 0:case 11:case 15:Or(y,w,s),Il(4,w);break;case 1:if(Or(y,w,s),h=w,y=h.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(Q){Ot(h,h.return,Q)}if(h=w,y=h.updateQueue,y!==null){var M=h.stateNode;try{var U=y.shared.hiddenCallbacks;if(U!==null)for(y.shared.hiddenCallbacks=null,y=0;y<U.length;y++)Zf(U[y],M)}catch(Q){Ot(h,h.return,Q)}}s&&C&64&&s0(w),Rl(w,w.return);break;case 27:u0(w);case 26:case 5:Or(y,w,s),s&&h===null&&C&4&&o0(w),Rl(w,w.return);break;case 12:Or(y,w,s);break;case 31:Or(y,w,s),s&&C&4&&m0(y,w);break;case 13:Or(y,w,s),s&&C&4&&p0(y,w);break;case 22:w.memoizedState===null&&Or(y,w,s),Rl(w,w.return);break;case 30:break;default:Or(y,w,s)}n=n.sibling}}function rh(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&yl(s))}function ah(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&yl(e))}function Yi(e,n,s,h){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)w0(e,n,s,h),n=n.sibling}function w0(e,n,s,h){var y=n.flags;switch(n.tag){case 0:case 11:case 15:Yi(e,n,s,h),y&2048&&Il(9,n);break;case 1:Yi(e,n,s,h);break;case 3:Yi(e,n,s,h),y&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&yl(e)));break;case 12:if(y&2048){Yi(e,n,s,h),e=n.stateNode;try{var w=n.memoizedProps,C=w.id,M=w.onPostCommit;typeof M=="function"&&M(C,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(U){Ot(n,n.return,U)}}else Yi(e,n,s,h);break;case 31:Yi(e,n,s,h);break;case 13:Yi(e,n,s,h);break;case 23:break;case 22:w=n.stateNode,C=n.alternate,n.memoizedState!==null?w._visibility&2?Yi(e,n,s,h):Dl(e,n):w._visibility&2?Yi(e,n,s,h):(w._visibility|=2,Ns(e,n,s,h,(n.subtreeFlags&10256)!==0||!1)),y&2048&&rh(C,n);break;case 24:Yi(e,n,s,h),y&2048&&ah(n.alternate,n);break;default:Yi(e,n,s,h)}}function Ns(e,n,s,h,y){for(y=y&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var w=e,C=n,M=s,U=h,Q=C.flags;switch(C.tag){case 0:case 11:case 15:Ns(w,C,M,U,y),Il(8,C);break;case 23:break;case 22:var ce=C.stateNode;C.memoizedState!==null?ce._visibility&2?Ns(w,C,M,U,y):Dl(w,C):(ce._visibility|=2,Ns(w,C,M,U,y)),y&&Q&2048&&rh(C.alternate,C);break;case 24:Ns(w,C,M,U,y),y&&Q&2048&&ah(C.alternate,C);break;default:Ns(w,C,M,U,y)}n=n.sibling}}function Dl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,h=n,y=h.flags;switch(h.tag){case 22:Dl(s,h),y&2048&&rh(h.alternate,h);break;case 24:Dl(s,h),y&2048&&ah(h.alternate,h);break;default:Dl(s,h)}n=n.sibling}}var Ml=8192;function Os(e,n,s){if(e.subtreeFlags&Ml)for(e=e.child;e!==null;)v0(e,n,s),e=e.sibling}function v0(e,n,s){switch(e.tag){case 26:Os(e,n,s),e.flags&Ml&&e.memoizedState!==null&&Om(s,Gi,e.memoizedState,e.memoizedProps);break;case 5:Os(e,n,s);break;case 3:case 4:var h=Gi;Gi=mc(e.stateNode.containerInfo),Os(e,n,s),Gi=h;break;case 22:e.memoizedState===null&&(h=e.alternate,h!==null&&h.memoizedState!==null?(h=Ml,Ml=16777216,Os(e,n,s),Ml=h):Os(e,n,s));break;default:Os(e,n,s)}}function b0(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Bl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var h=n[s];On=h,E0(h,e)}b0(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)A0(e),e=e.sibling}function A0(e){switch(e.tag){case 0:case 11:case 15:Bl(e),e.flags&2048&&la(9,e,e.return);break;case 3:Bl(e);break;case 12:Bl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,nc(e)):Bl(e);break;default:Bl(e)}}function nc(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var h=n[s];On=h,E0(h,e)}b0(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:la(8,n,n.return),nc(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,nc(n));break;default:nc(n)}e=e.sibling}}function E0(e,n){for(;On!==null;){var s=On;switch(s.tag){case 0:case 11:case 15:la(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var h=s.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:yl(s.memoizedState.cache)}if(h=s.child,h!==null)h.return=s,On=h;else e:for(s=e;On!==null;){h=On;var y=h.sibling,w=h.return;if(d0(h),h===s){On=null;break e}if(y!==null){y.return=w,On=y;break e}On=w}}}var G2={getCacheForType:function(e){var n=Bn(gn),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return Bn(gn).controller.signal}},Y2=typeof WeakMap=="function"?WeakMap:Map,At=0,Pt=null,at=null,ct=0,Nt=0,mi=null,oa=!1,Is=!1,sh=!1,Ir=0,rn=0,ca=0,Wa=0,lh=0,pi=0,Rs=0,Ll=null,ii=null,oh=!1,ic=0,S0=0,rc=1/0,ac=null,ua=null,Cn=0,ha=null,Ds=null,Rr=0,ch=0,uh=null,_0=null,kl=0,hh=null;function yi(){return(At&2)!==0&&ct!==0?ct&-ct:ne.T!==null?yh():Pn()}function C0(){if(pi===0)if((ct&536870912)===0||ht){var e=lt;lt<<=1,(lt&3932160)===0&&(lt=262144),pi=e}else pi=536870912;return e=di.current,e!==null&&(e.flags|=32),pi}function ri(e,n,s){(e===Pt&&(Nt===2||Nt===9)||e.cancelPendingCommit!==null)&&(Ms(e,0),fa(e,ct,pi,!1)),$i(e,s),((At&2)===0||e!==Pt)&&(e===Pt&&((At&2)===0&&(Wa|=s),rn===4&&fa(e,ct,pi,!1)),or(e))}function T0(e,n,s){if((At&6)!==0)throw Error(f(327));var h=!s&&(n&127)===0&&(n&e.expiredLanes)===0||Rn(e,n),y=h?W2(e,n):dh(e,n,!0),w=h;do{if(y===0){Is&&!h&&fa(e,n,0,!1);break}else{if(s=e.current.alternate,w&&!q2(s)){y=dh(e,n,!1),w=!1;continue}if(y===2){if(w=n,e.errorRecoveryDisabledLanes&w)var C=0;else C=e.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){n=C;e:{var M=e;y=Ll;var U=M.current.memoizedState.isDehydrated;if(U&&(Ms(M,C).flags|=256),C=dh(M,C,!1),C!==2){if(sh&&!U){M.errorRecoveryDisabledLanes|=w,Wa|=w,y=4;break e}w=ii,ii=y,w!==null&&(ii===null?ii=w:ii.push.apply(ii,w))}y=C}if(w=!1,y!==2)continue}}if(y===1){Ms(e,0),fa(e,n,0,!0);break}e:{switch(h=e,w=y,w){case 0:case 1:throw Error(f(345));case 4:if((n&4194048)!==n)break;case 6:fa(h,n,pi,!oa);break e;case 2:ii=null;break;case 3:case 5:break;default:throw Error(f(329))}if((n&62914560)===n&&(y=ic+300-Kt(),10<y)){if(fa(h,n,pi,!oa),Ca(h,0,!0)!==0)break e;Rr=n,h.timeoutHandle=r1(N0.bind(null,h,s,ii,ac,oh,n,pi,Wa,Rs,oa,w,"Throttled",-0,0),y);break e}N0(h,s,ii,ac,oh,n,pi,Wa,Rs,oa,w,null,-0,0)}}break}while(!0);or(e)}function N0(e,n,s,h,y,w,C,M,U,Q,ce,de,ee,se){if(e.timeoutHandle=-1,de=n.subtreeFlags,de&8192||(de&16785408)===16785408){de={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Kn},v0(n,w,de);var Ne=(w&62914560)===w?ic-Kt():(w&4194048)===w?S0-Kt():0;if(Ne=Im(de,Ne),Ne!==null){Rr=w,e.cancelPendingCommit=Ne(k0.bind(null,e,n,w,s,h,y,C,M,U,ce,de,null,ee,se)),fa(e,w,C,!Q);return}}k0(e,n,w,s,h,y,C,M,U)}function q2(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var h=0;h<s.length;h++){var y=s[h],w=y.getSnapshot;y=y.value;try{if(!d(w(),y))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function fa(e,n,s,h){n&=~lh,n&=~Wa,e.suspendedLanes|=n,e.pingedLanes&=~n,h&&(e.warmLanes|=n),h=e.expirationTimes;for(var y=n;0<y;){var w=31-Je(y),C=1<<w;h[w]=-1,y&=~C}s!==0&&uo(e,s,n)}function sc(){return(At&6)===0?(jl(0),!1):!0}function fh(){if(at!==null){if(Nt===0)var e=at.return;else e=at,vr=za=null,Nu(e),Es=null,wl=0,e=at;for(;e!==null;)a0(e.alternate,e),e=e.return;at=null}}function Ms(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,fm(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Rr=0,fh(),Pt=e,at=s=xr(e.current,null),ct=n,Nt=0,mi=null,oa=!1,Is=Rn(e,n),sh=!1,Rs=pi=lh=Wa=ca=rn=0,ii=Ll=null,oh=!1,(n&8)!==0&&(n|=n&32);var h=e.entangledLanes;if(h!==0)for(e=e.entanglements,h&=n;0<h;){var y=31-Je(h),w=1<<y;n|=e[y],h&=~w}return Ir=n,To(),s}function O0(e,n){Ke=null,ne.H=Tl,n===As||n===Lo?(n=Yf(),Nt=3):n===pu?(n=Yf(),Nt=4):Nt=n===Gu?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,mi=n,at===null&&(rn=1,Zo(e,Oi(n,e.current)))}function I0(){var e=di.current;return e===null?!0:(ct&4194048)===ct?Mi===null:(ct&62914560)===ct||(ct&536870912)!==0?e===Mi:!1}function R0(){var e=ne.H;return ne.H=Tl,e===null?Tl:e}function D0(){var e=ne.A;return ne.A=G2,e}function lc(){rn=4,oa||(ct&4194048)!==ct&&di.current!==null||(Is=!0),(ca&134217727)===0&&(Wa&134217727)===0||Pt===null||fa(Pt,ct,pi,!1)}function dh(e,n,s){var h=At;At|=2;var y=R0(),w=D0();(Pt!==e||ct!==n)&&(ac=null,Ms(e,n)),n=!1;var C=rn;e:do try{if(Nt!==0&&at!==null){var M=at,U=mi;switch(Nt){case 8:fh(),C=6;break e;case 3:case 2:case 9:case 6:di.current===null&&(n=!0);var Q=Nt;if(Nt=0,mi=null,Bs(e,M,U,Q),s&&Is){C=0;break e}break;default:Q=Nt,Nt=0,mi=null,Bs(e,M,U,Q)}}X2(),C=rn;break}catch(ce){O0(e,ce)}while(!0);return n&&e.shellSuspendCounter++,vr=za=null,At=h,ne.H=y,ne.A=w,at===null&&(Pt=null,ct=0,To()),C}function X2(){for(;at!==null;)M0(at)}function W2(e,n){var s=At;At|=2;var h=R0(),y=D0();Pt!==e||ct!==n?(ac=null,rc=Kt()+500,Ms(e,n)):Is=Rn(e,n);e:do try{if(Nt!==0&&at!==null){n=at;var w=mi;t:switch(Nt){case 1:Nt=0,mi=null,Bs(e,n,w,1);break;case 2:case 9:if(Vf(w)){Nt=0,mi=null,B0(n);break}n=function(){Nt!==2&&Nt!==9||Pt!==e||(Nt=7),or(e)},w.then(n,n);break e;case 3:Nt=7;break e;case 4:Nt=5;break e;case 7:Vf(w)?(Nt=0,mi=null,B0(n)):(Nt=0,mi=null,Bs(e,n,w,7));break;case 5:var C=null;switch(at.tag){case 26:C=at.memoizedState;case 5:case 27:var M=at;if(C?w1(C):M.stateNode.complete){Nt=0,mi=null;var U=M.sibling;if(U!==null)at=U;else{var Q=M.return;Q!==null?(at=Q,oc(Q)):at=null}break t}}Nt=0,mi=null,Bs(e,n,w,5);break;case 6:Nt=0,mi=null,Bs(e,n,w,6);break;case 8:fh(),rn=6;break e;default:throw Error(f(462))}}Z2();break}catch(ce){O0(e,ce)}while(!0);return vr=za=null,ne.H=h,ne.A=y,At=s,at!==null?0:(Pt=null,ct=0,To(),rn)}function Z2(){for(;at!==null&&!ts();)M0(at)}function M0(e){var n=i0(e.alternate,e,Ir);e.memoizedProps=e.pendingProps,n===null?oc(e):at=n}function B0(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=Kd(s,n,n.pendingProps,n.type,void 0,ct);break;case 11:n=Kd(s,n,n.pendingProps,n.type.render,n.ref,ct);break;case 5:Nu(n);default:a0(s,n),n=at=Df(n,Ir),n=i0(s,n,Ir)}e.memoizedProps=e.pendingProps,n===null?oc(e):at=n}function Bs(e,n,s,h){vr=za=null,Nu(n),Es=null,wl=0;var y=n.return;try{if(j2(e,y,n,s,ct)){rn=1,Zo(e,Oi(s,e.current)),at=null;return}}catch(w){if(y!==null)throw at=y,w;rn=1,Zo(e,Oi(s,e.current)),at=null;return}n.flags&32768?(ht||h===1?e=!0:Is||(ct&536870912)!==0?e=!1:(oa=e=!0,(h===2||h===9||h===3||h===6)&&(h=di.current,h!==null&&h.tag===13&&(h.flags|=16384))),L0(n,e)):oc(n)}function oc(e){var n=e;do{if((n.flags&32768)!==0){L0(n,oa);return}e=n.return;var s=P2(n.alternate,n,Ir);if(s!==null){at=s;return}if(n=n.sibling,n!==null){at=n;return}at=n=e}while(n!==null);rn===0&&(rn=5)}function L0(e,n){do{var s=F2(e.alternate,e);if(s!==null){s.flags&=32767,at=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){at=e;return}at=e=s}while(e!==null);rn=6,at=null}function k0(e,n,s,h,y,w,C,M,U){e.cancelPendingCommit=null;do cc();while(Cn!==0);if((At&6)!==0)throw Error(f(327));if(n!==null){if(n===e.current)throw Error(f(177));if(w=n.lanes|n.childLanes,w|=tu,Si(e,s,w,C,M,U),e===Pt&&(at=Pt=null,ct=0),Ds=n,ha=e,Rr=s,ch=w,uh=y,_0=h,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,$2(ai,function(){return F0(),null})):(e.callbackNode=null,e.callbackPriority=0),h=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||h){h=ne.T,ne.T=null,y=fe.p,fe.p=2,C=At,At|=4;try{H2(e,n,s)}finally{At=C,fe.p=y,ne.T=h}}Cn=1,j0(),U0(),z0()}}function j0(){if(Cn===1){Cn=0;var e=ha,n=Ds,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=ne.T,ne.T=null;var h=fe.p;fe.p=2;var y=At;At|=4;try{y0(n,e);var w=_h,C=O(e.containerInfo),M=w.focusedElem,U=w.selectionRange;if(C!==M&&M&&M.ownerDocument&&_(M.ownerDocument.documentElement,M)){if(U!==null&&D(M)){var Q=U.start,ce=U.end;if(ce===void 0&&(ce=Q),"selectionStart"in M)M.selectionStart=Q,M.selectionEnd=Math.min(ce,M.value.length);else{var de=M.ownerDocument||document,ee=de&&de.defaultView||window;if(ee.getSelection){var se=ee.getSelection(),Ne=M.textContent.length,Fe=Math.min(U.start,Ne),Lt=U.end===void 0?Fe:Math.min(U.end,Ne);!se.extend&&Fe>Lt&&(C=Lt,Lt=Fe,Fe=C);var Y=A(M,Fe),F=A(M,Lt);if(Y&&F&&(se.rangeCount!==1||se.anchorNode!==Y.node||se.anchorOffset!==Y.offset||se.focusNode!==F.node||se.focusOffset!==F.offset)){var Z=de.createRange();Z.setStart(Y.node,Y.offset),se.removeAllRanges(),Fe>Lt?(se.addRange(Z),se.extend(F.node,F.offset)):(Z.setEnd(F.node,F.offset),se.addRange(Z))}}}}for(de=[],se=M;se=se.parentNode;)se.nodeType===1&&de.push({element:se,left:se.scrollLeft,top:se.scrollTop});for(typeof M.focus=="function"&&M.focus(),M=0;M<de.length;M++){var ue=de[M];ue.element.scrollLeft=ue.left,ue.element.scrollTop=ue.top}}bc=!!Sh,_h=Sh=null}finally{At=y,fe.p=h,ne.T=s}}e.current=n,Cn=2}}function U0(){if(Cn===2){Cn=0;var e=ha,n=Ds,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=ne.T,ne.T=null;var h=fe.p;fe.p=2;var y=At;At|=4;try{f0(e,n.alternate,n)}finally{At=y,fe.p=h,ne.T=s}}Cn=3}}function z0(){if(Cn===4||Cn===3){Cn=0,co();var e=ha,n=Ds,s=Rr,h=_0;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Cn=5:(Cn=0,Ds=ha=null,P0(e,e.pendingLanes));var y=e.pendingLanes;if(y===0&&(ua=null),ji(s),n=n.stateNode,xe&&typeof xe.onCommitFiberRoot=="function")try{xe.onCommitFiberRoot(Ft,n,void 0,(n.current.flags&128)===128)}catch{}if(h!==null){n=ne.T,y=fe.p,fe.p=2,ne.T=null;try{for(var w=e.onRecoverableError,C=0;C<h.length;C++){var M=h[C];w(M.value,{componentStack:M.stack})}}finally{ne.T=n,fe.p=y}}(Rr&3)!==0&&cc(),or(e),y=e.pendingLanes,(s&261930)!==0&&(y&42)!==0?e===hh?kl++:(kl=0,hh=e):kl=0,jl(0)}}function P0(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,yl(n)))}function cc(){return j0(),U0(),z0(),F0()}function F0(){if(Cn!==5)return!1;var e=ha,n=ch;ch=0;var s=ji(Rr),h=ne.T,y=fe.p;try{fe.p=32>s?32:s,ne.T=null,s=uh,uh=null;var w=ha,C=Rr;if(Cn=0,Ds=ha=null,Rr=0,(At&6)!==0)throw Error(f(331));var M=At;if(At|=4,A0(w.current),w0(w,w.current,C,s),At=M,jl(0,!1),xe&&typeof xe.onPostCommitFiberRoot=="function")try{xe.onPostCommitFiberRoot(Ft,w)}catch{}return!0}finally{fe.p=y,ne.T=h,P0(e,n)}}function H0(e,n,s){n=Oi(s,n),n=Vu(e.stateNode,n,2),e=ra(e,n,2),e!==null&&($i(e,2),or(e))}function Ot(e,n,s){if(e.tag===3)H0(e,e,s);else for(;n!==null;){if(n.tag===3){H0(n,e,s);break}else if(n.tag===1){var h=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(ua===null||!ua.has(h))){e=Oi(s,e),s=Vd(2),h=ra(n,s,2),h!==null&&(Gd(s,h,n,e),$i(h,2),or(h));break}}n=n.return}}function gh(e,n,s){var h=e.pingCache;if(h===null){h=e.pingCache=new Y2;var y=new Set;h.set(n,y)}else y=h.get(n),y===void 0&&(y=new Set,h.set(n,y));y.has(s)||(sh=!0,y.add(s),e=Q2.bind(null,e,n,s),n.then(e,e))}function Q2(e,n,s){var h=e.pingCache;h!==null&&h.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,Pt===e&&(ct&s)===s&&(rn===4||rn===3&&(ct&62914560)===ct&&300>Kt()-ic?(At&2)===0&&Ms(e,0):lh|=s,Rs===ct&&(Rs=0)),or(e)}function V0(e,n){n===0&&(n=An()),e=ka(e,n),e!==null&&($i(e,n),or(e))}function K2(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),V0(e,s)}function J2(e,n){var s=0;switch(e.tag){case 31:case 13:var h=e.stateNode,y=e.memoizedState;y!==null&&(s=y.retryLane);break;case 19:h=e.stateNode;break;case 22:h=e.stateNode._retryCache;break;default:throw Error(f(314))}h!==null&&h.delete(n),V0(e,s)}function $2(e,n){return jr(e,n)}var uc=null,Ls=null,mh=!1,hc=!1,ph=!1,da=0;function or(e){e!==Ls&&e.next===null&&(Ls===null?uc=Ls=e:Ls=Ls.next=e),hc=!0,mh||(mh=!0,tm())}function jl(e,n){if(!ph&&hc){ph=!0;do for(var s=!1,h=uc;h!==null;){if(e!==0){var y=h.pendingLanes;if(y===0)var w=0;else{var C=h.suspendedLanes,M=h.pingedLanes;w=(1<<31-Je(42|e)+1)-1,w&=y&~(C&~M),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(s=!0,X0(h,w))}else w=ct,w=Ca(h,h===Pt?w:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(w&3)===0||Rn(h,w)||(s=!0,X0(h,w));h=h.next}while(s);ph=!1}}function em(){G0()}function G0(){hc=mh=!1;var e=0;da!==0&&hm()&&(e=da);for(var n=Kt(),s=null,h=uc;h!==null;){var y=h.next,w=Y0(h,n);w===0?(h.next=null,s===null?uc=y:s.next=y,y===null&&(Ls=s)):(s=h,(e!==0||(w&3)!==0)&&(hc=!0)),h=y}Cn!==0&&Cn!==5||jl(e),da!==0&&(da=0)}function Y0(e,n){for(var s=e.suspendedLanes,h=e.pingedLanes,y=e.expirationTimes,w=e.pendingLanes&-62914561;0<w;){var C=31-Je(w),M=1<<C,U=y[C];U===-1?((M&s)===0||(M&h)!==0)&&(y[C]=rl(M,n)):U<=n&&(e.expiredLanes|=M),w&=~M}if(n=Pt,s=ct,s=Ca(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),h=e.callbackNode,s===0||e===n&&(Nt===2||Nt===9)||e.cancelPendingCommit!==null)return h!==null&&h!==null&&Te(h),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Rn(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(h!==null&&Te(h),ji(s)){case 2:case 8:s=tl;break;case 32:s=ai;break;case 268435456:s=nl;break;default:s=ai}return h=q0.bind(null,e),s=jr(s,h),e.callbackPriority=n,e.callbackNode=s,n}return h!==null&&h!==null&&Te(h),e.callbackPriority=2,e.callbackNode=null,2}function q0(e,n){if(Cn!==0&&Cn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(cc()&&e.callbackNode!==s)return null;var h=ct;return h=Ca(e,e===Pt?h:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),h===0?null:(T0(e,h,n),Y0(e,Kt()),e.callbackNode!=null&&e.callbackNode===s?q0.bind(null,e):null)}function X0(e,n){if(cc())return null;T0(e,n,!0)}function tm(){dm(function(){(At&6)!==0?jr(Zn,em):G0()})}function yh(){if(da===0){var e=vs;e===0&&(e=_a,_a<<=1,(_a&261888)===0&&(_a=256)),da=e}return da}function W0(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Gr(""+e)}function Z0(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function nm(e,n,s,h,y){if(n==="submit"&&s&&s.stateNode===y){var w=W0((y[Tt]||null).action),C=h.submitter;C&&(n=(n=C[Tt]||null)?W0(n.formAction):C.getAttribute("formAction"),n!==null&&(w=n,C=null));var M=new En("action","action",null,h,y);e.push({event:M,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(da!==0){var U=C?Z0(y,C):new FormData(y);ju(s,{pending:!0,data:U,method:y.method,action:w},null,U)}}else typeof w=="function"&&(M.preventDefault(),U=C?Z0(y,C):new FormData(y),ju(s,{pending:!0,data:U,method:y.method,action:w},w,U))},currentTarget:y}]})}}for(var xh=0;xh<gl.length;xh++){var wh=gl[xh],im=wh.toLowerCase(),rm=wh[0].toUpperCase()+wh.slice(1);Vi(im,"on"+rm)}Vi($n,"onAnimationEnd"),Vi(Dn,"onAnimationIteration"),Vi(_t,"onAnimationStart"),Vi("dblclick","onDoubleClick"),Vi("focusin","onFocus"),Vi("focusout","onBlur"),Vi(_n,"onTransitionRun"),Vi(Yn,"onTransitionStart"),Vi(Kr,"onTransitionCancel"),Vi(yr,"onTransitionEnd"),li("onMouseEnter",["mouseout","mouseover"]),li("onMouseLeave",["mouseout","mouseover"]),li("onPointerEnter",["pointerout","pointerover"]),li("onPointerLeave",["pointerout","pointerover"]),Et("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Et("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Et("onBeforeInput",["compositionend","keypress","textInput","paste"]),Et("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Et("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Et("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ul="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),am=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ul));function Q0(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var h=e[s],y=h.event;h=h.listeners;e:{var w=void 0;if(n)for(var C=h.length-1;0<=C;C--){var M=h[C],U=M.instance,Q=M.currentTarget;if(M=M.listener,U!==w&&y.isPropagationStopped())break e;w=M,y.currentTarget=Q;try{w(y)}catch(ce){Co(ce)}y.currentTarget=null,w=U}else for(C=0;C<h.length;C++){if(M=h[C],U=M.instance,Q=M.currentTarget,M=M.listener,U!==w&&y.isPropagationStopped())break e;w=M,y.currentTarget=Q;try{w(y)}catch(ce){Co(ce)}y.currentTarget=null,w=U}}}}function st(e,n){var s=n[Ur];s===void 0&&(s=n[Ur]=new Set);var h=e+"__bubble";s.has(h)||(K0(n,e,2,!1),s.add(h))}function vh(e,n,s){var h=0;n&&(h|=4),K0(s,e,h,n)}var fc="_reactListening"+Math.random().toString(36).slice(2);function bh(e){if(!e[fc]){e[fc]=!0,ge.forEach(function(s){s!=="selectionchange"&&(am.has(s)||vh(s,!1,e),vh(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[fc]||(n[fc]=!0,vh("selectionchange",!1,n))}}function K0(e,n,s,h){switch(C1(n)){case 2:var y=Mm;break;case 8:y=Bm;break;default:y=kh}s=y.bind(null,n,s,e),y=void 0,!ll||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(y=!0),h?y!==void 0?e.addEventListener(n,s,{capture:!0,passive:y}):e.addEventListener(n,s,!0):y!==void 0?e.addEventListener(n,s,{passive:y}):e.addEventListener(n,s,!1)}function Ah(e,n,s,h,y){var w=h;if((n&1)===0&&(n&2)===0&&h!==null)e:for(;;){if(h===null)return;var C=h.tag;if(C===3||C===4){var M=h.stateNode.containerInfo;if(M===y)break;if(C===4)for(C=h.return;C!==null;){var U=C.tag;if((U===3||U===4)&&C.stateNode.containerInfo===y)return;C=C.return}for(;M!==null;){if(C=$t(M),C===null)return;if(U=C.tag,U===5||U===6||U===26||U===27){h=w=C;continue e}M=M.parentNode}}h=h.return}mo(function(){var Q=w,ce=sl(s),de=[];e:{var ee=_o.get(e);if(ee!==void 0){var se=En,Ne=e;switch(e){case"keypress":if(tr(s)===0)break e;case"keydown":case"keyup":se=hs;break;case"focusin":Ne="focus",se=ul;break;case"focusout":Ne="blur",se=ul;break;case"beforeblur":case"afterblur":se=ul;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=bt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=cs;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=Jc;break;case $n:case Dn:case _t:se=$e;break;case yr:se=dr;break;case"scroll":case"scrollend":se=po;break;case"wheel":se=$c;break;case"copy":case"cut":case"paste":se=us;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=St;break;case"toggle":case"beforetoggle":se=fl}var Fe=(n&4)!==0,Lt=!Fe&&(e==="scroll"||e==="scrollend"),Y=Fe?ee!==null?ee+"Capture":null:ee;Fe=[];for(var F=Q,Z;F!==null;){var ue=F;if(Z=ue.stateNode,ue=ue.tag,ue!==5&&ue!==26&&ue!==27||Z===null||Y===null||(ue=qe(F,Y),ue!=null&&Fe.push(zl(F,ue,Z))),Lt)break;F=F.return}0<Fe.length&&(ee=new se(ee,Ne,null,s,ce),de.push({event:ee,listeners:Fe}))}}if((n&7)===0){e:{if(ee=e==="mouseover"||e==="pointerover",se=e==="mouseout"||e==="pointerout",ee&&s!==Na&&(Ne=s.relatedTarget||s.fromElement)&&($t(Ne)||Ne[si]))break e;if((se||ee)&&(ee=ce.window===ce?ce:(ee=ce.ownerDocument)?ee.defaultView||ee.parentWindow:window,se?(Ne=s.relatedTarget||s.toElement,se=Q,Ne=Ne?$t(Ne):null,Ne!==null&&(Lt=m(Ne),Fe=Ne.tag,Ne!==Lt||Fe!==5&&Fe!==27&&Fe!==6)&&(Ne=null)):(se=null,Ne=Q),se!==Ne)){if(Fe=bt,ue="onMouseLeave",Y="onMouseEnter",F="mouse",(e==="pointerout"||e==="pointerover")&&(Fe=St,ue="onPointerLeave",Y="onPointerEnter",F="pointer"),Lt=se==null?ee:zr(se),Z=Ne==null?ee:zr(Ne),ee=new Fe(ue,F+"leave",se,s,ce),ee.target=Lt,ee.relatedTarget=Z,ue=null,$t(ce)===Q&&(Fe=new Fe(Y,F+"enter",Ne,s,ce),Fe.target=Z,Fe.relatedTarget=Lt,ue=Fe),Lt=ue,se&&Ne)t:{for(Fe=sm,Y=se,F=Ne,Z=0,ue=Y;ue;ue=Fe(ue))Z++;ue=0;for(var je=F;je;je=Fe(je))ue++;for(;0<Z-ue;)Y=Fe(Y),Z--;for(;0<ue-Z;)F=Fe(F),ue--;for(;Z--;){if(Y===F||F!==null&&Y===F.alternate){Fe=Y;break t}Y=Fe(Y),F=Fe(F)}Fe=null}else Fe=null;se!==null&&J0(de,ee,se,Fe,!1),Ne!==null&&Lt!==null&&J0(de,Lt,Ne,Fe,!0)}}e:{if(ee=Q?zr(Q):window,se=ee.nodeName&&ee.nodeName.toLowerCase(),se==="select"||se==="input"&&ee.type==="file")var xt=hi;else if(dl(ee))if(So)xt=c;else{xt=i;var De=t}else se=ee.nodeName,!se||se.toLowerCase()!=="input"||ee.type!=="checkbox"&&ee.type!=="radio"?Q&&jt(Q.elementType)&&(xt=hi):xt=a;if(xt&&(xt=xt(e,Q))){ui(de,xt,s,ce);break e}De&&De(e,ee,Q),e==="focusout"&&Q&&ee.type==="number"&&Q.memoizedProps.value!=null&&B(ee,"number",ee.value)}switch(De=Q?zr(Q):window,e){case"focusin":(dl(De)||De.contentEditable==="true")&&(z=De,P=Q,q=null);break;case"focusout":q=P=z=null;break;case"mousedown":ie=!0;break;case"contextmenu":case"mouseup":case"dragend":ie=!1,ye(de,s,ce);break;case"selectionchange":if(k)break;case"keydown":case"keyup":ye(de,s,ce)}var et;if(Ra)e:{switch(e){case"compositionstart":var ut="onCompositionStart";break e;case"compositionend":ut="onCompositionEnd";break e;case"compositionupdate":ut="onCompositionUpdate";break e}ut=void 0}else Qr?Eo(e,s)&&(ut="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(ut="onCompositionStart");ut&&(Ao&&s.locale!=="ko"&&(Qr||ut!=="onCompositionStart"?ut==="onCompositionEnd"&&Qr&&(et=Yr()):(Fi=ce,Hi="value"in Fi?Fi.value:Fi.textContent,Qr=!0)),De=dc(Q,ut),0<De.length&&(ut=new wo(ut,e,null,s,ce),de.push({event:ut,listeners:De}),et?ut.data=et:(et=Zr(s),et!==null&&(ut.data=et)))),(et=bo?rr(e,s):ds(e,s))&&(ut=dc(Q,"onBeforeInput"),0<ut.length&&(De=new wo("onBeforeInput","beforeinput",null,s,ce),de.push({event:De,listeners:ut}),De.data=et)),nm(de,e,Q,s,ce)}Q0(de,n)})}function zl(e,n,s){return{instance:e,listener:n,currentTarget:s}}function dc(e,n){for(var s=n+"Capture",h=[];e!==null;){var y=e,w=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||w===null||(y=qe(e,s),y!=null&&h.unshift(zl(e,y,w)),y=qe(e,n),y!=null&&h.push(zl(e,y,w))),e.tag===3)return h;e=e.return}return[]}function sm(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function J0(e,n,s,h,y){for(var w=n._reactName,C=[];s!==null&&s!==h;){var M=s,U=M.alternate,Q=M.stateNode;if(M=M.tag,U!==null&&U===h)break;M!==5&&M!==26&&M!==27||Q===null||(U=Q,y?(Q=qe(s,w),Q!=null&&C.unshift(zl(s,Q,U))):y||(Q=qe(s,w),Q!=null&&C.push(zl(s,Q,U)))),s=s.return}C.length!==0&&e.push({event:n,listeners:C})}var lm=/\r\n?/g,om=/\u0000|\uFFFD/g;function $0(e){return(typeof e=="string"?e:""+e).replace(lm,`
`).replace(om,"")}function e1(e,n){return n=$0(n),$0(e)===n}function Bt(e,n,s,h,y,w){switch(s){case"children":typeof h=="string"?n==="body"||n==="textarea"&&h===""||Vr(e,h):(typeof h=="number"||typeof h=="bigint")&&n!=="body"&&Vr(e,""+h);break;case"className":Fr(e,"class",h);break;case"tabIndex":Fr(e,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":Fr(e,s,h);break;case"style":Le(e,h,w);break;case"data":if(n!=="object"){Fr(e,"data",h);break}case"src":case"href":if(h===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){e.removeAttribute(s);break}h=Gr(""+h),e.setAttribute(s,h);break;case"action":case"formAction":if(typeof h=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(s==="formAction"?(n!=="input"&&Bt(e,n,"name",y.name,y,null),Bt(e,n,"formEncType",y.formEncType,y,null),Bt(e,n,"formMethod",y.formMethod,y,null),Bt(e,n,"formTarget",y.formTarget,y,null)):(Bt(e,n,"encType",y.encType,y,null),Bt(e,n,"method",y.method,y,null),Bt(e,n,"target",y.target,y,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){e.removeAttribute(s);break}h=Gr(""+h),e.setAttribute(s,h);break;case"onClick":h!=null&&(e.onclick=Kn);break;case"onScroll":h!=null&&st("scroll",e);break;case"onScrollEnd":h!=null&&st("scrollend",e);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(f(61));if(s=h.__html,s!=null){if(y.children!=null)throw Error(f(60));e.innerHTML=s}}break;case"multiple":e.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":e.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){e.removeAttribute("xlink:href");break}s=Gr(""+h),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?e.setAttribute(s,""+h):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":h===!0?e.setAttribute(s,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?e.setAttribute(s,h):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?e.setAttribute(s,h):e.removeAttribute(s);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?e.removeAttribute(s):e.setAttribute(s,h);break;case"popover":st("beforetoggle",e),st("toggle",e),Pr(e,"popover",h);break;case"xlinkActuate":oi(e,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":oi(e,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":oi(e,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":oi(e,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":oi(e,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":oi(e,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":oi(e,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":oi(e,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":oi(e,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":Pr(e,"is",h);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=go.get(s)||s,Pr(e,s,h))}}function Eh(e,n,s,h,y,w){switch(s){case"style":Le(e,h,w);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(f(61));if(s=h.__html,s!=null){if(y.children!=null)throw Error(f(60));e.innerHTML=s}}break;case"children":typeof h=="string"?Vr(e,h):(typeof h=="number"||typeof h=="bigint")&&Vr(e,""+h);break;case"onScroll":h!=null&&st("scroll",e);break;case"onScrollEnd":h!=null&&st("scrollend",e);break;case"onClick":h!=null&&(e.onclick=Kn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!fo.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(y=s.endsWith("Capture"),n=s.slice(2,y?s.length-7:void 0),w=e[Tt]||null,w=w!=null?w[s]:null,typeof w=="function"&&e.removeEventListener(n,w,y),typeof h=="function")){typeof w!="function"&&w!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,h,y);break e}s in e?e[s]=h:h===!0?e.setAttribute(s,""):Pr(e,s,h)}}}function kn(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":st("error",e),st("load",e);var h=!1,y=!1,w;for(w in s)if(s.hasOwnProperty(w)){var C=s[w];if(C!=null)switch(w){case"src":h=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(f(137,n));default:Bt(e,n,w,C,s,null)}}y&&Bt(e,n,"srcSet",s.srcSet,s,null),h&&Bt(e,n,"src",s.src,s,null);return;case"input":st("invalid",e);var M=w=C=y=null,U=null,Q=null;for(h in s)if(s.hasOwnProperty(h)){var ce=s[h];if(ce!=null)switch(h){case"name":y=ce;break;case"type":C=ce;break;case"checked":U=ce;break;case"defaultChecked":Q=ce;break;case"value":w=ce;break;case"defaultValue":M=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(f(137,n));break;default:Bt(e,n,h,ce,s,null)}}X(e,w,M,U,Q,C,y,!1);return;case"select":st("invalid",e),h=C=w=null;for(y in s)if(s.hasOwnProperty(y)&&(M=s[y],M!=null))switch(y){case"value":w=M;break;case"defaultValue":C=M;break;case"multiple":h=M;default:Bt(e,n,y,M,s,null)}n=w,s=C,e.multiple=!!h,n!=null?Ie(e,!!h,n,!1):s!=null&&Ie(e,!!h,s,!0);return;case"textarea":st("invalid",e),w=y=h=null;for(C in s)if(s.hasOwnProperty(C)&&(M=s[C],M!=null))switch(C){case"value":h=M;break;case"defaultValue":y=M;break;case"children":w=M;break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(f(91));break;default:Bt(e,n,C,M,s,null)}Vn(e,h,y,w);return;case"option":for(U in s)s.hasOwnProperty(U)&&(h=s[U],h!=null)&&(U==="selected"?e.selected=h&&typeof h!="function"&&typeof h!="symbol":Bt(e,n,U,h,s,null));return;case"dialog":st("beforetoggle",e),st("toggle",e),st("cancel",e),st("close",e);break;case"iframe":case"object":st("load",e);break;case"video":case"audio":for(h=0;h<Ul.length;h++)st(Ul[h],e);break;case"image":st("error",e),st("load",e);break;case"details":st("toggle",e);break;case"embed":case"source":case"link":st("error",e),st("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in s)if(s.hasOwnProperty(Q)&&(h=s[Q],h!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(f(137,n));default:Bt(e,n,Q,h,s,null)}return;default:if(jt(n)){for(ce in s)s.hasOwnProperty(ce)&&(h=s[ce],h!==void 0&&Eh(e,n,ce,h,s,void 0));return}}for(M in s)s.hasOwnProperty(M)&&(h=s[M],h!=null&&Bt(e,n,M,h,s,null))}function cm(e,n,s,h){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,w=null,C=null,M=null,U=null,Q=null,ce=null;for(se in s){var de=s[se];if(s.hasOwnProperty(se)&&de!=null)switch(se){case"checked":break;case"value":break;case"defaultValue":U=de;default:h.hasOwnProperty(se)||Bt(e,n,se,null,h,de)}}for(var ee in h){var se=h[ee];if(de=s[ee],h.hasOwnProperty(ee)&&(se!=null||de!=null))switch(ee){case"type":w=se;break;case"name":y=se;break;case"checked":Q=se;break;case"defaultChecked":ce=se;break;case"value":C=se;break;case"defaultValue":M=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(f(137,n));break;default:se!==de&&Bt(e,n,ee,se,h,de)}}fn(e,C,M,U,Q,ce,w,y);return;case"select":se=C=M=ee=null;for(w in s)if(U=s[w],s.hasOwnProperty(w)&&U!=null)switch(w){case"value":break;case"multiple":se=U;default:h.hasOwnProperty(w)||Bt(e,n,w,null,h,U)}for(y in h)if(w=h[y],U=s[y],h.hasOwnProperty(y)&&(w!=null||U!=null))switch(y){case"value":ee=w;break;case"defaultValue":M=w;break;case"multiple":C=w;default:w!==U&&Bt(e,n,y,w,h,U)}n=M,s=C,h=se,ee!=null?Ie(e,!!s,ee,!1):!!h!=!!s&&(n!=null?Ie(e,!!s,n,!0):Ie(e,!!s,s?[]:"",!1));return;case"textarea":se=ee=null;for(M in s)if(y=s[M],s.hasOwnProperty(M)&&y!=null&&!h.hasOwnProperty(M))switch(M){case"value":break;case"children":break;default:Bt(e,n,M,null,h,y)}for(C in h)if(y=h[C],w=s[C],h.hasOwnProperty(C)&&(y!=null||w!=null))switch(C){case"value":ee=y;break;case"defaultValue":se=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(f(91));break;default:y!==w&&Bt(e,n,C,y,h,w)}on(e,ee,se);return;case"option":for(var Ne in s)ee=s[Ne],s.hasOwnProperty(Ne)&&ee!=null&&!h.hasOwnProperty(Ne)&&(Ne==="selected"?e.selected=!1:Bt(e,n,Ne,null,h,ee));for(U in h)ee=h[U],se=s[U],h.hasOwnProperty(U)&&ee!==se&&(ee!=null||se!=null)&&(U==="selected"?e.selected=ee&&typeof ee!="function"&&typeof ee!="symbol":Bt(e,n,U,ee,h,se));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Fe in s)ee=s[Fe],s.hasOwnProperty(Fe)&&ee!=null&&!h.hasOwnProperty(Fe)&&Bt(e,n,Fe,null,h,ee);for(Q in h)if(ee=h[Q],se=s[Q],h.hasOwnProperty(Q)&&ee!==se&&(ee!=null||se!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(f(137,n));break;default:Bt(e,n,Q,ee,h,se)}return;default:if(jt(n)){for(var Lt in s)ee=s[Lt],s.hasOwnProperty(Lt)&&ee!==void 0&&!h.hasOwnProperty(Lt)&&Eh(e,n,Lt,void 0,h,ee);for(ce in h)ee=h[ce],se=s[ce],!h.hasOwnProperty(ce)||ee===se||ee===void 0&&se===void 0||Eh(e,n,ce,ee,h,se);return}}for(var Y in s)ee=s[Y],s.hasOwnProperty(Y)&&ee!=null&&!h.hasOwnProperty(Y)&&Bt(e,n,Y,null,h,ee);for(de in h)ee=h[de],se=s[de],!h.hasOwnProperty(de)||ee===se||ee==null&&se==null||Bt(e,n,de,ee,h,se)}function t1(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function um(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),h=0;h<s.length;h++){var y=s[h],w=y.transferSize,C=y.initiatorType,M=y.duration;if(w&&M&&t1(C)){for(C=0,M=y.responseEnd,h+=1;h<s.length;h++){var U=s[h],Q=U.startTime;if(Q>M)break;var ce=U.transferSize,de=U.initiatorType;ce&&t1(de)&&(U=U.responseEnd,C+=ce*(U<M?1:(M-Q)/(U-Q)))}if(--h,n+=8*(w+C)/(y.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Sh=null,_h=null;function gc(e){return e.nodeType===9?e:e.ownerDocument}function n1(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function i1(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Ch(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Th=null;function hm(){var e=window.event;return e&&e.type==="popstate"?e===Th?!1:(Th=e,!0):(Th=null,!1)}var r1=typeof setTimeout=="function"?setTimeout:void 0,fm=typeof clearTimeout=="function"?clearTimeout:void 0,a1=typeof Promise=="function"?Promise:void 0,dm=typeof queueMicrotask=="function"?queueMicrotask:typeof a1<"u"?function(e){return a1.resolve(null).then(e).catch(gm)}:r1;function gm(e){setTimeout(function(){throw e})}function ga(e){return e==="head"}function s1(e,n){var s=n,h=0;do{var y=s.nextSibling;if(e.removeChild(s),y&&y.nodeType===8)if(s=y.data,s==="/$"||s==="/&"){if(h===0){e.removeChild(y),zs(n);return}h--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")h++;else if(s==="html")Pl(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,Pl(s);for(var w=s.firstChild;w;){var C=w.nextSibling,M=w.nodeName;w[Ta]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&w.rel.toLowerCase()==="stylesheet"||s.removeChild(w),w=C}}else s==="body"&&Pl(e.ownerDocument.body);s=y}while(s);zs(n)}function l1(e,n){var s=e;e=0;do{var h=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),h&&h.nodeType===8)if(s=h.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=h}while(s)}function Nh(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Nh(s),Qn(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function mm(e,n,s,h){for(;e.nodeType===1;){var y=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!h&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(h){if(!e[Ta])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(w=e.getAttribute("rel"),w==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(w!==y.rel||e.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||e.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||e.getAttribute("title")!==(y.title==null?null:y.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(w=e.getAttribute("src"),(w!==(y.src==null?null:y.src)||e.getAttribute("type")!==(y.type==null?null:y.type)||e.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&w&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var w=y.name==null?null:""+y.name;if(y.type==="hidden"&&e.getAttribute("name")===w)return e}else return e;if(e=Bi(e.nextSibling),e===null)break}return null}function pm(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Bi(e.nextSibling),e===null))return null;return e}function o1(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Bi(e.nextSibling),e===null))return null;return e}function Oh(e){return e.data==="$?"||e.data==="$~"}function Ih(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function ym(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var h=function(){n(),s.removeEventListener("DOMContentLoaded",h)};s.addEventListener("DOMContentLoaded",h),e._reactRetry=h}}function Bi(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Rh=null;function c1(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return Bi(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function u1(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function h1(e,n,s){switch(n=gc(s),e){case"html":if(e=n.documentElement,!e)throw Error(f(452));return e;case"head":if(e=n.head,!e)throw Error(f(453));return e;case"body":if(e=n.body,!e)throw Error(f(454));return e;default:throw Error(f(451))}}function Pl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Qn(e)}var Li=new Map,f1=new Set;function mc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Dr=fe.d;fe.d={f:xm,r:wm,D:vm,C:bm,L:Am,m:Em,X:_m,S:Sm,M:Cm};function xm(){var e=Dr.f(),n=sc();return e||n}function wm(e){var n=vt(e);n!==null&&n.tag===5&&n.type==="form"?Od(n):Dr.r(e)}var ks=typeof document>"u"?null:document;function d1(e,n,s){var h=ks;if(h&&typeof n=="string"&&n){var y=nt(n);y='link[rel="'+e+'"][href="'+y+'"]',typeof s=="string"&&(y+='[crossorigin="'+s+'"]'),f1.has(y)||(f1.add(y),e={rel:e,crossOrigin:s,href:n},h.querySelector(y)===null&&(n=h.createElement("link"),kn(n,"link",e),en(n),h.head.appendChild(n)))}}function vm(e){Dr.D(e),d1("dns-prefetch",e,null)}function bm(e,n){Dr.C(e,n),d1("preconnect",e,n)}function Am(e,n,s){Dr.L(e,n,s);var h=ks;if(h&&e&&n){var y='link[rel="preload"][as="'+nt(n)+'"]';n==="image"&&s&&s.imageSrcSet?(y+='[imagesrcset="'+nt(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(y+='[imagesizes="'+nt(s.imageSizes)+'"]')):y+='[href="'+nt(e)+'"]';var w=y;switch(n){case"style":w=js(e);break;case"script":w=Us(e)}Li.has(w)||(e=R({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),Li.set(w,e),h.querySelector(y)!==null||n==="style"&&h.querySelector(Fl(w))||n==="script"&&h.querySelector(Hl(w))||(n=h.createElement("link"),kn(n,"link",e),en(n),h.head.appendChild(n)))}}function Em(e,n){Dr.m(e,n);var s=ks;if(s&&e){var h=n&&typeof n.as=="string"?n.as:"script",y='link[rel="modulepreload"][as="'+nt(h)+'"][href="'+nt(e)+'"]',w=y;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=Us(e)}if(!Li.has(w)&&(e=R({rel:"modulepreload",href:e},n),Li.set(w,e),s.querySelector(y)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Hl(w)))return}h=s.createElement("link"),kn(h,"link",e),en(h),s.head.appendChild(h)}}}function Sm(e,n,s){Dr.S(e,n,s);var h=ks;if(h&&e){var y=Hn(h).hoistableStyles,w=js(e);n=n||"default";var C=y.get(w);if(!C){var M={loading:0,preload:null};if(C=h.querySelector(Fl(w)))M.loading=5;else{e=R({rel:"stylesheet",href:e,"data-precedence":n},s),(s=Li.get(w))&&Dh(e,s);var U=C=h.createElement("link");en(U),kn(U,"link",e),U._p=new Promise(function(Q,ce){U.onload=Q,U.onerror=ce}),U.addEventListener("load",function(){M.loading|=1}),U.addEventListener("error",function(){M.loading|=2}),M.loading|=4,pc(C,n,h)}C={type:"stylesheet",instance:C,count:1,state:M},y.set(w,C)}}}function _m(e,n){Dr.X(e,n);var s=ks;if(s&&e){var h=Hn(s).hoistableScripts,y=Us(e),w=h.get(y);w||(w=s.querySelector(Hl(y)),w||(e=R({src:e,async:!0},n),(n=Li.get(y))&&Mh(e,n),w=s.createElement("script"),en(w),kn(w,"link",e),s.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},h.set(y,w))}}function Cm(e,n){Dr.M(e,n);var s=ks;if(s&&e){var h=Hn(s).hoistableScripts,y=Us(e),w=h.get(y);w||(w=s.querySelector(Hl(y)),w||(e=R({src:e,async:!0,type:"module"},n),(n=Li.get(y))&&Mh(e,n),w=s.createElement("script"),en(w),kn(w,"link",e),s.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},h.set(y,w))}}function g1(e,n,s,h){var y=(y=we.current)?mc(y):null;if(!y)throw Error(f(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=js(s.href),s=Hn(y).hoistableStyles,h=s.get(n),h||(h={type:"style",instance:null,count:0,state:null},s.set(n,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=js(s.href);var w=Hn(y).hoistableStyles,C=w.get(e);if(C||(y=y.ownerDocument||y,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(e,C),(w=y.querySelector(Fl(e)))&&!w._p&&(C.instance=w,C.state.loading=5),Li.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Li.set(e,s),w||Tm(y,e,s,C.state))),n&&h===null)throw Error(f(528,""));return C}if(n&&h!==null)throw Error(f(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Us(s),s=Hn(y).hoistableScripts,h=s.get(n),h||(h={type:"script",instance:null,count:0,state:null},s.set(n,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(f(444,e))}}function js(e){return'href="'+nt(e)+'"'}function Fl(e){return'link[rel="stylesheet"]['+e+"]"}function m1(e){return R({},e,{"data-precedence":e.precedence,precedence:null})}function Tm(e,n,s,h){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?h.loading=1:(n=e.createElement("link"),h.preload=n,n.addEventListener("load",function(){return h.loading|=1}),n.addEventListener("error",function(){return h.loading|=2}),kn(n,"link",s),en(n),e.head.appendChild(n))}function Us(e){return'[src="'+nt(e)+'"]'}function Hl(e){return"script[async]"+e}function p1(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var h=e.querySelector('style[data-href~="'+nt(s.href)+'"]');if(h)return n.instance=h,en(h),h;var y=R({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return h=(e.ownerDocument||e).createElement("style"),en(h),kn(h,"style",y),pc(h,s.precedence,e),n.instance=h;case"stylesheet":y=js(s.href);var w=e.querySelector(Fl(y));if(w)return n.state.loading|=4,n.instance=w,en(w),w;h=m1(s),(y=Li.get(y))&&Dh(h,y),w=(e.ownerDocument||e).createElement("link"),en(w);var C=w;return C._p=new Promise(function(M,U){C.onload=M,C.onerror=U}),kn(w,"link",h),n.state.loading|=4,pc(w,s.precedence,e),n.instance=w;case"script":return w=Us(s.src),(y=e.querySelector(Hl(w)))?(n.instance=y,en(y),y):(h=s,(y=Li.get(w))&&(h=R({},s),Mh(h,y)),e=e.ownerDocument||e,y=e.createElement("script"),en(y),kn(y,"link",h),e.head.appendChild(y),n.instance=y);case"void":return null;default:throw Error(f(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(h=n.instance,n.state.loading|=4,pc(h,s.precedence,e));return n.instance}function pc(e,n,s){for(var h=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=h.length?h[h.length-1]:null,w=y,C=0;C<h.length;C++){var M=h[C];if(M.dataset.precedence===n)w=M;else if(w!==y)break}w?w.parentNode.insertBefore(e,w.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function Dh(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Mh(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var yc=null;function y1(e,n,s){if(yc===null){var h=new Map,y=yc=new Map;y.set(s,h)}else y=yc,h=y.get(s),h||(h=new Map,y.set(s,h));if(h.has(e))return h;for(h.set(e,null),s=s.getElementsByTagName(e),y=0;y<s.length;y++){var w=s[y];if(!(w[Ta]||w[ln]||e==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var C=w.getAttribute(n)||"";C=e+C;var M=h.get(C);M?M.push(w):h.set(C,[w])}}return h}function x1(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function Nm(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function w1(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Om(e,n,s,h){if(s.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var y=js(h.href),w=n.querySelector(Fl(y));if(w){n=w._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=xc.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=w,en(w);return}w=n.ownerDocument||n,h=m1(h),(y=Li.get(y))&&Dh(h,y),w=w.createElement("link"),en(w);var C=w;C._p=new Promise(function(M,U){C.onload=M,C.onerror=U}),kn(w,"link",h),s.instance=w}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=xc.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var Bh=0;function Im(e,n){return e.stylesheets&&e.count===0&&vc(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var h=setTimeout(function(){if(e.stylesheets&&vc(e,e.stylesheets),e.unsuspend){var w=e.unsuspend;e.unsuspend=null,w()}},6e4+n);0<e.imgBytes&&Bh===0&&(Bh=62500*um());var y=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&vc(e,e.stylesheets),e.unsuspend)){var w=e.unsuspend;e.unsuspend=null,w()}},(e.imgBytes>Bh?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(h),clearTimeout(y)}}:null}function xc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)vc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var wc=null;function vc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,wc=new Map,n.forEach(Rm,e),wc=null,xc.call(e))}function Rm(e,n){if(!(n.state.loading&4)){var s=wc.get(e);if(s)var h=s.get(null);else{s=new Map,wc.set(e,s);for(var y=e.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<y.length;w++){var C=y[w];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(s.set(C.dataset.precedence,C),h=C)}h&&s.set(null,h)}y=n.instance,C=y.getAttribute("data-precedence"),w=s.get(C)||h,w===h&&s.set(null,y),s.set(C,y),this.count++,h=xc.bind(this),y.addEventListener("load",h),y.addEventListener("error",h),w?w.parentNode.insertBefore(y,w.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(y,e.firstChild)),n.state.loading|=4}}var Vl={$$typeof:J,Provider:null,Consumer:null,_currentValue:ke,_currentValue2:ke,_threadCount:0};function Dm(e,n,s,h,y,w,C,M,U){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ji(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ji(0),this.hiddenUpdates=Ji(null),this.identifierPrefix=h,this.onUncaughtError=y,this.onCaughtError=w,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=U,this.incompleteTransitions=new Map}function v1(e,n,s,h,y,w,C,M,U,Q,ce,de){return e=new Dm(e,n,s,C,U,Q,ce,de,M),n=1,w===!0&&(n|=24),w=fi(3,null,null,n),e.current=w,w.stateNode=e,n=du(),n.refCount++,e.pooledCache=n,n.refCount++,w.memoizedState={element:h,isDehydrated:s,cache:n},yu(w),e}function b1(e){return e?(e=ms,e):ms}function A1(e,n,s,h,y,w){y=b1(y),h.context===null?h.context=y:h.pendingContext=y,h=ia(n),h.payload={element:s},w=w===void 0?null:w,w!==null&&(h.callback=w),s=ra(e,h,n),s!==null&&(ri(s,e,n),bl(s,e,n))}function E1(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function Lh(e,n){E1(e,n),(e=e.alternate)&&E1(e,n)}function S1(e){if(e.tag===13||e.tag===31){var n=ka(e,67108864);n!==null&&ri(n,e,67108864),Lh(e,67108864)}}function _1(e){if(e.tag===13||e.tag===31){var n=yi();n=Nn(n);var s=ka(e,n);s!==null&&ri(s,e,n),Lh(e,n)}}var bc=!0;function Mm(e,n,s,h){var y=ne.T;ne.T=null;var w=fe.p;try{fe.p=2,kh(e,n,s,h)}finally{fe.p=w,ne.T=y}}function Bm(e,n,s,h){var y=ne.T;ne.T=null;var w=fe.p;try{fe.p=8,kh(e,n,s,h)}finally{fe.p=w,ne.T=y}}function kh(e,n,s,h){if(bc){var y=jh(h);if(y===null)Ah(e,n,h,Ac,s),T1(e,h);else if(km(y,e,n,s,h))h.stopPropagation();else if(T1(e,h),n&4&&-1<Lm.indexOf(e)){for(;y!==null;){var w=vt(y);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var C=Ki(w.pendingLanes);if(C!==0){var M=w;for(M.pendingLanes|=2,M.entangledLanes|=2;C;){var U=1<<31-Je(C);M.entanglements[1]|=U,C&=~U}or(w),(At&6)===0&&(rc=Kt()+500,jl(0))}}break;case 31:case 13:M=ka(w,2),M!==null&&ri(M,w,2),sc(),Lh(w,2)}if(w=jh(h),w===null&&Ah(e,n,h,Ac,s),w===y)break;y=w}y!==null&&h.stopPropagation()}else Ah(e,n,h,null,s)}}function jh(e){return e=sl(e),Uh(e)}var Ac=null;function Uh(e){if(Ac=null,e=$t(e),e!==null){var n=m(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=b(n),e!==null)return e;e=null}else if(s===31){if(e=E(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Ac=e,null}function C1(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(el()){case Zn:return 2;case tl:return 8;case ai:case In:return 32;case nl:return 268435456;default:return 32}default:return 32}}var zh=!1,ma=null,pa=null,ya=null,Gl=new Map,Yl=new Map,xa=[],Lm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function T1(e,n){switch(e){case"focusin":case"focusout":ma=null;break;case"dragenter":case"dragleave":pa=null;break;case"mouseover":case"mouseout":ya=null;break;case"pointerover":case"pointerout":Gl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yl.delete(n.pointerId)}}function ql(e,n,s,h,y,w){return e===null||e.nativeEvent!==w?(e={blockedOn:n,domEventName:s,eventSystemFlags:h,nativeEvent:w,targetContainers:[y]},n!==null&&(n=vt(n),n!==null&&S1(n)),e):(e.eventSystemFlags|=h,n=e.targetContainers,y!==null&&n.indexOf(y)===-1&&n.push(y),e)}function km(e,n,s,h,y){switch(n){case"focusin":return ma=ql(ma,e,n,s,h,y),!0;case"dragenter":return pa=ql(pa,e,n,s,h,y),!0;case"mouseover":return ya=ql(ya,e,n,s,h,y),!0;case"pointerover":var w=y.pointerId;return Gl.set(w,ql(Gl.get(w)||null,e,n,s,h,y)),!0;case"gotpointercapture":return w=y.pointerId,Yl.set(w,ql(Yl.get(w)||null,e,n,s,h,y)),!0}return!1}function N1(e){var n=$t(e.target);if(n!==null){var s=m(n);if(s!==null){if(n=s.tag,n===13){if(n=b(s),n!==null){e.blockedOn=n,_e(e.priority,function(){_1(s)});return}}else if(n===31){if(n=E(s),n!==null){e.blockedOn=n,_e(e.priority,function(){_1(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ec(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=jh(e.nativeEvent);if(s===null){s=e.nativeEvent;var h=new s.constructor(s.type,s);Na=h,s.target.dispatchEvent(h),Na=null}else return n=vt(s),n!==null&&S1(n),e.blockedOn=s,!1;n.shift()}return!0}function O1(e,n,s){Ec(e)&&s.delete(n)}function jm(){zh=!1,ma!==null&&Ec(ma)&&(ma=null),pa!==null&&Ec(pa)&&(pa=null),ya!==null&&Ec(ya)&&(ya=null),Gl.forEach(O1),Yl.forEach(O1)}function Sc(e,n){e.blockedOn===n&&(e.blockedOn=null,zh||(zh=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,jm)))}var _c=null;function I1(e){_c!==e&&(_c=e,o.unstable_scheduleCallback(o.unstable_NormalPriority,function(){_c===e&&(_c=null);for(var n=0;n<e.length;n+=3){var s=e[n],h=e[n+1],y=e[n+2];if(typeof h!="function"){if(Uh(h||s)===null)continue;break}var w=vt(s);w!==null&&(e.splice(n,3),n-=3,ju(w,{pending:!0,data:y,method:s.method,action:h},h,y))}}))}function zs(e){function n(U){return Sc(U,e)}ma!==null&&Sc(ma,e),pa!==null&&Sc(pa,e),ya!==null&&Sc(ya,e),Gl.forEach(n),Yl.forEach(n);for(var s=0;s<xa.length;s++){var h=xa[s];h.blockedOn===e&&(h.blockedOn=null)}for(;0<xa.length&&(s=xa[0],s.blockedOn===null);)N1(s),s.blockedOn===null&&xa.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(h=0;h<s.length;h+=3){var y=s[h],w=s[h+1],C=y[Tt]||null;if(typeof w=="function")C||I1(s);else if(C){var M=null;if(w&&w.hasAttribute("formAction")){if(y=w,C=w[Tt]||null)M=C.formAction;else if(Uh(y)!==null)continue}else M=C.action;typeof M=="function"?s[h+1]=M:(s.splice(h,3),h-=3),I1(s)}}}function R1(){function e(w){w.canIntercept&&w.info==="react-transition"&&w.intercept({handler:function(){return new Promise(function(C){return y=C})},focusReset:"manual",scroll:"manual"})}function n(){y!==null&&(y(),y=null),h||setTimeout(s,20)}function s(){if(!h&&!navigation.transition){var w=navigation.currentEntry;w&&w.url!=null&&navigation.navigate(w.url,{state:w.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,y=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){h=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),y!==null&&(y(),y=null)}}}function Ph(e){this._internalRoot=e}Cc.prototype.render=Ph.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(f(409));var s=n.current,h=yi();A1(s,h,e,n,null,null)},Cc.prototype.unmount=Ph.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;A1(e.current,2,null,e,null,null),sc(),n[si]=null}};function Cc(e){this._internalRoot=e}Cc.prototype.unstable_scheduleHydration=function(e){if(e){var n=Pn();e={blockedOn:null,target:e,priority:n};for(var s=0;s<xa.length&&n!==0&&n<xa[s].priority;s++);xa.splice(s,0,e),s===0&&N1(e)}};var D1=r.version;if(D1!=="19.2.4")throw Error(f(527,D1,"19.2.4"));fe.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(f(188)):(e=Object.keys(e).join(","),Error(f(268,e)));return e=v(n),e=e!==null?T(e):null,e=e===null?null:e.stateNode,e};var Um={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:ne,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tc.isDisabled&&Tc.supportsFiber)try{Ft=Tc.inject(Um),xe=Tc}catch{}}return Wl.createRoot=function(e,n){if(!p(e))throw Error(f(299));var s=!1,h="",y=zd,w=Pd,C=Fd;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(h=n.identifierPrefix),n.onUncaughtError!==void 0&&(y=n.onUncaughtError),n.onCaughtError!==void 0&&(w=n.onCaughtError),n.onRecoverableError!==void 0&&(C=n.onRecoverableError)),n=v1(e,1,!1,null,null,s,h,null,y,w,C,R1),e[si]=n.current,bh(e),new Ph(n)},Wl.hydrateRoot=function(e,n,s){if(!p(e))throw Error(f(299));var h=!1,y="",w=zd,C=Pd,M=Fd,U=null;return s!=null&&(s.unstable_strictMode===!0&&(h=!0),s.identifierPrefix!==void 0&&(y=s.identifierPrefix),s.onUncaughtError!==void 0&&(w=s.onUncaughtError),s.onCaughtError!==void 0&&(C=s.onCaughtError),s.onRecoverableError!==void 0&&(M=s.onRecoverableError),s.formState!==void 0&&(U=s.formState)),n=v1(e,1,!0,n,s??null,h,y,U,w,C,M,R1),n.context=b1(null),s=n.current,h=yi(),h=Nn(h),y=ia(h),y.callback=null,ra(s,y,h),s=h,n.current.lanes=s,$i(n,s),or(n),e[si]=n.current,bh(e),new Cc(n)},Wl.version="19.2.4",Wl}var H1;function Zm(){if(H1)return Vh.exports;H1=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(r){console.error(r)}}return o(),Vh.exports=Wm(),Vh.exports}var Qm=Zm();function Fc(o,r){var l={};for(var f in o)Object.prototype.hasOwnProperty.call(o,f)&&r.indexOf(f)<0&&(l[f]=o[f]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var p=0,f=Object.getOwnPropertySymbols(o);p<f.length;p++)r.indexOf(f[p])<0&&Object.prototype.propertyIsEnumerable.call(o,f[p])&&(l[f[p]]=o[f[p]]);return l}function Km(o,r,l,f){function p(m){return m instanceof l?m:new l(function(b){b(m)})}return new(l||(l=Promise))(function(m,b){function E(T){try{v(f.next(T))}catch(R){b(R)}}function S(T){try{v(f.throw(T))}catch(R){b(R)}}function v(T){T.done?m(T.value):p(T.value).then(E,S)}v((f=f.apply(o,r||[])).next())})}const Jm=o=>o?(...r)=>o(...r):(...r)=>fetch(...r);class Sf extends Error{constructor(r,l="FunctionsError",f){super(r),this.name=l,this.context=f}}class $m extends Sf{constructor(r){super("Failed to send a request to the Edge Function","FunctionsFetchError",r)}}class V1 extends Sf{constructor(r){super("Relay Error invoking the Edge Function","FunctionsRelayError",r)}}class G1 extends Sf{constructor(r){super("Edge Function returned a non-2xx status code","FunctionsHttpError",r)}}var df;(function(o){o.Any="any",o.ApNortheast1="ap-northeast-1",o.ApNortheast2="ap-northeast-2",o.ApSouth1="ap-south-1",o.ApSoutheast1="ap-southeast-1",o.ApSoutheast2="ap-southeast-2",o.CaCentral1="ca-central-1",o.EuCentral1="eu-central-1",o.EuWest1="eu-west-1",o.EuWest2="eu-west-2",o.EuWest3="eu-west-3",o.SaEast1="sa-east-1",o.UsEast1="us-east-1",o.UsWest1="us-west-1",o.UsWest2="us-west-2"})(df||(df={}));class ep{constructor(r,{headers:l={},customFetch:f,region:p=df.Any}={}){this.url=r,this.headers=l,this.region=p,this.fetch=Jm(f)}setAuth(r){this.headers.Authorization=`Bearer ${r}`}invoke(r){return Km(this,arguments,void 0,function*(l,f={}){var p;let m,b;try{const{headers:E,method:S,body:v,signal:T,timeout:R}=f;let L={},{region:j}=f;j||(j=this.region);const H=new URL(`${this.url}/${l}`);j&&j!=="any"&&(L["x-region"]=j,H.searchParams.set("forceFunctionRegion",j));let G;v&&(E&&!Object.prototype.hasOwnProperty.call(E,"Content-Type")||!E)?typeof Blob<"u"&&v instanceof Blob||v instanceof ArrayBuffer?(L["Content-Type"]="application/octet-stream",G=v):typeof v=="string"?(L["Content-Type"]="text/plain",G=v):typeof FormData<"u"&&v instanceof FormData?G=v:(L["Content-Type"]="application/json",G=JSON.stringify(v)):v&&typeof v!="string"&&!(typeof Blob<"u"&&v instanceof Blob)&&!(v instanceof ArrayBuffer)&&!(typeof FormData<"u"&&v instanceof FormData)?G=JSON.stringify(v):G=v;let le=T;R&&(b=new AbortController,m=setTimeout(()=>b.abort(),R),T?(le=b.signal,T.addEventListener("abort",()=>b.abort())):le=b.signal);const W=yield this.fetch(H.toString(),{method:S||"POST",headers:Object.assign(Object.assign(Object.assign({},L),this.headers),E),body:G,signal:le}).catch(Re=>{throw new $m(Re)}),ae=W.headers.get("x-relay-error");if(ae&&ae==="true")throw new V1(W);if(!W.ok)throw new G1(W);let J=((p=W.headers.get("Content-Type"))!==null&&p!==void 0?p:"text/plain").split(";")[0].trim(),$;return J==="application/json"?$=yield W.json():J==="application/octet-stream"||J==="application/pdf"?$=yield W.blob():J==="text/event-stream"?$=W:J==="multipart/form-data"?$=yield W.formData():$=yield W.text(),{data:$,error:null,response:W}}catch(E){return{data:null,error:E,response:E instanceof G1||E instanceof V1?E.context:void 0}}finally{m&&clearTimeout(m)}})}}var tp=class extends Error{constructor(o){super(o.message),this.name="PostgrestError",this.details=o.details,this.hint=o.hint,this.code=o.code}},np=class{constructor(o){var r,l;this.shouldThrowOnError=!1,this.method=o.method,this.url=o.url,this.headers=new Headers(o.headers),this.schema=o.schema,this.body=o.body,this.shouldThrowOnError=(r=o.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=o.signal,this.isMaybeSingle=(l=o.isMaybeSingle)!==null&&l!==void 0?l:!1,o.fetch?this.fetch=o.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(o,r){return this.headers=new Headers(this.headers),this.headers.set(o,r),this}then(o,r){var l=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const f=this.fetch;let p=f(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async m=>{let b=null,E=null,S=null,v=m.status,T=m.statusText;if(m.ok){var R,L;if(l.method!=="HEAD"){var j;const W=await m.text();W===""||(l.headers.get("Accept")==="text/csv"||l.headers.get("Accept")&&(!((j=l.headers.get("Accept"))===null||j===void 0)&&j.includes("application/vnd.pgrst.plan+text"))?E=W:E=JSON.parse(W))}const G=(R=l.headers.get("Prefer"))===null||R===void 0?void 0:R.match(/count=(exact|planned|estimated)/),le=(L=m.headers.get("content-range"))===null||L===void 0?void 0:L.split("/");G&&le&&le.length>1&&(S=parseInt(le[1])),l.isMaybeSingle&&l.method==="GET"&&Array.isArray(E)&&(E.length>1?(b={code:"PGRST116",details:`Results contain ${E.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},E=null,S=null,v=406,T="Not Acceptable"):E.length===1?E=E[0]:E=null)}else{var H;const G=await m.text();try{b=JSON.parse(G),Array.isArray(b)&&m.status===404&&(E=[],b=null,v=200,T="OK")}catch{m.status===404&&G===""?(v=204,T="No Content"):b={message:G}}if(b&&l.isMaybeSingle&&(!(b==null||(H=b.details)===null||H===void 0)&&H.includes("0 rows"))&&(b=null,v=200,T="OK"),b&&l.shouldThrowOnError)throw new tp(b)}return{error:b,data:E,count:S,status:v,statusText:T}});return this.shouldThrowOnError||(p=p.catch(m=>{var b;let E="";const S=m?.cause;if(S){var v,T,R,L;const H=(v=S?.message)!==null&&v!==void 0?v:"",G=(T=S?.code)!==null&&T!==void 0?T:"";E=`${(R=m?.name)!==null&&R!==void 0?R:"FetchError"}: ${m?.message}`,E+=`

Caused by: ${(L=S?.name)!==null&&L!==void 0?L:"Error"}: ${H}`,G&&(E+=` (${G})`),S?.stack&&(E+=`
${S.stack}`)}else{var j;E=(j=m?.stack)!==null&&j!==void 0?j:""}return{error:{message:`${(b=m?.name)!==null&&b!==void 0?b:"FetchError"}: ${m?.message}`,details:E,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),p.then(o,r)}returns(){return this}overrideTypes(){return this}},ip=class extends np{select(o){let r=!1;const l=(o??"*").split("").map(f=>/\s/.test(f)&&!r?"":(f==='"'&&(r=!r),f)).join("");return this.url.searchParams.set("select",l),this.headers.append("Prefer","return=representation"),this}order(o,{ascending:r=!0,nullsFirst:l,foreignTable:f,referencedTable:p=f}={}){const m=p?`${p}.order`:"order",b=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${b?`${b},`:""}${o}.${r?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(o,{foreignTable:r,referencedTable:l=r}={}){const f=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(f,`${o}`),this}range(o,r,{foreignTable:l,referencedTable:f=l}={}){const p=typeof f>"u"?"offset":`${f}.offset`,m=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(p,`${o}`),this.url.searchParams.set(m,`${r-o+1}`),this}abortSignal(o){return this.signal=o,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:o=!1,verbose:r=!1,settings:l=!1,buffers:f=!1,wal:p=!1,format:m="text"}={}){var b;const E=[o?"analyze":null,r?"verbose":null,l?"settings":null,f?"buffers":null,p?"wal":null].filter(Boolean).join("|"),S=(b=this.headers.get("Accept"))!==null&&b!==void 0?b:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${m}; for="${S}"; options=${E};`),m==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(o){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${o}`),this}};const Y1=new RegExp("[,()]");var Xs=class extends ip{eq(o,r){return this.url.searchParams.append(o,`eq.${r}`),this}neq(o,r){return this.url.searchParams.append(o,`neq.${r}`),this}gt(o,r){return this.url.searchParams.append(o,`gt.${r}`),this}gte(o,r){return this.url.searchParams.append(o,`gte.${r}`),this}lt(o,r){return this.url.searchParams.append(o,`lt.${r}`),this}lte(o,r){return this.url.searchParams.append(o,`lte.${r}`),this}like(o,r){return this.url.searchParams.append(o,`like.${r}`),this}likeAllOf(o,r){return this.url.searchParams.append(o,`like(all).{${r.join(",")}}`),this}likeAnyOf(o,r){return this.url.searchParams.append(o,`like(any).{${r.join(",")}}`),this}ilike(o,r){return this.url.searchParams.append(o,`ilike.${r}`),this}ilikeAllOf(o,r){return this.url.searchParams.append(o,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(o,r){return this.url.searchParams.append(o,`ilike(any).{${r.join(",")}}`),this}regexMatch(o,r){return this.url.searchParams.append(o,`match.${r}`),this}regexIMatch(o,r){return this.url.searchParams.append(o,`imatch.${r}`),this}is(o,r){return this.url.searchParams.append(o,`is.${r}`),this}isDistinct(o,r){return this.url.searchParams.append(o,`isdistinct.${r}`),this}in(o,r){const l=Array.from(new Set(r)).map(f=>typeof f=="string"&&Y1.test(f)?`"${f}"`:`${f}`).join(",");return this.url.searchParams.append(o,`in.(${l})`),this}notIn(o,r){const l=Array.from(new Set(r)).map(f=>typeof f=="string"&&Y1.test(f)?`"${f}"`:`${f}`).join(",");return this.url.searchParams.append(o,`not.in.(${l})`),this}contains(o,r){return typeof r=="string"?this.url.searchParams.append(o,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(o,`cs.{${r.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(r)}`),this}containedBy(o,r){return typeof r=="string"?this.url.searchParams.append(o,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(o,`cd.{${r.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(r)}`),this}rangeGt(o,r){return this.url.searchParams.append(o,`sr.${r}`),this}rangeGte(o,r){return this.url.searchParams.append(o,`nxl.${r}`),this}rangeLt(o,r){return this.url.searchParams.append(o,`sl.${r}`),this}rangeLte(o,r){return this.url.searchParams.append(o,`nxr.${r}`),this}rangeAdjacent(o,r){return this.url.searchParams.append(o,`adj.${r}`),this}overlaps(o,r){return typeof r=="string"?this.url.searchParams.append(o,`ov.${r}`):this.url.searchParams.append(o,`ov.{${r.join(",")}}`),this}textSearch(o,r,{config:l,type:f}={}){let p="";f==="plain"?p="pl":f==="phrase"?p="ph":f==="websearch"&&(p="w");const m=l===void 0?"":`(${l})`;return this.url.searchParams.append(o,`${p}fts${m}.${r}`),this}match(o){return Object.entries(o).forEach(([r,l])=>{this.url.searchParams.append(r,`eq.${l}`)}),this}not(o,r,l){return this.url.searchParams.append(o,`not.${r}.${l}`),this}or(o,{foreignTable:r,referencedTable:l=r}={}){const f=l?`${l}.or`:"or";return this.url.searchParams.append(f,`(${o})`),this}filter(o,r,l){return this.url.searchParams.append(o,`${r}.${l}`),this}},rp=class{constructor(o,{headers:r={},schema:l,fetch:f}){this.url=o,this.headers=new Headers(r),this.schema=l,this.fetch=f}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(o,r){const{head:l=!1,count:f}=r??{},p=l?"HEAD":"GET";let m=!1;const b=(o??"*").split("").map(v=>/\s/.test(v)&&!m?"":(v==='"'&&(m=!m),v)).join(""),{url:E,headers:S}=this.cloneRequestState();return E.searchParams.set("select",b),f&&S.append("Prefer",`count=${f}`),new Xs({method:p,url:E,headers:S,schema:this.schema,fetch:this.fetch})}insert(o,{count:r,defaultToNull:l=!0}={}){var f;const p="POST",{url:m,headers:b}=this.cloneRequestState();if(r&&b.append("Prefer",`count=${r}`),l||b.append("Prefer","missing=default"),Array.isArray(o)){const E=o.reduce((S,v)=>S.concat(Object.keys(v)),[]);if(E.length>0){const S=[...new Set(E)].map(v=>`"${v}"`);m.searchParams.set("columns",S.join(","))}}return new Xs({method:p,url:m,headers:b,schema:this.schema,body:o,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}upsert(o,{onConflict:r,ignoreDuplicates:l=!1,count:f,defaultToNull:p=!0}={}){var m;const b="POST",{url:E,headers:S}=this.cloneRequestState();if(S.append("Prefer",`resolution=${l?"ignore":"merge"}-duplicates`),r!==void 0&&E.searchParams.set("on_conflict",r),f&&S.append("Prefer",`count=${f}`),p||S.append("Prefer","missing=default"),Array.isArray(o)){const v=o.reduce((T,R)=>T.concat(Object.keys(R)),[]);if(v.length>0){const T=[...new Set(v)].map(R=>`"${R}"`);E.searchParams.set("columns",T.join(","))}}return new Xs({method:b,url:E,headers:S,schema:this.schema,body:o,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}update(o,{count:r}={}){var l;const f="PATCH",{url:p,headers:m}=this.cloneRequestState();return r&&m.append("Prefer",`count=${r}`),new Xs({method:f,url:p,headers:m,schema:this.schema,body:o,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}delete({count:o}={}){var r;const l="DELETE",{url:f,headers:p}=this.cloneRequestState();return o&&p.append("Prefer",`count=${o}`),new Xs({method:l,url:f,headers:p,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}},ap=class Gg{constructor(r,{headers:l={},schema:f,fetch:p}={}){this.url=r,this.headers=new Headers(l),this.schemaName=f,this.fetch=p}from(r){if(!r||typeof r!="string"||r.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new rp(new URL(`${this.url}/${r}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(r){return new Gg(this.url,{headers:this.headers,schema:r,fetch:this.fetch})}rpc(r,l={},{head:f=!1,get:p=!1,count:m}={}){var b;let E;const S=new URL(`${this.url}/rpc/${r}`);let v;const T=j=>j!==null&&typeof j=="object"&&(!Array.isArray(j)||j.some(T)),R=f&&Object.values(l).some(T);R?(E="POST",v=l):f||p?(E=f?"HEAD":"GET",Object.entries(l).filter(([j,H])=>H!==void 0).map(([j,H])=>[j,Array.isArray(H)?`{${H.join(",")}}`:`${H}`]).forEach(([j,H])=>{S.searchParams.append(j,H)})):(E="POST",v=l);const L=new Headers(this.headers);return R?L.set("Prefer",m?`count=${m},return=minimal`:"return=minimal"):m&&L.set("Prefer",`count=${m}`),new Xs({method:E,url:S,headers:L,schema:this.schemaName,body:v,fetch:(b=this.fetch)!==null&&b!==void 0?b:fetch})}};class sp{constructor(){}static detectEnvironment(){var r;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((r=navigator.userAgent)===null||r===void 0)&&r.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const l=globalThis.process;if(l){const f=l.versions;if(f&&f.node){const p=f.node,m=parseInt(p.replace(/^v/,"").split(".")[0]);return m>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${m} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${m} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const r=this.detectEnvironment();if(r.constructor)return r.constructor;let l=r.error||"WebSocket not supported in this environment.";throw r.workaround&&(l+=`

Suggested solution: ${r.workaround}`),new Error(l)}static createWebSocket(r,l){const f=this.getWebSocketConstructor();return new f(r,l)}static isWebSocketSupported(){try{const r=this.detectEnvironment();return r.type==="native"||r.type==="ws"}catch{return!1}}}const lp="2.93.3",op=`realtime-js/${lp}`,cp="1.0.0",Yg="2.0.0",q1=Yg,gf=1e4,up=1e3,hp=100;var ba;(function(o){o[o.connecting=0]="connecting",o[o.open=1]="open",o[o.closing=2]="closing",o[o.closed=3]="closed"})(ba||(ba={}));var Tn;(function(o){o.closed="closed",o.errored="errored",o.joined="joined",o.joining="joining",o.leaving="leaving"})(Tn||(Tn={}));var Wi;(function(o){o.close="phx_close",o.error="phx_error",o.join="phx_join",o.reply="phx_reply",o.leave="phx_leave",o.access_token="access_token"})(Wi||(Wi={}));var mf;(function(o){o.websocket="websocket"})(mf||(mf={}));var Ja;(function(o){o.Connecting="connecting",o.Open="open",o.Closing="closing",o.Closed="closed"})(Ja||(Ja={}));class fp{constructor(r){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=r??[]}encode(r,l){if(r.event===this.BROADCAST_EVENT&&!(r.payload instanceof ArrayBuffer)&&typeof r.payload.event=="string")return l(this._binaryEncodeUserBroadcastPush(r));let f=[r.join_ref,r.ref,r.topic,r.event,r.payload];return l(JSON.stringify(f))}_binaryEncodeUserBroadcastPush(r){var l;return this._isArrayBuffer((l=r.payload)===null||l===void 0?void 0:l.payload)?this._encodeBinaryUserBroadcastPush(r):this._encodeJsonUserBroadcastPush(r)}_encodeBinaryUserBroadcastPush(r){var l,f;const p=(f=(l=r.payload)===null||l===void 0?void 0:l.payload)!==null&&f!==void 0?f:new ArrayBuffer(0);return this._encodeUserBroadcastPush(r,this.BINARY_ENCODING,p)}_encodeJsonUserBroadcastPush(r){var l,f;const p=(f=(l=r.payload)===null||l===void 0?void 0:l.payload)!==null&&f!==void 0?f:{},b=new TextEncoder().encode(JSON.stringify(p)).buffer;return this._encodeUserBroadcastPush(r,this.JSON_ENCODING,b)}_encodeUserBroadcastPush(r,l,f){var p,m;const b=r.topic,E=(p=r.ref)!==null&&p!==void 0?p:"",S=(m=r.join_ref)!==null&&m!==void 0?m:"",v=r.payload.event,T=this.allowedMetadataKeys?this._pick(r.payload,this.allowedMetadataKeys):{},R=Object.keys(T).length===0?"":JSON.stringify(T);if(S.length>255)throw new Error(`joinRef length ${S.length} exceeds maximum of 255`);if(E.length>255)throw new Error(`ref length ${E.length} exceeds maximum of 255`);if(b.length>255)throw new Error(`topic length ${b.length} exceeds maximum of 255`);if(v.length>255)throw new Error(`userEvent length ${v.length} exceeds maximum of 255`);if(R.length>255)throw new Error(`metadata length ${R.length} exceeds maximum of 255`);const L=this.USER_BROADCAST_PUSH_META_LENGTH+S.length+E.length+b.length+v.length+R.length,j=new ArrayBuffer(this.HEADER_LENGTH+L);let H=new DataView(j),G=0;H.setUint8(G++,this.KINDS.userBroadcastPush),H.setUint8(G++,S.length),H.setUint8(G++,E.length),H.setUint8(G++,b.length),H.setUint8(G++,v.length),H.setUint8(G++,R.length),H.setUint8(G++,l),Array.from(S,W=>H.setUint8(G++,W.charCodeAt(0))),Array.from(E,W=>H.setUint8(G++,W.charCodeAt(0))),Array.from(b,W=>H.setUint8(G++,W.charCodeAt(0))),Array.from(v,W=>H.setUint8(G++,W.charCodeAt(0))),Array.from(R,W=>H.setUint8(G++,W.charCodeAt(0)));var le=new Uint8Array(j.byteLength+f.byteLength);return le.set(new Uint8Array(j),0),le.set(new Uint8Array(f),j.byteLength),le.buffer}decode(r,l){if(this._isArrayBuffer(r)){let f=this._binaryDecode(r);return l(f)}if(typeof r=="string"){const f=JSON.parse(r),[p,m,b,E,S]=f;return l({join_ref:p,ref:m,topic:b,event:E,payload:S})}return l({})}_binaryDecode(r){const l=new DataView(r),f=l.getUint8(0),p=new TextDecoder;if(f===this.KINDS.userBroadcast)return this._decodeUserBroadcast(r,l,p)}_decodeUserBroadcast(r,l,f){const p=l.getUint8(1),m=l.getUint8(2),b=l.getUint8(3),E=l.getUint8(4);let S=this.HEADER_LENGTH+4;const v=f.decode(r.slice(S,S+p));S=S+p;const T=f.decode(r.slice(S,S+m));S=S+m;const R=f.decode(r.slice(S,S+b));S=S+b;const L=r.slice(S,r.byteLength),j=E===this.JSON_ENCODING?JSON.parse(f.decode(L)):L,H={type:this.BROADCAST_EVENT,event:T,payload:j};return b>0&&(H.meta=JSON.parse(R)),{join_ref:null,ref:null,topic:v,event:this.BROADCAST_EVENT,payload:H}}_isArrayBuffer(r){var l;return r instanceof ArrayBuffer||((l=r?.constructor)===null||l===void 0?void 0:l.name)==="ArrayBuffer"}_pick(r,l){return!r||typeof r!="object"?{}:Object.fromEntries(Object.entries(r).filter(([f])=>l.includes(f)))}}class qg{constructor(r,l){this.callback=r,this.timerCalc=l,this.timer=void 0,this.tries=0,this.callback=r,this.timerCalc=l}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ht;(function(o){o.abstime="abstime",o.bool="bool",o.date="date",o.daterange="daterange",o.float4="float4",o.float8="float8",o.int2="int2",o.int4="int4",o.int4range="int4range",o.int8="int8",o.int8range="int8range",o.json="json",o.jsonb="jsonb",o.money="money",o.numeric="numeric",o.oid="oid",o.reltime="reltime",o.text="text",o.time="time",o.timestamp="timestamp",o.timestamptz="timestamptz",o.timetz="timetz",o.tsrange="tsrange",o.tstzrange="tstzrange"})(Ht||(Ht={}));const X1=(o,r,l={})=>{var f;const p=(f=l.skipTypes)!==null&&f!==void 0?f:[];return r?Object.keys(r).reduce((m,b)=>(m[b]=dp(b,o,r,p),m),{}):{}},dp=(o,r,l,f)=>{const p=r.find(E=>E.name===o),m=p?.type,b=l[o];return m&&!f.includes(m)?Xg(m,b):pf(b)},Xg=(o,r)=>{if(o.charAt(0)==="_"){const l=o.slice(1,o.length);return yp(r,l)}switch(o){case Ht.bool:return gp(r);case Ht.float4:case Ht.float8:case Ht.int2:case Ht.int4:case Ht.int8:case Ht.numeric:case Ht.oid:return mp(r);case Ht.json:case Ht.jsonb:return pp(r);case Ht.timestamp:return xp(r);case Ht.abstime:case Ht.date:case Ht.daterange:case Ht.int4range:case Ht.int8range:case Ht.money:case Ht.reltime:case Ht.text:case Ht.time:case Ht.timestamptz:case Ht.timetz:case Ht.tsrange:case Ht.tstzrange:return pf(r);default:return pf(r)}},pf=o=>o,gp=o=>{switch(o){case"t":return!0;case"f":return!1;default:return o}},mp=o=>{if(typeof o=="string"){const r=parseFloat(o);if(!Number.isNaN(r))return r}return o},pp=o=>{if(typeof o=="string")try{return JSON.parse(o)}catch{return o}return o},yp=(o,r)=>{if(typeof o!="string")return o;const l=o.length-1,f=o[l];if(o[0]==="{"&&f==="}"){let m;const b=o.slice(1,l);try{m=JSON.parse("["+b+"]")}catch{m=b?b.split(","):[]}return m.map(E=>Xg(r,E))}return o},xp=o=>typeof o=="string"?o.replace(" ","T"):o,Wg=o=>{const r=new URL(o);return r.protocol=r.protocol.replace(/^ws/i,"http"),r.pathname=r.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),r.pathname===""||r.pathname==="/"?r.pathname="/api/broadcast":r.pathname=r.pathname+"/api/broadcast",r.href};class Xh{constructor(r,l,f={},p=gf){this.channel=r,this.event=l,this.payload=f,this.timeout=p,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(r){this.timeout=r,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(r){this.payload=Object.assign(Object.assign({},this.payload),r)}receive(r,l){var f;return this._hasReceived(r)&&l((f=this.receivedResp)===null||f===void 0?void 0:f.response),this.recHooks.push({status:r,callback:l}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const r=l=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=l,this._matchReceive(l)};this.channel._on(this.refEvent,{},r),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(r,l){this.refEvent&&this.channel._trigger(this.refEvent,{status:r,response:l})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:r,response:l}){this.recHooks.filter(f=>f.status===r).forEach(f=>f.callback(l))}_hasReceived(r){return this.receivedResp&&this.receivedResp.status===r}}var W1;(function(o){o.SYNC="sync",o.JOIN="join",o.LEAVE="leave"})(W1||(W1={}));class Jl{constructor(r,l){this.channel=r,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const f=l?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(f.state,{},p=>{const{onJoin:m,onLeave:b,onSync:E}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Jl.syncState(this.state,p,m,b),this.pendingDiffs.forEach(S=>{this.state=Jl.syncDiff(this.state,S,m,b)}),this.pendingDiffs=[],E()}),this.channel._on(f.diff,{},p=>{const{onJoin:m,onLeave:b,onSync:E}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(p):(this.state=Jl.syncDiff(this.state,p,m,b),E())}),this.onJoin((p,m,b)=>{this.channel._trigger("presence",{event:"join",key:p,currentPresences:m,newPresences:b})}),this.onLeave((p,m,b)=>{this.channel._trigger("presence",{event:"leave",key:p,currentPresences:m,leftPresences:b})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(r,l,f,p){const m=this.cloneDeep(r),b=this.transformState(l),E={},S={};return this.map(m,(v,T)=>{b[v]||(S[v]=T)}),this.map(b,(v,T)=>{const R=m[v];if(R){const L=T.map(le=>le.presence_ref),j=R.map(le=>le.presence_ref),H=T.filter(le=>j.indexOf(le.presence_ref)<0),G=R.filter(le=>L.indexOf(le.presence_ref)<0);H.length>0&&(E[v]=H),G.length>0&&(S[v]=G)}else E[v]=T}),this.syncDiff(m,{joins:E,leaves:S},f,p)}static syncDiff(r,l,f,p){const{joins:m,leaves:b}={joins:this.transformState(l.joins),leaves:this.transformState(l.leaves)};return f||(f=()=>{}),p||(p=()=>{}),this.map(m,(E,S)=>{var v;const T=(v=r[E])!==null&&v!==void 0?v:[];if(r[E]=this.cloneDeep(S),T.length>0){const R=r[E].map(j=>j.presence_ref),L=T.filter(j=>R.indexOf(j.presence_ref)<0);r[E].unshift(...L)}f(E,T,S)}),this.map(b,(E,S)=>{let v=r[E];if(!v)return;const T=S.map(R=>R.presence_ref);v=v.filter(R=>T.indexOf(R.presence_ref)<0),r[E]=v,p(E,v,S),v.length===0&&delete r[E]}),r}static map(r,l){return Object.getOwnPropertyNames(r).map(f=>l(f,r[f]))}static transformState(r){return r=this.cloneDeep(r),Object.getOwnPropertyNames(r).reduce((l,f)=>{const p=r[f];return"metas"in p?l[f]=p.metas.map(m=>(m.presence_ref=m.phx_ref,delete m.phx_ref,delete m.phx_ref_prev,m)):l[f]=p,l},{})}static cloneDeep(r){return JSON.parse(JSON.stringify(r))}onJoin(r){this.caller.onJoin=r}onLeave(r){this.caller.onLeave=r}onSync(r){this.caller.onSync=r}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Z1;(function(o){o.ALL="*",o.INSERT="INSERT",o.UPDATE="UPDATE",o.DELETE="DELETE"})(Z1||(Z1={}));var $l;(function(o){o.BROADCAST="broadcast",o.PRESENCE="presence",o.POSTGRES_CHANGES="postgres_changes",o.SYSTEM="system"})($l||($l={}));var Mr;(function(o){o.SUBSCRIBED="SUBSCRIBED",o.TIMED_OUT="TIMED_OUT",o.CLOSED="CLOSED",o.CHANNEL_ERROR="CHANNEL_ERROR"})(Mr||(Mr={}));class Qs{constructor(r,l={config:{}},f){var p,m;if(this.topic=r,this.params=l,this.socket=f,this.bindings={},this.state=Tn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=r.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},l.config),this.timeout=this.socket.timeout,this.joinPush=new Xh(this,Wi.join,this.params,this.timeout),this.rejoinTimer=new qg(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Tn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(b=>b.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Tn.closed,this.socket._remove(this)}),this._onError(b=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,b),this.state=Tn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Tn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",b=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,b),this.state=Tn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Wi.reply,{},(b,E)=>{this._trigger(this._replyEventName(E),b)}),this.presence=new Jl(this),this.broadcastEndpointURL=Wg(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((m=(p=this.params.config)===null||p===void 0?void 0:p.broadcast)===null||m===void 0)&&m.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(r,l=this.timeout){var f,p,m;if(this.socket.isConnected()||this.socket.connect(),this.state==Tn.closed){const{config:{broadcast:b,presence:E,private:S}}=this.params,v=(p=(f=this.bindings.postgres_changes)===null||f===void 0?void 0:f.map(j=>j.filter))!==null&&p!==void 0?p:[],T=!!this.bindings[$l.PRESENCE]&&this.bindings[$l.PRESENCE].length>0||((m=this.params.config.presence)===null||m===void 0?void 0:m.enabled)===!0,R={},L={broadcast:b,presence:Object.assign(Object.assign({},E),{enabled:T}),postgres_changes:v,private:S};this.socket.accessTokenValue&&(R.access_token=this.socket.accessTokenValue),this._onError(j=>r?.(Mr.CHANNEL_ERROR,j)),this._onClose(()=>r?.(Mr.CLOSED)),this.updateJoinPayload(Object.assign({config:L},R)),this.joinedOnce=!0,this._rejoin(l),this.joinPush.receive("ok",async({postgres_changes:j})=>{var H;if(this.socket._isManualToken()||this.socket.setAuth(),j===void 0){r?.(Mr.SUBSCRIBED);return}else{const G=this.bindings.postgres_changes,le=(H=G?.length)!==null&&H!==void 0?H:0,W=[];for(let ae=0;ae<le;ae++){const J=G[ae],{filter:{event:$,schema:Re,table:ve,filter:K}}=J,Se=j&&j[ae];if(Se&&Se.event===$&&Qs.isFilterValueEqual(Se.schema,Re)&&Qs.isFilterValueEqual(Se.table,ve)&&Qs.isFilterValueEqual(Se.filter,K))W.push(Object.assign(Object.assign({},J),{id:Se.id}));else{this.unsubscribe(),this.state=Tn.errored,r?.(Mr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=W,r&&r(Mr.SUBSCRIBED);return}}).receive("error",j=>{this.state=Tn.errored,r?.(Mr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(j).join(", ")||"error")))}).receive("timeout",()=>{r?.(Mr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(r,l={}){return await this.send({type:"presence",event:"track",payload:r},l.timeout||this.timeout)}async untrack(r={}){return await this.send({type:"presence",event:"untrack"},r)}on(r,l,f){return this.state===Tn.joined&&r===$l.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(r,l,f)}async httpSend(r,l,f={}){var p;if(l==null)return Promise.reject("Payload is required for httpSend()");const m={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(m.Authorization=`Bearer ${this.socket.accessTokenValue}`);const b={method:"POST",headers:m,body:JSON.stringify({messages:[{topic:this.subTopic,event:r,payload:l,private:this.private}]})},E=await this._fetchWithTimeout(this.broadcastEndpointURL,b,(p=f.timeout)!==null&&p!==void 0?p:this.timeout);if(E.status===202)return{success:!0};let S=E.statusText;try{const v=await E.json();S=v.error||v.message||S}catch{}return Promise.reject(new Error(S))}async send(r,l={}){var f,p;if(!this._canPush()&&r.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:m,payload:b}=r,E={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(E.Authorization=`Bearer ${this.socket.accessTokenValue}`);const S={method:"POST",headers:E,body:JSON.stringify({messages:[{topic:this.subTopic,event:m,payload:b,private:this.private}]})};try{const v=await this._fetchWithTimeout(this.broadcastEndpointURL,S,(f=l.timeout)!==null&&f!==void 0?f:this.timeout);return await((p=v.body)===null||p===void 0?void 0:p.cancel()),v.ok?"ok":"error"}catch(v){return v.name==="AbortError"?"timed out":"error"}}else return new Promise(m=>{var b,E,S;const v=this._push(r.type,r,l.timeout||this.timeout);r.type==="broadcast"&&!(!((S=(E=(b=this.params)===null||b===void 0?void 0:b.config)===null||E===void 0?void 0:E.broadcast)===null||S===void 0)&&S.ack)&&m("ok"),v.receive("ok",()=>m("ok")),v.receive("error",()=>m("error")),v.receive("timeout",()=>m("timed out"))})}updateJoinPayload(r){this.joinPush.updatePayload(r)}unsubscribe(r=this.timeout){this.state=Tn.leaving;const l=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Wi.close,"leave",this._joinRef())};this.joinPush.destroy();let f=null;return new Promise(p=>{f=new Xh(this,Wi.leave,{},r),f.receive("ok",()=>{l(),p("ok")}).receive("timeout",()=>{l(),p("timed out")}).receive("error",()=>{p("error")}),f.send(),this._canPush()||f.trigger("ok",{})}).finally(()=>{f?.destroy()})}teardown(){this.pushBuffer.forEach(r=>r.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Tn.closed,this.bindings={}}async _fetchWithTimeout(r,l,f){const p=new AbortController,m=setTimeout(()=>p.abort(),f),b=await this.socket.fetch(r,Object.assign(Object.assign({},l),{signal:p.signal}));return clearTimeout(m),b}_push(r,l,f=this.timeout){if(!this.joinedOnce)throw`tried to push '${r}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let p=new Xh(this,r,l,f);return this._canPush()?p.send():this._addToPushBuffer(p),p}_addToPushBuffer(r){if(r.startTimeout(),this.pushBuffer.push(r),this.pushBuffer.length>hp){const l=this.pushBuffer.shift();l&&(l.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${l.event}`,l.payload))}}_onMessage(r,l,f){return l}_isMember(r){return this.topic===r}_joinRef(){return this.joinPush.ref}_trigger(r,l,f){var p,m;const b=r.toLocaleLowerCase(),{close:E,error:S,leave:v,join:T}=Wi;if(f&&[E,S,v,T].indexOf(b)>=0&&f!==this._joinRef())return;let L=this._onMessage(b,l,f);if(l&&!L)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(b)?(p=this.bindings.postgres_changes)===null||p===void 0||p.filter(j=>{var H,G,le;return((H=j.filter)===null||H===void 0?void 0:H.event)==="*"||((le=(G=j.filter)===null||G===void 0?void 0:G.event)===null||le===void 0?void 0:le.toLocaleLowerCase())===b}).map(j=>j.callback(L,f)):(m=this.bindings[b])===null||m===void 0||m.filter(j=>{var H,G,le,W,ae,J;if(["broadcast","presence","postgres_changes"].includes(b))if("id"in j){const $=j.id,Re=(H=j.filter)===null||H===void 0?void 0:H.event;return $&&((G=l.ids)===null||G===void 0?void 0:G.includes($))&&(Re==="*"||Re?.toLocaleLowerCase()===((le=l.data)===null||le===void 0?void 0:le.type.toLocaleLowerCase()))}else{const $=(ae=(W=j?.filter)===null||W===void 0?void 0:W.event)===null||ae===void 0?void 0:ae.toLocaleLowerCase();return $==="*"||$===((J=l?.event)===null||J===void 0?void 0:J.toLocaleLowerCase())}else return j.type.toLocaleLowerCase()===b}).map(j=>{if(typeof L=="object"&&"ids"in L){const H=L.data,{schema:G,table:le,commit_timestamp:W,type:ae,errors:J}=H;L=Object.assign(Object.assign({},{schema:G,table:le,commit_timestamp:W,eventType:ae,new:{},old:{},errors:J}),this._getPayloadRecords(H))}j.callback(L,f)})}_isClosed(){return this.state===Tn.closed}_isJoined(){return this.state===Tn.joined}_isJoining(){return this.state===Tn.joining}_isLeaving(){return this.state===Tn.leaving}_replyEventName(r){return`chan_reply_${r}`}_on(r,l,f){const p=r.toLocaleLowerCase(),m={type:p,filter:l,callback:f};return this.bindings[p]?this.bindings[p].push(m):this.bindings[p]=[m],this}_off(r,l){const f=r.toLocaleLowerCase();return this.bindings[f]&&(this.bindings[f]=this.bindings[f].filter(p=>{var m;return!(((m=p.type)===null||m===void 0?void 0:m.toLocaleLowerCase())===f&&Qs.isEqual(p.filter,l))})),this}static isEqual(r,l){if(Object.keys(r).length!==Object.keys(l).length)return!1;for(const f in r)if(r[f]!==l[f])return!1;return!0}static isFilterValueEqual(r,l){return(r??void 0)===(l??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(r){this._on(Wi.close,{},r)}_onError(r){this._on(Wi.error,{},l=>r(l))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(r=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Tn.joining,this.joinPush.resend(r))}_getPayloadRecords(r){const l={new:{},old:{}};return(r.type==="INSERT"||r.type==="UPDATE")&&(l.new=X1(r.columns,r.record)),(r.type==="UPDATE"||r.type==="DELETE")&&(l.old=X1(r.columns,r.old_record)),l}}const Wh=()=>{},Oc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},wp=[1e3,2e3,5e3,1e4],vp=1e4,bp=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Ap{constructor(r,l){var f;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=gf,this.transport=null,this.heartbeatIntervalMs=Oc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Wh,this.ref=0,this.reconnectTimer=null,this.vsn=q1,this.logger=Wh,this.conn=null,this.sendBuffer=[],this.serializer=new fp,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=p=>p?(...m)=>p(...m):(...m)=>fetch(...m),!(!((f=l?.params)===null||f===void 0)&&f.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=l.params.apikey,this.endPoint=`${r}/${mf.websocket}`,this.httpEndpoint=Wg(r),this._initializeOptions(l),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(l?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=sp.createWebSocket(this.endpointURL())}catch(r){this._setConnectionState("disconnected");const l=r.message;throw l.includes("Node.js")?new Error(`${l}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${l}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(r,l){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const f=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(f),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(r?this.conn.close(r,l??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(r){const l=await r.unsubscribe();return this.channels.length===0&&this.disconnect(),l}async removeAllChannels(){const r=await Promise.all(this.channels.map(l=>l.unsubscribe()));return this.channels=[],this.disconnect(),r}log(r,l,f){this.logger(r,l,f)}connectionState(){switch(this.conn&&this.conn.readyState){case ba.connecting:return Ja.Connecting;case ba.open:return Ja.Open;case ba.closing:return Ja.Closing;default:return Ja.Closed}}isConnected(){return this.connectionState()===Ja.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(r,l={config:{}}){const f=`realtime:${r}`,p=this.getChannels().find(m=>m.topic===f);if(p)return p;{const m=new Qs(`realtime:${r}`,l,this);return this.channels.push(m),m}}push(r){const{topic:l,event:f,payload:p,ref:m}=r,b=()=>{this.encode(r,E=>{var S;(S=this.conn)===null||S===void 0||S.send(E)})};this.log("push",`${l} ${f} (${m})`,p),this.isConnected()?b():this.sendBuffer.push(b)}async setAuth(r=null){this._authPromise=this._performAuth(r);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var r;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(l){this.log("error","error in heartbeat callback",l)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(l){this.log("error","error in heartbeat callback",l)}this._wasManualDisconnect=!1,(r=this.conn)===null||r===void 0||r.close(up,"heartbeat timeout"),setTimeout(()=>{var l;this.isConnected()||(l=this.reconnectTimer)===null||l===void 0||l.scheduleTimeout()},Oc.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(l){this.log("error","error in heartbeat callback",l)}this._setAuthSafely("heartbeat")}onHeartbeat(r){this.heartbeatCallback=r}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(r=>r()),this.sendBuffer=[])}_makeRef(){let r=this.ref+1;return r===this.ref?this.ref=0:this.ref=r,this.ref.toString()}_leaveOpenTopic(r){let l=this.channels.find(f=>f.topic===r&&(f._isJoined()||f._isJoining()));l&&(this.log("transport",`leaving duplicate topic "${r}"`),l.unsubscribe())}_remove(r){this.channels=this.channels.filter(l=>l.topic!==r.topic)}_onConnMessage(r){this.decode(r.data,l=>{if(l.topic==="phoenix"&&l.event==="phx_reply"&&l.ref&&l.ref===this.pendingHeartbeatRef){const v=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(l.payload.status==="ok"?"ok":"error",v)}catch(T){this.log("error","error in heartbeat callback",T)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:f,event:p,payload:m,ref:b}=l,E=b?`(${b})`:"",S=m.status||"";this.log("receive",`${S} ${f} ${p} ${E}`.trim(),m),this.channels.filter(v=>v._isMember(f)).forEach(v=>v._trigger(p,m,b)),this._triggerStateCallbacks("message",l)})}_clearTimer(r){var l;r==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):r==="reconnect"&&((l=this.reconnectTimer)===null||l===void 0||l.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=r=>this._onConnError(r),this.conn.onmessage=r=>this._onConnMessage(r),this.conn.onclose=r=>this._onConnClose(r),this.conn.readyState===ba.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===ba.open||this.conn.readyState===ba.connecting)try{this.conn.close()}catch(r){this.log("error","Error closing connection",r)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(r=>r.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(l=>{this.log("error","error waiting for auth on connect",l),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const r=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(r),this.workerRef.onerror=l=>{this.log("worker","worker error",l.message),this._terminateWorker()},this.workerRef.onmessage=l=>{l.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(r){var l;this._setConnectionState("disconnected"),this.log("transport","close",r),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(l=this.reconnectTimer)===null||l===void 0||l.scheduleTimeout(),this._triggerStateCallbacks("close",r)}_onConnError(r){this._setConnectionState("disconnected"),this.log("transport",`${r}`),this._triggerChanError(),this._triggerStateCallbacks("error",r);try{this.heartbeatCallback("error")}catch(l){this.log("error","error in heartbeat callback",l)}}_triggerChanError(){this.channels.forEach(r=>r._trigger(Wi.error))}_appendParams(r,l){if(Object.keys(l).length===0)return r;const f=r.match(/\?/)?"&":"?",p=new URLSearchParams(l);return`${r}${f}${p}`}_workerObjectUrl(r){let l;if(r)l=r;else{const f=new Blob([bp],{type:"application/javascript"});l=URL.createObjectURL(f)}return l}_setConnectionState(r,l=!1){this._connectionState=r,r==="connecting"?this._wasManualDisconnect=!1:r==="disconnecting"&&(this._wasManualDisconnect=l)}async _performAuth(r=null){let l,f=!1;if(r)l=r,f=!0;else if(this.accessToken)try{l=await this.accessToken()}catch(p){this.log("error","Error fetching access token from callback",p),l=this.accessTokenValue}else l=this.accessTokenValue;f?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=l&&(this.accessTokenValue=l,this.channels.forEach(p=>{const m={access_token:l,version:op};l&&p.updateJoinPayload(m),p.joinedOnce&&p._isJoined()&&p._push(Wi.access_token,{access_token:l})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(r="general"){this._isManualToken()||this.setAuth().catch(l=>{this.log("error",`Error setting auth in ${r}`,l)})}_triggerStateCallbacks(r,l){try{this.stateChangeCallbacks[r].forEach(f=>{try{f(l)}catch(p){this.log("error",`error in ${r} callback`,p)}})}catch(f){this.log("error",`error triggering ${r} callbacks`,f)}}_setupReconnectionTimer(){this.reconnectTimer=new qg(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Oc.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(r){var l,f,p,m,b,E,S,v,T,R,L,j;switch(this.transport=(l=r?.transport)!==null&&l!==void 0?l:null,this.timeout=(f=r?.timeout)!==null&&f!==void 0?f:gf,this.heartbeatIntervalMs=(p=r?.heartbeatIntervalMs)!==null&&p!==void 0?p:Oc.HEARTBEAT_INTERVAL,this.worker=(m=r?.worker)!==null&&m!==void 0?m:!1,this.accessToken=(b=r?.accessToken)!==null&&b!==void 0?b:null,this.heartbeatCallback=(E=r?.heartbeatCallback)!==null&&E!==void 0?E:Wh,this.vsn=(S=r?.vsn)!==null&&S!==void 0?S:q1,r?.params&&(this.params=r.params),r?.logger&&(this.logger=r.logger),(r?.logLevel||r?.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(v=r?.reconnectAfterMs)!==null&&v!==void 0?v:(H=>wp[H-1]||vp),this.vsn){case cp:this.encode=(T=r?.encode)!==null&&T!==void 0?T:((H,G)=>G(JSON.stringify(H))),this.decode=(R=r?.decode)!==null&&R!==void 0?R:((H,G)=>G(JSON.parse(H)));break;case Yg:this.encode=(L=r?.encode)!==null&&L!==void 0?L:this.serializer.encode.bind(this.serializer),this.decode=(j=r?.decode)!==null&&j!==void 0?j:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=r?.workerUrl}}}var eo=class extends Error{constructor(o,r){super(o),this.name="IcebergError",this.status=r.status,this.icebergType=r.icebergType,this.icebergCode=r.icebergCode,this.details=r.details,this.isCommitStateUnknown=r.icebergType==="CommitStateUnknownException"||[500,502,504].includes(r.status)&&r.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Ep(o,r,l){const f=new URL(r,o);if(l)for(const[p,m]of Object.entries(l))m!==void 0&&f.searchParams.set(p,m);return f.toString()}async function Sp(o){return!o||o.type==="none"?{}:o.type==="bearer"?{Authorization:`Bearer ${o.token}`}:o.type==="header"?{[o.name]:o.value}:o.type==="custom"?await o.getHeaders():{}}function _p(o){const r=o.fetchImpl??globalThis.fetch;return{async request({method:l,path:f,query:p,body:m,headers:b}){const E=Ep(o.baseUrl,f,p),S=await Sp(o.auth),v=await r(E,{method:l,headers:{...m?{"Content-Type":"application/json"}:{},...S,...b},body:m?JSON.stringify(m):void 0}),T=await v.text(),R=(v.headers.get("content-type")||"").includes("application/json"),L=R&&T?JSON.parse(T):T;if(!v.ok){const j=R?L:void 0,H=j?.error;throw new eo(H?.message??`Request failed with status ${v.status}`,{status:v.status,icebergType:H?.type,icebergCode:H?.code,details:j})}return{status:v.status,headers:v.headers,data:L}}}}function Ic(o){return o.join("")}var Cp=class{constructor(o,r=""){this.client=o,this.prefix=r}async listNamespaces(o){const r=o?{parent:Ic(o.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:r})).data.namespaces.map(f=>({namespace:f}))}async createNamespace(o,r){const l={namespace:o.namespace,properties:r?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:l})).data}async dropNamespace(o){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ic(o.namespace)}`})}async loadNamespaceMetadata(o){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ic(o.namespace)}`})).data.properties}}async namespaceExists(o){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ic(o.namespace)}`}),!0}catch(r){if(r instanceof eo&&r.status===404)return!1;throw r}}async createNamespaceIfNotExists(o,r){try{return await this.createNamespace(o,r)}catch(l){if(l instanceof eo&&l.status===409)return;throw l}}};function Ps(o){return o.join("")}var Tp=class{constructor(o,r="",l){this.client=o,this.prefix=r,this.accessDelegation=l}async listTables(o){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ps(o.namespace)}/tables`})).data.identifiers}async createTable(o,r){const l={};return this.accessDelegation&&(l["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ps(o.namespace)}/tables`,body:r,headers:l})).data.metadata}async updateTable(o,r){const l=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ps(o.namespace)}/tables/${o.name}`,body:r});return{"metadata-location":l.data["metadata-location"],metadata:l.data.metadata}}async dropTable(o,r){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ps(o.namespace)}/tables/${o.name}`,query:{purgeRequested:String(r?.purge??!1)}})}async loadTable(o){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ps(o.namespace)}/tables/${o.name}`,headers:r})).data.metadata}async tableExists(o){const r={};this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ps(o.namespace)}/tables/${o.name}`,headers:r}),!0}catch(l){if(l instanceof eo&&l.status===404)return!1;throw l}}async createTableIfNotExists(o,r){try{return await this.createTable(o,r)}catch(l){if(l instanceof eo&&l.status===409)return await this.loadTable({namespace:o.namespace,name:r.name});throw l}}},Np=class{constructor(o){let r="v1";o.catalogName&&(r+=`/${o.catalogName}`);const l=o.baseUrl.endsWith("/")?o.baseUrl:`${o.baseUrl}/`;this.client=_p({baseUrl:l,auth:o.auth,fetchImpl:o.fetch}),this.accessDelegation=o.accessDelegation?.join(","),this.namespaceOps=new Cp(this.client,r),this.tableOps=new Tp(this.client,r,this.accessDelegation)}async listNamespaces(o){return this.namespaceOps.listNamespaces(o)}async createNamespace(o,r){return this.namespaceOps.createNamespace(o,r)}async dropNamespace(o){await this.namespaceOps.dropNamespace(o)}async loadNamespaceMetadata(o){return this.namespaceOps.loadNamespaceMetadata(o)}async listTables(o){return this.tableOps.listTables(o)}async createTable(o,r){return this.tableOps.createTable(o,r)}async updateTable(o,r){return this.tableOps.updateTable(o,r)}async dropTable(o,r){await this.tableOps.dropTable(o,r)}async loadTable(o){return this.tableOps.loadTable(o)}async namespaceExists(o){return this.namespaceOps.namespaceExists(o)}async tableExists(o){return this.tableOps.tableExists(o)}async createNamespaceIfNotExists(o,r){return this.namespaceOps.createNamespaceIfNotExists(o,r)}async createTableIfNotExists(o,r){return this.tableOps.createTableIfNotExists(o,r)}},Hc=class extends Error{constructor(o,r="storage",l,f){super(o),this.__isStorageError=!0,this.namespace=r,this.name=r==="vectors"?"StorageVectorsError":"StorageError",this.status=l,this.statusCode=f}};function Vc(o){return typeof o=="object"&&o!==null&&"__isStorageError"in o}var Rc=class extends Hc{constructor(o,r,l,f="storage"){super(o,f,r,l),this.name=f==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=r,this.statusCode=l}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Zg=class extends Hc{constructor(o,r,l="storage"){super(o,l),this.name=l==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=r}};const Op=o=>o?(...r)=>o(...r):(...r)=>fetch(...r),Ip=o=>{if(typeof o!="object"||o===null)return!1;const r=Object.getPrototypeOf(o);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in o)&&!(Symbol.iterator in o)},yf=o=>{if(Array.isArray(o))return o.map(l=>yf(l));if(typeof o=="function"||o!==Object(o))return o;const r={};return Object.entries(o).forEach(([l,f])=>{const p=l.replace(/([-_][a-z])/gi,m=>m.toUpperCase().replace(/[-_]/g,""));r[p]=yf(f)}),r},Rp=o=>!o||typeof o!="string"||o.length===0||o.length>100||o.trim()!==o||o.includes("/")||o.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(o);function to(o){"@babel/helpers - typeof";return to=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},to(o)}function Dp(o,r){if(to(o)!="object"||!o)return o;var l=o[Symbol.toPrimitive];if(l!==void 0){var f=l.call(o,r);if(to(f)!="object")return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(o)}function Mp(o){var r=Dp(o,"string");return to(r)=="symbol"?r:r+""}function Bp(o,r,l){return(r=Mp(r))in o?Object.defineProperty(o,r,{value:l,enumerable:!0,configurable:!0,writable:!0}):o[r]=l,o}function Q1(o,r){var l=Object.keys(o);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(o);r&&(f=f.filter(function(p){return Object.getOwnPropertyDescriptor(o,p).enumerable})),l.push.apply(l,f)}return l}function Ge(o){for(var r=1;r<arguments.length;r++){var l=arguments[r]!=null?arguments[r]:{};r%2?Q1(Object(l),!0).forEach(function(f){Bp(o,f,l[f])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(l)):Q1(Object(l)).forEach(function(f){Object.defineProperty(o,f,Object.getOwnPropertyDescriptor(l,f))})}return o}const K1=o=>{var r;return o.msg||o.message||o.error_description||(typeof o.error=="string"?o.error:(r=o.error)===null||r===void 0?void 0:r.message)||JSON.stringify(o)},Lp=async(o,r,l,f)=>{if(o&&typeof o=="object"&&"status"in o&&"ok"in o&&typeof o.status=="number"&&!l?.noResolveJson){const p=o,m=p.status||500;if(typeof p.json=="function")p.json().then(b=>{const E=b?.statusCode||b?.code||m+"";r(new Rc(K1(b),m,E,f))}).catch(()=>{if(f==="vectors"){const b=m+"";r(new Rc(p.statusText||`HTTP ${m} error`,m,b,f))}else{const b=m+"";r(new Rc(p.statusText||`HTTP ${m} error`,m,b,f))}});else{const b=m+"";r(new Rc(p.statusText||`HTTP ${m} error`,m,b,f))}}else r(new Zg(K1(o),o,f))},kp=(o,r,l,f)=>{const p={method:o,headers:r?.headers||{}};return o==="GET"||o==="HEAD"||!f?Ge(Ge({},p),l):(Ip(f)?(p.headers=Ge({"Content-Type":"application/json"},r?.headers),p.body=JSON.stringify(f)):p.body=f,r?.duplex&&(p.duplex=r.duplex),Ge(Ge({},p),l))};async function Zl(o,r,l,f,p,m,b){return new Promise((E,S)=>{o(l,kp(r,f,p,m)).then(v=>{if(!v.ok)throw v;if(f?.noResolveJson)return v;if(b==="vectors"){const T=v.headers.get("content-type");if(v.headers.get("content-length")==="0"||v.status===204)return{};if(!T||!T.includes("application/json"))return{}}return v.json()}).then(v=>E(v)).catch(v=>Lp(v,S,f,b))})}function Qg(o="storage"){return{get:async(r,l,f,p)=>Zl(r,"GET",l,f,p,void 0,o),post:async(r,l,f,p,m)=>Zl(r,"POST",l,p,m,f,o),put:async(r,l,f,p,m)=>Zl(r,"PUT",l,p,m,f,o),head:async(r,l,f,p)=>Zl(r,"HEAD",l,Ge(Ge({},f),{},{noResolveJson:!0}),p,void 0,o),remove:async(r,l,f,p,m)=>Zl(r,"DELETE",l,p,m,f,o)}}const jp=Qg("storage"),{get:no,post:Xi,put:xf,head:Up,remove:_f}=jp,bi=Qg("vectors");var $s=class{constructor(o,r={},l,f="storage"){this.shouldThrowOnError=!1,this.url=o,this.headers=r,this.fetch=Op(l),this.namespace=f}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(o){var r=this;try{return{data:await o(),error:null}}catch(l){if(r.shouldThrowOnError)throw l;if(Vc(l))return{data:null,error:l};throw l}}},zp=class{constructor(o,r){this.downloadFn=o,this.shouldThrowOnError=r}then(o,r){return this.execute().then(o,r)}async execute(){var o=this;try{return{data:(await o.downloadFn()).body,error:null}}catch(r){if(o.shouldThrowOnError)throw r;if(Vc(r))return{data:null,error:r};throw r}}};let Kg;Kg=Symbol.toStringTag;var Pp=class{constructor(o,r){this.downloadFn=o,this.shouldThrowOnError=r,this[Kg]="BlobDownloadBuilder",this.promise=null}asStream(){return new zp(this.downloadFn,this.shouldThrowOnError)}then(o,r){return this.getPromise().then(o,r)}catch(o){return this.getPromise().catch(o)}finally(o){return this.getPromise().finally(o)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var o=this;try{return{data:await(await o.downloadFn()).blob(),error:null}}catch(r){if(o.shouldThrowOnError)throw r;if(Vc(r))return{data:null,error:r};throw r}}};const Fp={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},J1={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Hp=class extends $s{constructor(o,r={},l,f){super(o,r,f,"storage"),this.bucketId=l}async uploadOrUpdate(o,r,l,f){var p=this;return p.handleOperation(async()=>{let m;const b=Ge(Ge({},J1),f);let E=Ge(Ge({},p.headers),o==="POST"&&{"x-upsert":String(b.upsert)});const S=b.metadata;typeof Blob<"u"&&l instanceof Blob?(m=new FormData,m.append("cacheControl",b.cacheControl),S&&m.append("metadata",p.encodeMetadata(S)),m.append("",l)):typeof FormData<"u"&&l instanceof FormData?(m=l,m.has("cacheControl")||m.append("cacheControl",b.cacheControl),S&&!m.has("metadata")&&m.append("metadata",p.encodeMetadata(S))):(m=l,E["cache-control"]=`max-age=${b.cacheControl}`,E["content-type"]=b.contentType,S&&(E["x-metadata"]=p.toBase64(p.encodeMetadata(S))),(typeof ReadableStream<"u"&&m instanceof ReadableStream||m&&typeof m=="object"&&"pipe"in m&&typeof m.pipe=="function")&&!b.duplex&&(b.duplex="half")),f?.headers&&(E=Ge(Ge({},E),f.headers));const v=p._removeEmptyFolders(r),T=p._getFinalPath(v),R=await(o=="PUT"?xf:Xi)(p.fetch,`${p.url}/object/${T}`,m,Ge({headers:E},b?.duplex?{duplex:b.duplex}:{}));return{path:v,id:R.Id,fullPath:R.Key}})}async upload(o,r,l){return this.uploadOrUpdate("POST",o,r,l)}async uploadToSignedUrl(o,r,l,f){var p=this;const m=p._removeEmptyFolders(o),b=p._getFinalPath(m),E=new URL(p.url+`/object/upload/sign/${b}`);return E.searchParams.set("token",r),p.handleOperation(async()=>{let S;const v=Ge({upsert:J1.upsert},f),T=Ge(Ge({},p.headers),{"x-upsert":String(v.upsert)});return typeof Blob<"u"&&l instanceof Blob?(S=new FormData,S.append("cacheControl",v.cacheControl),S.append("",l)):typeof FormData<"u"&&l instanceof FormData?(S=l,S.append("cacheControl",v.cacheControl)):(S=l,T["cache-control"]=`max-age=${v.cacheControl}`,T["content-type"]=v.contentType),{path:m,fullPath:(await xf(p.fetch,E.toString(),S,{headers:T})).Key}})}async createSignedUploadUrl(o,r){var l=this;return l.handleOperation(async()=>{let f=l._getFinalPath(o);const p=Ge({},l.headers);r?.upsert&&(p["x-upsert"]="true");const m=await Xi(l.fetch,`${l.url}/object/upload/sign/${f}`,{},{headers:p}),b=new URL(l.url+m.url),E=b.searchParams.get("token");if(!E)throw new Hc("No token returned by API");return{signedUrl:b.toString(),path:o,token:E}})}async update(o,r,l){return this.uploadOrUpdate("PUT",o,r,l)}async move(o,r,l){var f=this;return f.handleOperation(async()=>await Xi(f.fetch,`${f.url}/object/move`,{bucketId:f.bucketId,sourceKey:o,destinationKey:r,destinationBucket:l?.destinationBucket},{headers:f.headers}))}async copy(o,r,l){var f=this;return f.handleOperation(async()=>({path:(await Xi(f.fetch,`${f.url}/object/copy`,{bucketId:f.bucketId,sourceKey:o,destinationKey:r,destinationBucket:l?.destinationBucket},{headers:f.headers})).Key}))}async createSignedUrl(o,r,l){var f=this;return f.handleOperation(async()=>{let p=f._getFinalPath(o),m=await Xi(f.fetch,`${f.url}/object/sign/${p}`,Ge({expiresIn:r},l?.transform?{transform:l.transform}:{}),{headers:f.headers});const b=l?.download?`&download=${l.download===!0?"":l.download}`:"";return{signedUrl:encodeURI(`${f.url}${m.signedURL}${b}`)}})}async createSignedUrls(o,r,l){var f=this;return f.handleOperation(async()=>{const p=await Xi(f.fetch,`${f.url}/object/sign/${f.bucketId}`,{expiresIn:r,paths:o},{headers:f.headers}),m=l?.download?`&download=${l.download===!0?"":l.download}`:"";return p.map(b=>Ge(Ge({},b),{},{signedUrl:b.signedURL?encodeURI(`${f.url}${b.signedURL}${m}`):null}))})}download(o,r){const l=typeof r?.transform<"u"?"render/image/authenticated":"object",f=this.transformOptsToQueryString(r?.transform||{}),p=f?`?${f}`:"",m=this._getFinalPath(o),b=()=>no(this.fetch,`${this.url}/${l}/${m}${p}`,{headers:this.headers,noResolveJson:!0});return new Pp(b,this.shouldThrowOnError)}async info(o){var r=this;const l=r._getFinalPath(o);return r.handleOperation(async()=>yf(await no(r.fetch,`${r.url}/object/info/${l}`,{headers:r.headers})))}async exists(o){var r=this;const l=r._getFinalPath(o);try{return await Up(r.fetch,`${r.url}/object/${l}`,{headers:r.headers}),{data:!0,error:null}}catch(f){if(r.shouldThrowOnError)throw f;if(Vc(f)&&f instanceof Zg){const p=f.originalError;if([400,404].includes(p?.status))return{data:!1,error:f}}throw f}}getPublicUrl(o,r){const l=this._getFinalPath(o),f=[],p=r?.download?`download=${r.download===!0?"":r.download}`:"";p!==""&&f.push(p);const m=typeof r?.transform<"u"?"render/image":"object",b=this.transformOptsToQueryString(r?.transform||{});b!==""&&f.push(b);let E=f.join("&");return E!==""&&(E=`?${E}`),{data:{publicUrl:encodeURI(`${this.url}/${m}/public/${l}${E}`)}}}async remove(o){var r=this;return r.handleOperation(async()=>await _f(r.fetch,`${r.url}/object/${r.bucketId}`,{prefixes:o},{headers:r.headers}))}async list(o,r,l){var f=this;return f.handleOperation(async()=>{const p=Ge(Ge(Ge({},Fp),r),{},{prefix:o||""});return await Xi(f.fetch,`${f.url}/object/list/${f.bucketId}`,p,{headers:f.headers},l)})}async listV2(o,r){var l=this;return l.handleOperation(async()=>{const f=Ge({},o);return await Xi(l.fetch,`${l.url}/object/list-v2/${l.bucketId}`,f,{headers:l.headers},r)})}encodeMetadata(o){return JSON.stringify(o)}toBase64(o){return typeof Buffer<"u"?Buffer.from(o).toString("base64"):btoa(o)}_getFinalPath(o){return`${this.bucketId}/${o.replace(/^\/+/,"")}`}_removeEmptyFolders(o){return o.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(o){const r=[];return o.width&&r.push(`width=${o.width}`),o.height&&r.push(`height=${o.height}`),o.resize&&r.push(`resize=${o.resize}`),o.format&&r.push(`format=${o.format}`),o.quality&&r.push(`quality=${o.quality}`),r.join("&")}};const Vp="2.93.3",oo={"X-Client-Info":`storage-js/${Vp}`};var Gp=class extends $s{constructor(o,r={},l,f){const p=new URL(o);f?.useNewHostname&&/supabase\.(co|in|red)$/.test(p.hostname)&&!p.hostname.includes("storage.supabase.")&&(p.hostname=p.hostname.replace("supabase.","storage.supabase."));const m=p.href.replace(/\/$/,""),b=Ge(Ge({},oo),r);super(m,b,l,"storage")}async listBuckets(o){var r=this;return r.handleOperation(async()=>{const l=r.listBucketOptionsToQueryString(o);return await no(r.fetch,`${r.url}/bucket${l}`,{headers:r.headers})})}async getBucket(o){var r=this;return r.handleOperation(async()=>await no(r.fetch,`${r.url}/bucket/${o}`,{headers:r.headers}))}async createBucket(o,r={public:!1}){var l=this;return l.handleOperation(async()=>await Xi(l.fetch,`${l.url}/bucket`,{id:o,name:o,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:l.headers}))}async updateBucket(o,r){var l=this;return l.handleOperation(async()=>await xf(l.fetch,`${l.url}/bucket/${o}`,{id:o,name:o,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:l.headers}))}async emptyBucket(o){var r=this;return r.handleOperation(async()=>await Xi(r.fetch,`${r.url}/bucket/${o}/empty`,{},{headers:r.headers}))}async deleteBucket(o){var r=this;return r.handleOperation(async()=>await _f(r.fetch,`${r.url}/bucket/${o}`,{},{headers:r.headers}))}listBucketOptionsToQueryString(o){const r={};return o&&("limit"in o&&(r.limit=String(o.limit)),"offset"in o&&(r.offset=String(o.offset)),o.search&&(r.search=o.search),o.sortColumn&&(r.sortColumn=o.sortColumn),o.sortOrder&&(r.sortOrder=o.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}},Yp=class extends $s{constructor(o,r={},l){const f=o.replace(/\/$/,""),p=Ge(Ge({},oo),r);super(f,p,l,"storage")}async createBucket(o){var r=this;return r.handleOperation(async()=>await Xi(r.fetch,`${r.url}/bucket`,{name:o},{headers:r.headers}))}async listBuckets(o){var r=this;return r.handleOperation(async()=>{const l=new URLSearchParams;o?.limit!==void 0&&l.set("limit",o.limit.toString()),o?.offset!==void 0&&l.set("offset",o.offset.toString()),o?.sortColumn&&l.set("sortColumn",o.sortColumn),o?.sortOrder&&l.set("sortOrder",o.sortOrder),o?.search&&l.set("search",o.search);const f=l.toString(),p=f?`${r.url}/bucket?${f}`:`${r.url}/bucket`;return await no(r.fetch,p,{headers:r.headers})})}async deleteBucket(o){var r=this;return r.handleOperation(async()=>await _f(r.fetch,`${r.url}/bucket/${o}`,{},{headers:r.headers}))}from(o){var r=this;if(!Rp(o))throw new Hc("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const l=new Np({baseUrl:this.url,catalogName:o,auth:{type:"custom",getHeaders:async()=>r.headers},fetch:this.fetch}),f=this.shouldThrowOnError;return new Proxy(l,{get(p,m){const b=p[m];return typeof b!="function"?b:async(...E)=>{try{return{data:await b.apply(p,E),error:null}}catch(S){if(f)throw S;return{data:null,error:S}}}}})}},qp=class extends $s{constructor(o,r={},l){const f=o.replace(/\/$/,""),p=Ge(Ge({},oo),{},{"Content-Type":"application/json"},r);super(f,p,l,"vectors")}async createIndex(o){var r=this;return r.handleOperation(async()=>await bi.post(r.fetch,`${r.url}/CreateIndex`,o,{headers:r.headers})||{})}async getIndex(o,r){var l=this;return l.handleOperation(async()=>await bi.post(l.fetch,`${l.url}/GetIndex`,{vectorBucketName:o,indexName:r},{headers:l.headers}))}async listIndexes(o){var r=this;return r.handleOperation(async()=>await bi.post(r.fetch,`${r.url}/ListIndexes`,o,{headers:r.headers}))}async deleteIndex(o,r){var l=this;return l.handleOperation(async()=>await bi.post(l.fetch,`${l.url}/DeleteIndex`,{vectorBucketName:o,indexName:r},{headers:l.headers})||{})}},Xp=class extends $s{constructor(o,r={},l){const f=o.replace(/\/$/,""),p=Ge(Ge({},oo),{},{"Content-Type":"application/json"},r);super(f,p,l,"vectors")}async putVectors(o){var r=this;if(o.vectors.length<1||o.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return r.handleOperation(async()=>await bi.post(r.fetch,`${r.url}/PutVectors`,o,{headers:r.headers})||{})}async getVectors(o){var r=this;return r.handleOperation(async()=>await bi.post(r.fetch,`${r.url}/GetVectors`,o,{headers:r.headers}))}async listVectors(o){var r=this;if(o.segmentCount!==void 0){if(o.segmentCount<1||o.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(o.segmentIndex!==void 0&&(o.segmentIndex<0||o.segmentIndex>=o.segmentCount))throw new Error(`segmentIndex must be between 0 and ${o.segmentCount-1}`)}return r.handleOperation(async()=>await bi.post(r.fetch,`${r.url}/ListVectors`,o,{headers:r.headers}))}async queryVectors(o){var r=this;return r.handleOperation(async()=>await bi.post(r.fetch,`${r.url}/QueryVectors`,o,{headers:r.headers}))}async deleteVectors(o){var r=this;if(o.keys.length<1||o.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return r.handleOperation(async()=>await bi.post(r.fetch,`${r.url}/DeleteVectors`,o,{headers:r.headers})||{})}},Wp=class extends $s{constructor(o,r={},l){const f=o.replace(/\/$/,""),p=Ge(Ge({},oo),{},{"Content-Type":"application/json"},r);super(f,p,l,"vectors")}async createBucket(o){var r=this;return r.handleOperation(async()=>await bi.post(r.fetch,`${r.url}/CreateVectorBucket`,{vectorBucketName:o},{headers:r.headers})||{})}async getBucket(o){var r=this;return r.handleOperation(async()=>await bi.post(r.fetch,`${r.url}/GetVectorBucket`,{vectorBucketName:o},{headers:r.headers}))}async listBuckets(o={}){var r=this;return r.handleOperation(async()=>await bi.post(r.fetch,`${r.url}/ListVectorBuckets`,o,{headers:r.headers}))}async deleteBucket(o){var r=this;return r.handleOperation(async()=>await bi.post(r.fetch,`${r.url}/DeleteVectorBucket`,{vectorBucketName:o},{headers:r.headers})||{})}},Zp=class extends Wp{constructor(o,r={}){super(o,r.headers||{},r.fetch)}from(o){return new Qp(this.url,this.headers,o,this.fetch)}async createBucket(o){var r=()=>super.createBucket,l=this;return r().call(l,o)}async getBucket(o){var r=()=>super.getBucket,l=this;return r().call(l,o)}async listBuckets(o={}){var r=()=>super.listBuckets,l=this;return r().call(l,o)}async deleteBucket(o){var r=()=>super.deleteBucket,l=this;return r().call(l,o)}},Qp=class extends qp{constructor(o,r,l,f){super(o,r,f),this.vectorBucketName=l}async createIndex(o){var r=()=>super.createIndex,l=this;return r().call(l,Ge(Ge({},o),{},{vectorBucketName:l.vectorBucketName}))}async listIndexes(o={}){var r=()=>super.listIndexes,l=this;return r().call(l,Ge(Ge({},o),{},{vectorBucketName:l.vectorBucketName}))}async getIndex(o){var r=()=>super.getIndex,l=this;return r().call(l,l.vectorBucketName,o)}async deleteIndex(o){var r=()=>super.deleteIndex,l=this;return r().call(l,l.vectorBucketName,o)}index(o){return new Kp(this.url,this.headers,this.vectorBucketName,o,this.fetch)}},Kp=class extends Xp{constructor(o,r,l,f,p){super(o,r,p),this.vectorBucketName=l,this.indexName=f}async putVectors(o){var r=()=>super.putVectors,l=this;return r().call(l,Ge(Ge({},o),{},{vectorBucketName:l.vectorBucketName,indexName:l.indexName}))}async getVectors(o){var r=()=>super.getVectors,l=this;return r().call(l,Ge(Ge({},o),{},{vectorBucketName:l.vectorBucketName,indexName:l.indexName}))}async listVectors(o={}){var r=()=>super.listVectors,l=this;return r().call(l,Ge(Ge({},o),{},{vectorBucketName:l.vectorBucketName,indexName:l.indexName}))}async queryVectors(o){var r=()=>super.queryVectors,l=this;return r().call(l,Ge(Ge({},o),{},{vectorBucketName:l.vectorBucketName,indexName:l.indexName}))}async deleteVectors(o){var r=()=>super.deleteVectors,l=this;return r().call(l,Ge(Ge({},o),{},{vectorBucketName:l.vectorBucketName,indexName:l.indexName}))}},Jp=class extends Gp{constructor(o,r={},l,f){super(o,r,l,f)}from(o){return new Hp(this.url,this.headers,o,this.fetch)}get vectors(){return new Zp(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Yp(this.url+"/iceberg",this.headers,this.fetch)}};const Jg="2.93.3",Ws=30*1e3,wf=3,Zh=wf*Ws,$p="http://localhost:9999",ey="supabase.auth.token",ty={"X-Client-Info":`gotrue-js/${Jg}`},vf="X-Supabase-Api-Version",$g={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},ny=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,iy=600*1e3;class io extends Error{constructor(r,l,f){super(r),this.__isAuthError=!0,this.name="AuthError",this.status=l,this.code=f}}function Me(o){return typeof o=="object"&&o!==null&&"__isAuthError"in o}class ry extends io{constructor(r,l,f){super(r,l,f),this.name="AuthApiError",this.status=l,this.code=f}}function ay(o){return Me(o)&&o.name==="AuthApiError"}class $a extends io{constructor(r,l){super(r),this.name="AuthUnknownError",this.originalError=l}}class Lr extends io{constructor(r,l,f,p){super(r,f,p),this.name=l,this.status=f}}class xi extends Lr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Qh(o){return Me(o)&&o.name==="AuthSessionMissingError"}class Fs extends Lr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Dc extends Lr{constructor(r){super(r,"AuthInvalidCredentialsError",400,void 0)}}class Mc extends Lr{constructor(r,l=null){super(r,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=l}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function sy(o){return Me(o)&&o.name==="AuthImplicitGrantRedirectError"}class $1 extends Lr{constructor(r,l=null){super(r,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=l}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ly extends Lr{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class bf extends Lr{constructor(r,l){super(r,"AuthRetryableFetchError",l,void 0)}}function Kh(o){return Me(o)&&o.name==="AuthRetryableFetchError"}class eg extends Lr{constructor(r,l,f){super(r,"AuthWeakPasswordError",l,"weak_password"),this.reasons=f}}class Af extends Lr{constructor(r){super(r,"AuthInvalidJwtError",400,"invalid_jwt")}}const kc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),tg=` 	
\r=`.split(""),oy=(()=>{const o=new Array(128);for(let r=0;r<o.length;r+=1)o[r]=-1;for(let r=0;r<tg.length;r+=1)o[tg[r].charCodeAt(0)]=-2;for(let r=0;r<kc.length;r+=1)o[kc[r].charCodeAt(0)]=r;return o})();function ng(o,r,l){if(o!==null)for(r.queue=r.queue<<8|o,r.queuedBits+=8;r.queuedBits>=6;){const f=r.queue>>r.queuedBits-6&63;l(kc[f]),r.queuedBits-=6}else if(r.queuedBits>0)for(r.queue=r.queue<<6-r.queuedBits,r.queuedBits=6;r.queuedBits>=6;){const f=r.queue>>r.queuedBits-6&63;l(kc[f]),r.queuedBits-=6}}function e2(o,r,l){const f=oy[o];if(f>-1)for(r.queue=r.queue<<6|f,r.queuedBits+=6;r.queuedBits>=8;)l(r.queue>>r.queuedBits-8&255),r.queuedBits-=8;else{if(f===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(o)}"`)}}function ig(o){const r=[],l=b=>{r.push(String.fromCodePoint(b))},f={utf8seq:0,codepoint:0},p={queue:0,queuedBits:0},m=b=>{hy(b,f,l)};for(let b=0;b<o.length;b+=1)e2(o.charCodeAt(b),p,m);return r.join("")}function cy(o,r){if(o<=127){r(o);return}else if(o<=2047){r(192|o>>6),r(128|o&63);return}else if(o<=65535){r(224|o>>12),r(128|o>>6&63),r(128|o&63);return}else if(o<=1114111){r(240|o>>18),r(128|o>>12&63),r(128|o>>6&63),r(128|o&63);return}throw new Error(`Unrecognized Unicode codepoint: ${o.toString(16)}`)}function uy(o,r){for(let l=0;l<o.length;l+=1){let f=o.charCodeAt(l);if(f>55295&&f<=56319){const p=(f-55296)*1024&65535;f=(o.charCodeAt(l+1)-56320&65535|p)+65536,l+=1}cy(f,r)}}function hy(o,r,l){if(r.utf8seq===0){if(o<=127){l(o);return}for(let f=1;f<6;f+=1)if((o>>7-f&1)===0){r.utf8seq=f;break}if(r.utf8seq===2)r.codepoint=o&31;else if(r.utf8seq===3)r.codepoint=o&15;else if(r.utf8seq===4)r.codepoint=o&7;else throw new Error("Invalid UTF-8 sequence");r.utf8seq-=1}else if(r.utf8seq>0){if(o<=127)throw new Error("Invalid UTF-8 sequence");r.codepoint=r.codepoint<<6|o&63,r.utf8seq-=1,r.utf8seq===0&&l(r.codepoint)}}function Js(o){const r=[],l={queue:0,queuedBits:0},f=p=>{r.push(p)};for(let p=0;p<o.length;p+=1)e2(o.charCodeAt(p),l,f);return new Uint8Array(r)}function fy(o){const r=[];return uy(o,l=>r.push(l)),new Uint8Array(r)}function es(o){const r=[],l={queue:0,queuedBits:0},f=p=>{r.push(p)};return o.forEach(p=>ng(p,l,f)),ng(null,l,f),r.join("")}function dy(o){return Math.round(Date.now()/1e3)+o}function gy(){return Symbol("auth-callback")}const Un=()=>typeof window<"u"&&typeof document<"u",Za={tested:!1,writable:!1},t2=()=>{if(!Un())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Za.tested)return Za.writable;const o=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(o,o),globalThis.localStorage.removeItem(o),Za.tested=!0,Za.writable=!0}catch{Za.tested=!0,Za.writable=!1}return Za.writable};function my(o){const r={},l=new URL(o);if(l.hash&&l.hash[0]==="#")try{new URLSearchParams(l.hash.substring(1)).forEach((p,m)=>{r[m]=p})}catch{}return l.searchParams.forEach((f,p)=>{r[p]=f}),r}const n2=o=>o?(...r)=>o(...r):(...r)=>fetch(...r),py=o=>typeof o=="object"&&o!==null&&"status"in o&&"ok"in o&&"json"in o&&typeof o.json=="function",Zs=async(o,r,l)=>{await o.setItem(r,JSON.stringify(l))},Qa=async(o,r)=>{const l=await o.getItem(r);if(!l)return null;try{return JSON.parse(l)}catch{return l}},jn=async(o,r)=>{await o.removeItem(r)};class Gc{constructor(){this.promise=new Gc.promiseConstructor((r,l)=>{this.resolve=r,this.reject=l})}}Gc.promiseConstructor=Promise;function Bc(o){const r=o.split(".");if(r.length!==3)throw new Af("Invalid JWT structure");for(let f=0;f<r.length;f++)if(!ny.test(r[f]))throw new Af("JWT not in base64url format");return{header:JSON.parse(ig(r[0])),payload:JSON.parse(ig(r[1])),signature:Js(r[2]),raw:{header:r[0],payload:r[1]}}}async function yy(o){return await new Promise(r=>{setTimeout(()=>r(null),o)})}function xy(o,r){return new Promise((f,p)=>{(async()=>{for(let m=0;m<1/0;m++)try{const b=await o(m);if(!r(m,null,b)){f(b);return}}catch(b){if(!r(m,b)){p(b);return}}})()})}function wy(o){return("0"+o.toString(16)).substr(-2)}function vy(){const r=new Uint32Array(56);if(typeof crypto>"u"){const l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",f=l.length;let p="";for(let m=0;m<56;m++)p+=l.charAt(Math.floor(Math.random()*f));return p}return crypto.getRandomValues(r),Array.from(r,wy).join("")}async function by(o){const l=new TextEncoder().encode(o),f=await crypto.subtle.digest("SHA-256",l),p=new Uint8Array(f);return Array.from(p).map(m=>String.fromCharCode(m)).join("")}async function Ay(o){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),o;const l=await by(o);return btoa(l).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Hs(o,r,l=!1){const f=vy();let p=f;l&&(p+="/PASSWORD_RECOVERY"),await Zs(o,`${r}-code-verifier`,p);const m=await Ay(f);return[m,f===m?"plain":"s256"]}const Ey=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Sy(o){const r=o.headers.get(vf);if(!r||!r.match(Ey))return null;try{return new Date(`${r}T00:00:00.0Z`)}catch{return null}}function _y(o){if(!o)throw new Error("Missing exp claim");const r=Math.floor(Date.now()/1e3);if(o<=r)throw new Error("JWT has expired")}function Cy(o){switch(o){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Ty=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Vs(o){if(!Ty.test(o))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Jh(){const o={};return new Proxy(o,{get:(r,l)=>{if(l==="__isUserNotAvailableProxy")return!0;if(typeof l=="symbol"){const f=l.toString();if(f==="Symbol(Symbol.toPrimitive)"||f==="Symbol(Symbol.toStringTag)"||f==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${l}" property of the session object is not supported. Please use getUser() instead.`)},set:(r,l)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${l}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(r,l)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${l}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Ny(o,r){return new Proxy(o,{get:(l,f,p)=>{if(f==="__isInsecureUserWarningProxy")return!0;if(typeof f=="symbol"){const m=f.toString();if(m==="Symbol(Symbol.toPrimitive)"||m==="Symbol(Symbol.toStringTag)"||m==="Symbol(util.inspect.custom)"||m==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(l,f,p)}return!r.value&&typeof f=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),r.value=!0),Reflect.get(l,f,p)}})}function rg(o){return JSON.parse(JSON.stringify(o))}const Ka=o=>o.msg||o.message||o.error_description||o.error||JSON.stringify(o),Oy=[502,503,504];async function ag(o){var r;if(!py(o))throw new bf(Ka(o),0);if(Oy.includes(o.status))throw new bf(Ka(o),o.status);let l;try{l=await o.json()}catch(m){throw new $a(Ka(m),m)}let f;const p=Sy(o);if(p&&p.getTime()>=$g["2024-01-01"].timestamp&&typeof l=="object"&&l&&typeof l.code=="string"?f=l.code:typeof l=="object"&&l&&typeof l.error_code=="string"&&(f=l.error_code),f){if(f==="weak_password")throw new eg(Ka(l),o.status,((r=l.weak_password)===null||r===void 0?void 0:r.reasons)||[]);if(f==="session_not_found")throw new xi}else if(typeof l=="object"&&l&&typeof l.weak_password=="object"&&l.weak_password&&Array.isArray(l.weak_password.reasons)&&l.weak_password.reasons.length&&l.weak_password.reasons.reduce((m,b)=>m&&typeof b=="string",!0))throw new eg(Ka(l),o.status,l.weak_password.reasons);throw new ry(Ka(l),o.status||500,f)}const Iy=(o,r,l,f)=>{const p={method:o,headers:r?.headers||{}};return o==="GET"?p:(p.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},r?.headers),p.body=JSON.stringify(f),Object.assign(Object.assign({},p),l))};async function He(o,r,l,f){var p;const m=Object.assign({},f?.headers);m[vf]||(m[vf]=$g["2024-01-01"].name),f?.jwt&&(m.Authorization=`Bearer ${f.jwt}`);const b=(p=f?.query)!==null&&p!==void 0?p:{};f?.redirectTo&&(b.redirect_to=f.redirectTo);const E=Object.keys(b).length?"?"+new URLSearchParams(b).toString():"",S=await Ry(o,r,l+E,{headers:m,noResolveJson:f?.noResolveJson},{},f?.body);return f?.xform?f?.xform(S):{data:Object.assign({},S),error:null}}async function Ry(o,r,l,f,p,m){const b=Iy(r,f,p,m);let E;try{E=await o(l,Object.assign({},b))}catch(S){throw console.error(S),new bf(Ka(S),0)}if(E.ok||await ag(E),f?.noResolveJson)return E;try{return await E.json()}catch(S){await ag(S)}}function qi(o){var r;let l=null;By(o)&&(l=Object.assign({},o),o.expires_at||(l.expires_at=dy(o.expires_in)));const f=(r=o.user)!==null&&r!==void 0?r:o;return{data:{session:l,user:f},error:null}}function sg(o){const r=qi(o);return!r.error&&o.weak_password&&typeof o.weak_password=="object"&&Array.isArray(o.weak_password.reasons)&&o.weak_password.reasons.length&&o.weak_password.message&&typeof o.weak_password.message=="string"&&o.weak_password.reasons.reduce((l,f)=>l&&typeof f=="string",!0)&&(r.data.weak_password=o.weak_password),r}function Aa(o){var r;return{data:{user:(r=o.user)!==null&&r!==void 0?r:o},error:null}}function Dy(o){return{data:o,error:null}}function My(o){const{action_link:r,email_otp:l,hashed_token:f,redirect_to:p,verification_type:m}=o,b=Fc(o,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),E={action_link:r,email_otp:l,hashed_token:f,redirect_to:p,verification_type:m},S=Object.assign({},b);return{data:{properties:E,user:S},error:null}}function lg(o){return o}function By(o){return o.access_token&&o.refresh_token&&o.expires_in}const $h=["global","local","others"];class Ly{constructor({url:r="",headers:l={},fetch:f}){this.url=r,this.headers=l,this.fetch=n2(f),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(r,l=$h[0]){if($h.indexOf(l)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${$h.join(", ")}`);try{return await He(this.fetch,"POST",`${this.url}/logout?scope=${l}`,{headers:this.headers,jwt:r,noResolveJson:!0}),{data:null,error:null}}catch(f){if(Me(f))return{data:null,error:f};throw f}}async inviteUserByEmail(r,l={}){try{return await He(this.fetch,"POST",`${this.url}/invite`,{body:{email:r,data:l.data},headers:this.headers,redirectTo:l.redirectTo,xform:Aa})}catch(f){if(Me(f))return{data:{user:null},error:f};throw f}}async generateLink(r){try{const{options:l}=r,f=Fc(r,["options"]),p=Object.assign(Object.assign({},f),l);return"newEmail"in f&&(p.new_email=f?.newEmail,delete p.newEmail),await He(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:p,headers:this.headers,xform:My,redirectTo:l?.redirectTo})}catch(l){if(Me(l))return{data:{properties:null,user:null},error:l};throw l}}async createUser(r){try{return await He(this.fetch,"POST",`${this.url}/admin/users`,{body:r,headers:this.headers,xform:Aa})}catch(l){if(Me(l))return{data:{user:null},error:l};throw l}}async listUsers(r){var l,f,p,m,b,E,S;try{const v={nextPage:null,lastPage:0,total:0},T=await He(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(f=(l=r?.page)===null||l===void 0?void 0:l.toString())!==null&&f!==void 0?f:"",per_page:(m=(p=r?.perPage)===null||p===void 0?void 0:p.toString())!==null&&m!==void 0?m:""},xform:lg});if(T.error)throw T.error;const R=await T.json(),L=(b=T.headers.get("x-total-count"))!==null&&b!==void 0?b:0,j=(S=(E=T.headers.get("link"))===null||E===void 0?void 0:E.split(","))!==null&&S!==void 0?S:[];return j.length>0&&(j.forEach(H=>{const G=parseInt(H.split(";")[0].split("=")[1].substring(0,1)),le=JSON.parse(H.split(";")[1].split("=")[1]);v[`${le}Page`]=G}),v.total=parseInt(L)),{data:Object.assign(Object.assign({},R),v),error:null}}catch(v){if(Me(v))return{data:{users:[]},error:v};throw v}}async getUserById(r){Vs(r);try{return await He(this.fetch,"GET",`${this.url}/admin/users/${r}`,{headers:this.headers,xform:Aa})}catch(l){if(Me(l))return{data:{user:null},error:l};throw l}}async updateUserById(r,l){Vs(r);try{return await He(this.fetch,"PUT",`${this.url}/admin/users/${r}`,{body:l,headers:this.headers,xform:Aa})}catch(f){if(Me(f))return{data:{user:null},error:f};throw f}}async deleteUser(r,l=!1){Vs(r);try{return await He(this.fetch,"DELETE",`${this.url}/admin/users/${r}`,{headers:this.headers,body:{should_soft_delete:l},xform:Aa})}catch(f){if(Me(f))return{data:{user:null},error:f};throw f}}async _listFactors(r){Vs(r.userId);try{const{data:l,error:f}=await He(this.fetch,"GET",`${this.url}/admin/users/${r.userId}/factors`,{headers:this.headers,xform:p=>({data:{factors:p},error:null})});return{data:l,error:f}}catch(l){if(Me(l))return{data:null,error:l};throw l}}async _deleteFactor(r){Vs(r.userId),Vs(r.id);try{return{data:await He(this.fetch,"DELETE",`${this.url}/admin/users/${r.userId}/factors/${r.id}`,{headers:this.headers}),error:null}}catch(l){if(Me(l))return{data:null,error:l};throw l}}async _listOAuthClients(r){var l,f,p,m,b,E,S;try{const v={nextPage:null,lastPage:0,total:0},T=await He(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(f=(l=r?.page)===null||l===void 0?void 0:l.toString())!==null&&f!==void 0?f:"",per_page:(m=(p=r?.perPage)===null||p===void 0?void 0:p.toString())!==null&&m!==void 0?m:""},xform:lg});if(T.error)throw T.error;const R=await T.json(),L=(b=T.headers.get("x-total-count"))!==null&&b!==void 0?b:0,j=(S=(E=T.headers.get("link"))===null||E===void 0?void 0:E.split(","))!==null&&S!==void 0?S:[];return j.length>0&&(j.forEach(H=>{const G=parseInt(H.split(";")[0].split("=")[1].substring(0,1)),le=JSON.parse(H.split(";")[1].split("=")[1]);v[`${le}Page`]=G}),v.total=parseInt(L)),{data:Object.assign(Object.assign({},R),v),error:null}}catch(v){if(Me(v))return{data:{clients:[]},error:v};throw v}}async _createOAuthClient(r){try{return await He(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:r,headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(Me(l))return{data:null,error:l};throw l}}async _getOAuthClient(r){try{return await He(this.fetch,"GET",`${this.url}/admin/oauth/clients/${r}`,{headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(Me(l))return{data:null,error:l};throw l}}async _updateOAuthClient(r,l){try{return await He(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${r}`,{body:l,headers:this.headers,xform:f=>({data:f,error:null})})}catch(f){if(Me(f))return{data:null,error:f};throw f}}async _deleteOAuthClient(r){try{return await He(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${r}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(l){if(Me(l))return{data:null,error:l};throw l}}async _regenerateOAuthClientSecret(r){try{return await He(this.fetch,"POST",`${this.url}/admin/oauth/clients/${r}/regenerate_secret`,{headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(Me(l))return{data:null,error:l};throw l}}}function og(o={}){return{getItem:r=>o[r]||null,setItem:(r,l)=>{o[r]=l},removeItem:r=>{delete o[r]}}}const Gs={debug:!!(globalThis&&t2()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class i2 extends Error{constructor(r){super(r),this.isAcquireTimeout=!0}}class ky extends i2{}async function jy(o,r,l){Gs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",o,r);const f=new globalThis.AbortController;return r>0&&setTimeout(()=>{f.abort(),Gs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",o)},r),await Promise.resolve().then(()=>globalThis.navigator.locks.request(o,r===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:f.signal},async p=>{if(p){Gs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",o,p.name);try{return await l()}finally{Gs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",o,p.name)}}else{if(r===0)throw Gs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",o),new ky(`Acquiring an exclusive Navigator LockManager lock "${o}" immediately failed`);if(Gs.debug)try{const m=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(m,null,"  "))}catch(m){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",m)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await l()}}))}function Uy(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function r2(o){if(!/^0x[a-fA-F0-9]{40}$/.test(o))throw new Error(`@supabase/auth-js: Address "${o}" is invalid.`);return o.toLowerCase()}function zy(o){return parseInt(o,16)}function Py(o){const r=new TextEncoder().encode(o);return"0x"+Array.from(r,f=>f.toString(16).padStart(2,"0")).join("")}function Fy(o){var r;const{chainId:l,domain:f,expirationTime:p,issuedAt:m=new Date,nonce:b,notBefore:E,requestId:S,resources:v,scheme:T,uri:R,version:L}=o;{if(!Number.isInteger(l))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${l}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(b&&b.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${b}`);if(!R)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(L!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${L}`);if(!((r=o.statement)===null||r===void 0)&&r.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${o.statement}`)}const j=r2(o.address),H=T?`${T}://${f}`:f,G=o.statement?`${o.statement}
`:"",le=`${H} wants you to sign in with your Ethereum account:
${j}

${G}`;let W=`URI: ${R}
Version: ${L}
Chain ID: ${l}${b?`
Nonce: ${b}`:""}
Issued At: ${m.toISOString()}`;if(p&&(W+=`
Expiration Time: ${p.toISOString()}`),E&&(W+=`
Not Before: ${E.toISOString()}`),S&&(W+=`
Request ID: ${S}`),v){let ae=`
Resources:`;for(const J of v){if(!J||typeof J!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${J}`);ae+=`
- ${J}`}W+=ae}return`${le}
${W}`}class xn extends Error{constructor({message:r,code:l,cause:f,name:p}){var m;super(r,{cause:f}),this.__isWebAuthnError=!0,this.name=(m=p??(f instanceof Error?f.name:void 0))!==null&&m!==void 0?m:"Unknown Error",this.code=l}}class jc extends xn{constructor(r,l){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l,message:r}),this.name="WebAuthnUnknownError",this.originalError=l}}function Hy({error:o,options:r}){var l,f,p;const{publicKey:m}=r;if(!m)throw Error("options was missing required publicKey property");if(o.name==="AbortError"){if(r.signal instanceof AbortSignal)return new xn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:o})}else if(o.name==="ConstraintError"){if(((l=m.authenticatorSelection)===null||l===void 0?void 0:l.requireResidentKey)===!0)return new xn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:o});if(r.mediation==="conditional"&&((f=m.authenticatorSelection)===null||f===void 0?void 0:f.userVerification)==="required")return new xn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:o});if(((p=m.authenticatorSelection)===null||p===void 0?void 0:p.userVerification)==="required")return new xn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:o})}else{if(o.name==="InvalidStateError")return new xn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:o});if(o.name==="NotAllowedError")return new xn({message:o.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:o});if(o.name==="NotSupportedError")return m.pubKeyCredParams.filter(E=>E.type==="public-key").length===0?new xn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:o}):new xn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:o});if(o.name==="SecurityError"){const b=window.location.hostname;if(a2(b)){if(m.rp.id!==b)return new xn({message:`The RP ID "${m.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:o})}else return new xn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:o})}else if(o.name==="TypeError"){if(m.user.id.byteLength<1||m.user.id.byteLength>64)return new xn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:o})}else if(o.name==="UnknownError")return new xn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:o})}return new xn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:o})}function Vy({error:o,options:r}){const{publicKey:l}=r;if(!l)throw Error("options was missing required publicKey property");if(o.name==="AbortError"){if(r.signal instanceof AbortSignal)return new xn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:o})}else{if(o.name==="NotAllowedError")return new xn({message:o.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:o});if(o.name==="SecurityError"){const f=window.location.hostname;if(a2(f)){if(l.rpId!==f)return new xn({message:`The RP ID "${l.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:o})}else return new xn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:o})}else if(o.name==="UnknownError")return new xn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:o})}return new xn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:o})}class Gy{createNewAbortSignal(){if(this.controller){const l=new Error("Cancelling existing WebAuthn API call for new one");l.name="AbortError",this.controller.abort(l)}const r=new AbortController;return this.controller=r,r.signal}cancelCeremony(){if(this.controller){const r=new Error("Manually cancelling existing WebAuthn API call");r.name="AbortError",this.controller.abort(r),this.controller=void 0}}}const Yy=new Gy;function qy(o){if(!o)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(o);const{challenge:r,user:l,excludeCredentials:f}=o,p=Fc(o,["challenge","user","excludeCredentials"]),m=Js(r).buffer,b=Object.assign(Object.assign({},l),{id:Js(l.id).buffer}),E=Object.assign(Object.assign({},p),{challenge:m,user:b});if(f&&f.length>0){E.excludeCredentials=new Array(f.length);for(let S=0;S<f.length;S++){const v=f[S];E.excludeCredentials[S]=Object.assign(Object.assign({},v),{id:Js(v.id).buffer,type:v.type||"public-key",transports:v.transports})}}return E}function Xy(o){if(!o)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(o);const{challenge:r,allowCredentials:l}=o,f=Fc(o,["challenge","allowCredentials"]),p=Js(r).buffer,m=Object.assign(Object.assign({},f),{challenge:p});if(l&&l.length>0){m.allowCredentials=new Array(l.length);for(let b=0;b<l.length;b++){const E=l[b];m.allowCredentials[b]=Object.assign(Object.assign({},E),{id:Js(E.id).buffer,type:E.type||"public-key",transports:E.transports})}}return m}function Wy(o){var r;if("toJSON"in o&&typeof o.toJSON=="function")return o.toJSON();const l=o;return{id:o.id,rawId:o.id,response:{attestationObject:es(new Uint8Array(o.response.attestationObject)),clientDataJSON:es(new Uint8Array(o.response.clientDataJSON))},type:"public-key",clientExtensionResults:o.getClientExtensionResults(),authenticatorAttachment:(r=l.authenticatorAttachment)!==null&&r!==void 0?r:void 0}}function Zy(o){var r;if("toJSON"in o&&typeof o.toJSON=="function")return o.toJSON();const l=o,f=o.getClientExtensionResults(),p=o.response;return{id:o.id,rawId:o.id,response:{authenticatorData:es(new Uint8Array(p.authenticatorData)),clientDataJSON:es(new Uint8Array(p.clientDataJSON)),signature:es(new Uint8Array(p.signature)),userHandle:p.userHandle?es(new Uint8Array(p.userHandle)):void 0},type:"public-key",clientExtensionResults:f,authenticatorAttachment:(r=l.authenticatorAttachment)!==null&&r!==void 0?r:void 0}}function a2(o){return o==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(o)}function cg(){var o,r;return!!(Un()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((o=navigator?.credentials)===null||o===void 0?void 0:o.create)=="function"&&typeof((r=navigator?.credentials)===null||r===void 0?void 0:r.get)=="function")}async function Qy(o){try{const r=await navigator.credentials.create(o);return r?r instanceof PublicKeyCredential?{data:r,error:null}:{data:null,error:new jc("Browser returned unexpected credential type",r)}:{data:null,error:new jc("Empty credential response",r)}}catch(r){return{data:null,error:Hy({error:r,options:o})}}}async function Ky(o){try{const r=await navigator.credentials.get(o);return r?r instanceof PublicKeyCredential?{data:r,error:null}:{data:null,error:new jc("Browser returned unexpected credential type",r)}:{data:null,error:new jc("Empty credential response",r)}}catch(r){return{data:null,error:Vy({error:r,options:o})}}}const Jy={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},$y={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Uc(...o){const r=p=>p!==null&&typeof p=="object"&&!Array.isArray(p),l=p=>p instanceof ArrayBuffer||ArrayBuffer.isView(p),f={};for(const p of o)if(p)for(const m in p){const b=p[m];if(b!==void 0)if(Array.isArray(b))f[m]=b;else if(l(b))f[m]=b;else if(r(b)){const E=f[m];r(E)?f[m]=Uc(E,b):f[m]=Uc(b)}else f[m]=b}return f}function ex(o,r){return Uc(Jy,o,r||{})}function tx(o,r){return Uc($y,o,r||{})}class nx{constructor(r){this.client=r,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(r){return this.client.mfa.enroll(Object.assign(Object.assign({},r),{factorType:"webauthn"}))}async _challenge({factorId:r,webauthn:l,friendlyName:f,signal:p},m){var b;try{const{data:E,error:S}=await this.client.mfa.challenge({factorId:r,webauthn:l});if(!E)return{data:null,error:S};const v=p??Yy.createNewAbortSignal();if(E.webauthn.type==="create"){const{user:T}=E.webauthn.credential_options.publicKey;if(!T.name){const R=f;if(R)T.name=`${T.id}:${R}`;else{const j=(await this.client.getUser()).data.user,H=((b=j?.user_metadata)===null||b===void 0?void 0:b.name)||j?.email||j?.id||"User";T.name=`${T.id}:${H}`}}T.displayName||(T.displayName=T.name)}switch(E.webauthn.type){case"create":{const T=ex(E.webauthn.credential_options.publicKey,m?.create),{data:R,error:L}=await Qy({publicKey:T,signal:v});return R?{data:{factorId:r,challengeId:E.id,webauthn:{type:E.webauthn.type,credential_response:R}},error:null}:{data:null,error:L}}case"request":{const T=tx(E.webauthn.credential_options.publicKey,m?.request),{data:R,error:L}=await Ky(Object.assign(Object.assign({},E.webauthn.credential_options),{publicKey:T,signal:v}));return R?{data:{factorId:r,challengeId:E.id,webauthn:{type:E.webauthn.type,credential_response:R}},error:null}:{data:null,error:L}}}}catch(E){return Me(E)?{data:null,error:E}:{data:null,error:new $a("Unexpected error in challenge",E)}}}async _verify({challengeId:r,factorId:l,webauthn:f}){return this.client.mfa.verify({factorId:l,challengeId:r,webauthn:f})}async _authenticate({factorId:r,webauthn:{rpId:l=typeof window<"u"?window.location.hostname:void 0,rpOrigins:f=typeof window<"u"?[window.location.origin]:void 0,signal:p}={}},m){if(!l)return{data:null,error:new io("rpId is required for WebAuthn authentication")};try{if(!cg())return{data:null,error:new $a("Browser does not support WebAuthn",null)};const{data:b,error:E}=await this.challenge({factorId:r,webauthn:{rpId:l,rpOrigins:f},signal:p},{request:m});if(!b)return{data:null,error:E};const{webauthn:S}=b;return this._verify({factorId:r,challengeId:b.challengeId,webauthn:{type:S.type,rpId:l,rpOrigins:f,credential_response:S.credential_response}})}catch(b){return Me(b)?{data:null,error:b}:{data:null,error:new $a("Unexpected error in authenticate",b)}}}async _register({friendlyName:r,webauthn:{rpId:l=typeof window<"u"?window.location.hostname:void 0,rpOrigins:f=typeof window<"u"?[window.location.origin]:void 0,signal:p}={}},m){if(!l)return{data:null,error:new io("rpId is required for WebAuthn registration")};try{if(!cg())return{data:null,error:new $a("Browser does not support WebAuthn",null)};const{data:b,error:E}=await this._enroll({friendlyName:r});if(!b)return await this.client.mfa.listFactors().then(T=>{var R;return(R=T.data)===null||R===void 0?void 0:R.all.find(L=>L.factor_type==="webauthn"&&L.friendly_name===r&&L.status!=="unverified")}).then(T=>T?this.client.mfa.unenroll({factorId:T?.id}):void 0),{data:null,error:E};const{data:S,error:v}=await this._challenge({factorId:b.id,friendlyName:b.friendly_name,webauthn:{rpId:l,rpOrigins:f},signal:p},{create:m});return S?this._verify({factorId:b.id,challengeId:S.challengeId,webauthn:{rpId:l,rpOrigins:f,type:S.webauthn.type,credential_response:S.webauthn.credential_response}}):{data:null,error:v}}catch(b){return Me(b)?{data:null,error:b}:{data:null,error:new $a("Unexpected error in register",b)}}}}Uy();const ix={url:$p,storageKey:ey,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ty,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function ug(o,r,l){return await l()}const Ys={};class ro{get jwks(){var r,l;return(l=(r=Ys[this.storageKey])===null||r===void 0?void 0:r.jwks)!==null&&l!==void 0?l:{keys:[]}}set jwks(r){Ys[this.storageKey]=Object.assign(Object.assign({},Ys[this.storageKey]),{jwks:r})}get jwks_cached_at(){var r,l;return(l=(r=Ys[this.storageKey])===null||r===void 0?void 0:r.cachedAt)!==null&&l!==void 0?l:Number.MIN_SAFE_INTEGER}set jwks_cached_at(r){Ys[this.storageKey]=Object.assign(Object.assign({},Ys[this.storageKey]),{cachedAt:r})}constructor(r){var l,f,p;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const m=Object.assign(Object.assign({},ix),r);if(this.storageKey=m.storageKey,this.instanceID=(l=ro.nextInstanceID[this.storageKey])!==null&&l!==void 0?l:0,ro.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!m.debug,typeof m.debug=="function"&&(this.logger=m.debug),this.instanceID>0&&Un()){const b=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(b),this.logDebugMessages&&console.trace(b)}if(this.persistSession=m.persistSession,this.autoRefreshToken=m.autoRefreshToken,this.admin=new Ly({url:m.url,headers:m.headers,fetch:m.fetch}),this.url=m.url,this.headers=m.headers,this.fetch=n2(m.fetch),this.lock=m.lock||ug,this.detectSessionInUrl=m.detectSessionInUrl,this.flowType=m.flowType,this.hasCustomAuthorizationHeader=m.hasCustomAuthorizationHeader,this.throwOnError=m.throwOnError,this.lockAcquireTimeout=m.lockAcquireTimeout,m.lock?this.lock=m.lock:this.persistSession&&Un()&&(!((f=globalThis?.navigator)===null||f===void 0)&&f.locks)?this.lock=jy:this.lock=ug,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new nx(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(m.storage?this.storage=m.storage:t2()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=og(this.memoryStorage)),m.userStorage&&(this.userStorage=m.userStorage)):(this.memoryStorage={},this.storage=og(this.memoryStorage)),Un()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(b){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",b)}(p=this.broadcastChannel)===null||p===void 0||p.addEventListener("message",async b=>{this._debug("received broadcast notification from other tab or client",b);try{await this._notifyAllSubscribers(b.data.event,b.data.session,!1)}catch(E){this._debug("#broadcastChannel","error",E)}})}this.initialize().catch(b=>{this._debug("#initialize()","error",b)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(r){if(this.throwOnError&&r&&r.error)throw r.error;return r}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Jg}) ${new Date().toISOString()}`}_debug(...r){return this.logDebugMessages&&this.logger(this._logPrefix(),...r),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var r;try{let l={},f="none";if(Un()&&(l=my(window.location.href),this._isImplicitGrantCallback(l)?f="implicit":await this._isPKCECallback(l)&&(f="pkce")),Un()&&this.detectSessionInUrl&&f!=="none"){const{data:p,error:m}=await this._getSessionFromURL(l,f);if(m){if(this._debug("#_initialize()","error detecting session from URL",m),sy(m)){const S=(r=m.details)===null||r===void 0?void 0:r.code;if(S==="identity_already_exists"||S==="identity_not_found"||S==="single_identity_not_deletable")return{error:m}}return{error:m}}const{session:b,redirectType:E}=p;return this._debug("#_initialize()","detected session in URL",b,"redirect type",E),await this._saveSession(b),setTimeout(async()=>{E==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",b):await this._notifyAllSubscribers("SIGNED_IN",b)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(l){return Me(l)?this._returnResult({error:l}):this._returnResult({error:new $a("Unexpected error during initialization",l)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(r){var l,f,p;try{const m=await He(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(f=(l=r?.options)===null||l===void 0?void 0:l.data)!==null&&f!==void 0?f:{},gotrue_meta_security:{captcha_token:(p=r?.options)===null||p===void 0?void 0:p.captchaToken}},xform:qi}),{data:b,error:E}=m;if(E||!b)return this._returnResult({data:{user:null,session:null},error:E});const S=b.session,v=b.user;return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",S)),this._returnResult({data:{user:v,session:S},error:null})}catch(m){if(Me(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async signUp(r){var l,f,p;try{let m;if("email"in r){const{email:T,password:R,options:L}=r;let j=null,H=null;this.flowType==="pkce"&&([j,H]=await Hs(this.storage,this.storageKey)),m=await He(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:L?.emailRedirectTo,body:{email:T,password:R,data:(l=L?.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:L?.captchaToken},code_challenge:j,code_challenge_method:H},xform:qi})}else if("phone"in r){const{phone:T,password:R,options:L}=r;m=await He(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:T,password:R,data:(f=L?.data)!==null&&f!==void 0?f:{},channel:(p=L?.channel)!==null&&p!==void 0?p:"sms",gotrue_meta_security:{captcha_token:L?.captchaToken}},xform:qi})}else throw new Dc("You must provide either an email or phone number and a password");const{data:b,error:E}=m;if(E||!b)return await jn(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:E});const S=b.session,v=b.user;return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",S)),this._returnResult({data:{user:v,session:S},error:null})}catch(m){if(await jn(this.storage,`${this.storageKey}-code-verifier`),Me(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async signInWithPassword(r){try{let l;if("email"in r){const{email:m,password:b,options:E}=r;l=await He(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:m,password:b,gotrue_meta_security:{captcha_token:E?.captchaToken}},xform:sg})}else if("phone"in r){const{phone:m,password:b,options:E}=r;l=await He(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:m,password:b,gotrue_meta_security:{captcha_token:E?.captchaToken}},xform:sg})}else throw new Dc("You must provide either an email or phone number and a password");const{data:f,error:p}=l;if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!f||!f.session||!f.user){const m=new Fs;return this._returnResult({data:{user:null,session:null},error:m})}return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),this._returnResult({data:Object.assign({user:f.user,session:f.session},f.weak_password?{weakPassword:f.weak_password}:null),error:p})}catch(l){if(Me(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithOAuth(r){var l,f,p,m;return await this._handleProviderSignIn(r.provider,{redirectTo:(l=r.options)===null||l===void 0?void 0:l.redirectTo,scopes:(f=r.options)===null||f===void 0?void 0:f.scopes,queryParams:(p=r.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:(m=r.options)===null||m===void 0?void 0:m.skipBrowserRedirect})}async exchangeCodeForSession(r){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(r))}async signInWithWeb3(r){const{chain:l}=r;switch(l){case"ethereum":return await this.signInWithEthereum(r);case"solana":return await this.signInWithSolana(r);default:throw new Error(`@supabase/auth-js: Unsupported chain "${l}"`)}}async signInWithEthereum(r){var l,f,p,m,b,E,S,v,T,R,L;let j,H;if("message"in r)j=r.message,H=r.signature;else{const{chain:G,wallet:le,statement:W,options:ae}=r;let J;if(Un())if(typeof le=="object")J=le;else{const he=window;if("ethereum"in he&&typeof he.ethereum=="object"&&"request"in he.ethereum&&typeof he.ethereum.request=="function")J=he.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof le!="object"||!ae?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");J=le}const $=new URL((l=ae?.url)!==null&&l!==void 0?l:window.location.href),Re=await J.request({method:"eth_requestAccounts"}).then(he=>he).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!Re||Re.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const ve=r2(Re[0]);let K=(f=ae?.signInWithEthereum)===null||f===void 0?void 0:f.chainId;if(!K){const he=await J.request({method:"eth_chainId"});K=zy(he)}const Se={domain:$.host,address:ve,statement:W,uri:$.href,version:"1",chainId:K,nonce:(p=ae?.signInWithEthereum)===null||p===void 0?void 0:p.nonce,issuedAt:(b=(m=ae?.signInWithEthereum)===null||m===void 0?void 0:m.issuedAt)!==null&&b!==void 0?b:new Date,expirationTime:(E=ae?.signInWithEthereum)===null||E===void 0?void 0:E.expirationTime,notBefore:(S=ae?.signInWithEthereum)===null||S===void 0?void 0:S.notBefore,requestId:(v=ae?.signInWithEthereum)===null||v===void 0?void 0:v.requestId,resources:(T=ae?.signInWithEthereum)===null||T===void 0?void 0:T.resources};j=Fy(Se),H=await J.request({method:"personal_sign",params:[Py(j),ve]})}try{const{data:G,error:le}=await He(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:j,signature:H},!((R=r.options)===null||R===void 0)&&R.captchaToken?{gotrue_meta_security:{captcha_token:(L=r.options)===null||L===void 0?void 0:L.captchaToken}}:null),xform:qi});if(le)throw le;if(!G||!G.session||!G.user){const W=new Fs;return this._returnResult({data:{user:null,session:null},error:W})}return G.session&&(await this._saveSession(G.session),await this._notifyAllSubscribers("SIGNED_IN",G.session)),this._returnResult({data:Object.assign({},G),error:le})}catch(G){if(Me(G))return this._returnResult({data:{user:null,session:null},error:G});throw G}}async signInWithSolana(r){var l,f,p,m,b,E,S,v,T,R,L,j;let H,G;if("message"in r)H=r.message,G=r.signature;else{const{chain:le,wallet:W,statement:ae,options:J}=r;let $;if(Un())if(typeof W=="object")$=W;else{const ve=window;if("solana"in ve&&typeof ve.solana=="object"&&("signIn"in ve.solana&&typeof ve.solana.signIn=="function"||"signMessage"in ve.solana&&typeof ve.solana.signMessage=="function"))$=ve.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof W!="object"||!J?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");$=W}const Re=new URL((l=J?.url)!==null&&l!==void 0?l:window.location.href);if("signIn"in $&&$.signIn){const ve=await $.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},J?.signInWithSolana),{version:"1",domain:Re.host,uri:Re.href}),ae?{statement:ae}:null));let K;if(Array.isArray(ve)&&ve[0]&&typeof ve[0]=="object")K=ve[0];else if(ve&&typeof ve=="object"&&"signedMessage"in ve&&"signature"in ve)K=ve;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in K&&"signature"in K&&(typeof K.signedMessage=="string"||K.signedMessage instanceof Uint8Array)&&K.signature instanceof Uint8Array)H=typeof K.signedMessage=="string"?K.signedMessage:new TextDecoder().decode(K.signedMessage),G=K.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in $)||typeof $.signMessage!="function"||!("publicKey"in $)||typeof $!="object"||!$.publicKey||!("toBase58"in $.publicKey)||typeof $.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");H=[`${Re.host} wants you to sign in with your Solana account:`,$.publicKey.toBase58(),...ae?["",ae,""]:[""],"Version: 1",`URI: ${Re.href}`,`Issued At: ${(p=(f=J?.signInWithSolana)===null||f===void 0?void 0:f.issuedAt)!==null&&p!==void 0?p:new Date().toISOString()}`,...!((m=J?.signInWithSolana)===null||m===void 0)&&m.notBefore?[`Not Before: ${J.signInWithSolana.notBefore}`]:[],...!((b=J?.signInWithSolana)===null||b===void 0)&&b.expirationTime?[`Expiration Time: ${J.signInWithSolana.expirationTime}`]:[],...!((E=J?.signInWithSolana)===null||E===void 0)&&E.chainId?[`Chain ID: ${J.signInWithSolana.chainId}`]:[],...!((S=J?.signInWithSolana)===null||S===void 0)&&S.nonce?[`Nonce: ${J.signInWithSolana.nonce}`]:[],...!((v=J?.signInWithSolana)===null||v===void 0)&&v.requestId?[`Request ID: ${J.signInWithSolana.requestId}`]:[],...!((R=(T=J?.signInWithSolana)===null||T===void 0?void 0:T.resources)===null||R===void 0)&&R.length?["Resources",...J.signInWithSolana.resources.map(K=>`- ${K}`)]:[]].join(`
`);const ve=await $.signMessage(new TextEncoder().encode(H),"utf8");if(!ve||!(ve instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");G=ve}}try{const{data:le,error:W}=await He(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:H,signature:es(G)},!((L=r.options)===null||L===void 0)&&L.captchaToken?{gotrue_meta_security:{captcha_token:(j=r.options)===null||j===void 0?void 0:j.captchaToken}}:null),xform:qi});if(W)throw W;if(!le||!le.session||!le.user){const ae=new Fs;return this._returnResult({data:{user:null,session:null},error:ae})}return le.session&&(await this._saveSession(le.session),await this._notifyAllSubscribers("SIGNED_IN",le.session)),this._returnResult({data:Object.assign({},le),error:W})}catch(le){if(Me(le))return this._returnResult({data:{user:null,session:null},error:le});throw le}}async _exchangeCodeForSession(r){const l=await Qa(this.storage,`${this.storageKey}-code-verifier`),[f,p]=(l??"").split("/");try{if(!f&&this.flowType==="pkce")throw new ly;const{data:m,error:b}=await He(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:r,code_verifier:f},xform:qi});if(await jn(this.storage,`${this.storageKey}-code-verifier`),b)throw b;if(!m||!m.session||!m.user){const E=new Fs;return this._returnResult({data:{user:null,session:null,redirectType:null},error:E})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:Object.assign(Object.assign({},m),{redirectType:p??null}),error:b})}catch(m){if(await jn(this.storage,`${this.storageKey}-code-verifier`),Me(m))return this._returnResult({data:{user:null,session:null,redirectType:null},error:m});throw m}}async signInWithIdToken(r){try{const{options:l,provider:f,token:p,access_token:m,nonce:b}=r,E=await He(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:f,id_token:p,access_token:m,nonce:b,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:qi}),{data:S,error:v}=E;if(v)return this._returnResult({data:{user:null,session:null},error:v});if(!S||!S.session||!S.user){const T=new Fs;return this._returnResult({data:{user:null,session:null},error:T})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:S,error:v})}catch(l){if(Me(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithOtp(r){var l,f,p,m,b;try{if("email"in r){const{email:E,options:S}=r;let v=null,T=null;this.flowType==="pkce"&&([v,T]=await Hs(this.storage,this.storageKey));const{error:R}=await He(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:E,data:(l=S?.data)!==null&&l!==void 0?l:{},create_user:(f=S?.shouldCreateUser)!==null&&f!==void 0?f:!0,gotrue_meta_security:{captcha_token:S?.captchaToken},code_challenge:v,code_challenge_method:T},redirectTo:S?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:R})}if("phone"in r){const{phone:E,options:S}=r,{data:v,error:T}=await He(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:E,data:(p=S?.data)!==null&&p!==void 0?p:{},create_user:(m=S?.shouldCreateUser)!==null&&m!==void 0?m:!0,gotrue_meta_security:{captcha_token:S?.captchaToken},channel:(b=S?.channel)!==null&&b!==void 0?b:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:v?.message_id},error:T})}throw new Dc("You must provide either an email or phone number.")}catch(E){if(await jn(this.storage,`${this.storageKey}-code-verifier`),Me(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}}async verifyOtp(r){var l,f;try{let p,m;"options"in r&&(p=(l=r.options)===null||l===void 0?void 0:l.redirectTo,m=(f=r.options)===null||f===void 0?void 0:f.captchaToken);const{data:b,error:E}=await He(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},r),{gotrue_meta_security:{captcha_token:m}}),redirectTo:p,xform:qi});if(E)throw E;if(!b)throw new Error("An error occurred on token verification.");const S=b.session,v=b.user;return S?.access_token&&(await this._saveSession(S),await this._notifyAllSubscribers(r.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",S)),this._returnResult({data:{user:v,session:S},error:null})}catch(p){if(Me(p))return this._returnResult({data:{user:null,session:null},error:p});throw p}}async signInWithSSO(r){var l,f,p,m,b;try{let E=null,S=null;this.flowType==="pkce"&&([E,S]=await Hs(this.storage,this.storageKey));const v=await He(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in r?{provider_id:r.providerId}:null),"domain"in r?{domain:r.domain}:null),{redirect_to:(f=(l=r.options)===null||l===void 0?void 0:l.redirectTo)!==null&&f!==void 0?f:void 0}),!((p=r?.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:r.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:E,code_challenge_method:S}),headers:this.headers,xform:Dy});return!((m=v.data)===null||m===void 0)&&m.url&&Un()&&!(!((b=r.options)===null||b===void 0)&&b.skipBrowserRedirect)&&window.location.assign(v.data.url),this._returnResult(v)}catch(E){if(await jn(this.storage,`${this.storageKey}-code-verifier`),Me(E))return this._returnResult({data:null,error:E});throw E}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async r=>{const{data:{session:l},error:f}=r;if(f)throw f;if(!l)throw new xi;const{error:p}=await He(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:l.access_token});return this._returnResult({data:{user:null,session:null},error:p})})}catch(r){if(Me(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async resend(r){try{const l=`${this.url}/resend`;if("email"in r){const{email:f,type:p,options:m}=r,{error:b}=await He(this.fetch,"POST",l,{headers:this.headers,body:{email:f,type:p,gotrue_meta_security:{captcha_token:m?.captchaToken}},redirectTo:m?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:b})}else if("phone"in r){const{phone:f,type:p,options:m}=r,{data:b,error:E}=await He(this.fetch,"POST",l,{headers:this.headers,body:{phone:f,type:p,gotrue_meta_security:{captcha_token:m?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:b?.message_id},error:E})}throw new Dc("You must provide either an email or phone number and a type")}catch(l){if(Me(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async l=>l))}async _acquireLock(r,l){this._debug("#_acquireLock","begin",r);try{if(this.lockAcquired){const f=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),p=(async()=>(await f,await l()))();return this.pendingInLock.push((async()=>{try{await p}catch{}})()),p}return await this.lock(`lock:${this.storageKey}`,r,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const f=l();for(this.pendingInLock.push((async()=>{try{await f}catch{}})()),await f;this.pendingInLock.length;){const p=[...this.pendingInLock];await Promise.all(p),this.pendingInLock.splice(0,p.length)}return await f}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(r){this._debug("#_useSession","begin");try{const l=await this.__loadSession();return await r(l)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let r=null;const l=await Qa(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",l),l!==null&&(this._isValidSession(l)?r=l:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!r)return{data:{session:null},error:null};const f=r.expires_at?r.expires_at*1e3-Date.now()<Zh:!1;if(this._debug("#__loadSession()",`session has${f?"":" not"} expired`,"expires_at",r.expires_at),!f){if(this.userStorage){const b=await Qa(this.userStorage,this.storageKey+"-user");b?.user?r.user=b.user:r.user=Jh()}if(this.storage.isServer&&r.user&&!r.user.__isUserNotAvailableProxy){const b={value:this.suppressGetSessionWarning};r.user=Ny(r.user,b),b.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:r},error:null}}const{data:p,error:m}=await this._callRefreshToken(r.refresh_token);return m?this._returnResult({data:{session:null},error:m}):this._returnResult({data:{session:p},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(r){if(r)return await this._getUser(r);await this.initializePromise;const l=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return l.data.user&&(this.suppressGetSessionWarning=!0),l}async _getUser(r){try{return r?await He(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:r,xform:Aa}):await this._useSession(async l=>{var f,p,m;const{data:b,error:E}=l;if(E)throw E;return!(!((f=b.session)===null||f===void 0)&&f.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new xi}:await He(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(m=(p=b.session)===null||p===void 0?void 0:p.access_token)!==null&&m!==void 0?m:void 0,xform:Aa})})}catch(l){if(Me(l))return Qh(l)&&(await this._removeSession(),await jn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:l});throw l}}async updateUser(r,l={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(r,l))}async _updateUser(r,l={}){try{return await this._useSession(async f=>{const{data:p,error:m}=f;if(m)throw m;if(!p.session)throw new xi;const b=p.session;let E=null,S=null;this.flowType==="pkce"&&r.email!=null&&([E,S]=await Hs(this.storage,this.storageKey));const{data:v,error:T}=await He(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:l?.emailRedirectTo,body:Object.assign(Object.assign({},r),{code_challenge:E,code_challenge_method:S}),jwt:b.access_token,xform:Aa});if(T)throw T;return b.user=v.user,await this._saveSession(b),await this._notifyAllSubscribers("USER_UPDATED",b),this._returnResult({data:{user:b.user},error:null})})}catch(f){if(await jn(this.storage,`${this.storageKey}-code-verifier`),Me(f))return this._returnResult({data:{user:null},error:f});throw f}}async setSession(r){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(r))}async _setSession(r){try{if(!r.access_token||!r.refresh_token)throw new xi;const l=Date.now()/1e3;let f=l,p=!0,m=null;const{payload:b}=Bc(r.access_token);if(b.exp&&(f=b.exp,p=f<=l),p){const{data:E,error:S}=await this._callRefreshToken(r.refresh_token);if(S)return this._returnResult({data:{user:null,session:null},error:S});if(!E)return{data:{user:null,session:null},error:null};m=E}else{const{data:E,error:S}=await this._getUser(r.access_token);if(S)return this._returnResult({data:{user:null,session:null},error:S});m={access_token:r.access_token,refresh_token:r.refresh_token,user:E.user,token_type:"bearer",expires_in:f-l,expires_at:f},await this._saveSession(m),await this._notifyAllSubscribers("SIGNED_IN",m)}return this._returnResult({data:{user:m.user,session:m},error:null})}catch(l){if(Me(l))return this._returnResult({data:{session:null,user:null},error:l});throw l}}async refreshSession(r){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(r))}async _refreshSession(r){try{return await this._useSession(async l=>{var f;if(!r){const{data:b,error:E}=l;if(E)throw E;r=(f=b.session)!==null&&f!==void 0?f:void 0}if(!r?.refresh_token)throw new xi;const{data:p,error:m}=await this._callRefreshToken(r.refresh_token);return m?this._returnResult({data:{user:null,session:null},error:m}):p?this._returnResult({data:{user:p.user,session:p},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(l){if(Me(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async _getSessionFromURL(r,l){try{if(!Un())throw new Mc("No browser detected.");if(r.error||r.error_description||r.error_code)throw new Mc(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});switch(l){case"implicit":if(this.flowType==="pkce")throw new $1("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Mc("Not a valid implicit grant flow url.");break;default:}if(l==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!r.code)throw new $1("No code detected.");const{data:ae,error:J}=await this._exchangeCodeForSession(r.code);if(J)throw J;const $=new URL(window.location.href);return $.searchParams.delete("code"),window.history.replaceState(window.history.state,"",$.toString()),{data:{session:ae.session,redirectType:null},error:null}}const{provider_token:f,provider_refresh_token:p,access_token:m,refresh_token:b,expires_in:E,expires_at:S,token_type:v}=r;if(!m||!E||!b||!v)throw new Mc("No session defined in URL");const T=Math.round(Date.now()/1e3),R=parseInt(E);let L=T+R;S&&(L=parseInt(S));const j=L-T;j*1e3<=Ws&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${j}s, should have been closer to ${R}s`);const H=L-R;T-H>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",H,L,T):T-H<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",H,L,T);const{data:G,error:le}=await this._getUser(m);if(le)throw le;const W={provider_token:f,provider_refresh_token:p,access_token:m,expires_in:R,expires_at:L,refresh_token:b,token_type:v,user:G.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:W,redirectType:r.type},error:null})}catch(f){if(Me(f))return this._returnResult({data:{session:null,redirectType:null},error:f});throw f}}_isImplicitGrantCallback(r){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),r):!!(r.access_token||r.error_description)}async _isPKCECallback(r){const l=await Qa(this.storage,`${this.storageKey}-code-verifier`);return!!(r.code&&l)}async signOut(r={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(r))}async _signOut({scope:r}={scope:"global"}){return await this._useSession(async l=>{var f;const{data:p,error:m}=l;if(m&&!Qh(m))return this._returnResult({error:m});const b=(f=p.session)===null||f===void 0?void 0:f.access_token;if(b){const{error:E}=await this.admin.signOut(b,r);if(E&&!(ay(E)&&(E.status===404||E.status===401||E.status===403)||Qh(E)))return this._returnResult({error:E})}return r!=="others"&&(await this._removeSession(),await jn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(r){const l=gy(),f={id:l,callback:r,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",l),this.stateChangeEmitters.delete(l)}};return this._debug("#onAuthStateChange()","registered callback with id",l),this.stateChangeEmitters.set(l,f),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(l)})))(),{data:{subscription:f}}}async _emitInitialSession(r){return await this._useSession(async l=>{var f,p;try{const{data:{session:m},error:b}=l;if(b)throw b;await((f=this.stateChangeEmitters.get(r))===null||f===void 0?void 0:f.callback("INITIAL_SESSION",m)),this._debug("INITIAL_SESSION","callback id",r,"session",m)}catch(m){await((p=this.stateChangeEmitters.get(r))===null||p===void 0?void 0:p.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",r,"error",m),console.error(m)}})}async resetPasswordForEmail(r,l={}){let f=null,p=null;this.flowType==="pkce"&&([f,p]=await Hs(this.storage,this.storageKey,!0));try{return await He(this.fetch,"POST",`${this.url}/recover`,{body:{email:r,code_challenge:f,code_challenge_method:p,gotrue_meta_security:{captcha_token:l.captchaToken}},headers:this.headers,redirectTo:l.redirectTo})}catch(m){if(await jn(this.storage,`${this.storageKey}-code-verifier`),Me(m))return this._returnResult({data:null,error:m});throw m}}async getUserIdentities(){var r;try{const{data:l,error:f}=await this.getUser();if(f)throw f;return this._returnResult({data:{identities:(r=l.user.identities)!==null&&r!==void 0?r:[]},error:null})}catch(l){if(Me(l))return this._returnResult({data:null,error:l});throw l}}async linkIdentity(r){return"token"in r?this.linkIdentityIdToken(r):this.linkIdentityOAuth(r)}async linkIdentityOAuth(r){var l;try{const{data:f,error:p}=await this._useSession(async m=>{var b,E,S,v,T;const{data:R,error:L}=m;if(L)throw L;const j=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,r.provider,{redirectTo:(b=r.options)===null||b===void 0?void 0:b.redirectTo,scopes:(E=r.options)===null||E===void 0?void 0:E.scopes,queryParams:(S=r.options)===null||S===void 0?void 0:S.queryParams,skipBrowserRedirect:!0});return await He(this.fetch,"GET",j,{headers:this.headers,jwt:(T=(v=R.session)===null||v===void 0?void 0:v.access_token)!==null&&T!==void 0?T:void 0})});if(p)throw p;return Un()&&!(!((l=r.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(f?.url),this._returnResult({data:{provider:r.provider,url:f?.url},error:null})}catch(f){if(Me(f))return this._returnResult({data:{provider:r.provider,url:null},error:f});throw f}}async linkIdentityIdToken(r){return await this._useSession(async l=>{var f;try{const{error:p,data:{session:m}}=l;if(p)throw p;const{options:b,provider:E,token:S,access_token:v,nonce:T}=r,R=await He(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(f=m?.access_token)!==null&&f!==void 0?f:void 0,body:{provider:E,id_token:S,access_token:v,nonce:T,link_identity:!0,gotrue_meta_security:{captcha_token:b?.captchaToken}},xform:qi}),{data:L,error:j}=R;return j?this._returnResult({data:{user:null,session:null},error:j}):!L||!L.session||!L.user?this._returnResult({data:{user:null,session:null},error:new Fs}):(L.session&&(await this._saveSession(L.session),await this._notifyAllSubscribers("USER_UPDATED",L.session)),this._returnResult({data:L,error:j}))}catch(p){if(await jn(this.storage,`${this.storageKey}-code-verifier`),Me(p))return this._returnResult({data:{user:null,session:null},error:p});throw p}})}async unlinkIdentity(r){try{return await this._useSession(async l=>{var f,p;const{data:m,error:b}=l;if(b)throw b;return await He(this.fetch,"DELETE",`${this.url}/user/identities/${r.identity_id}`,{headers:this.headers,jwt:(p=(f=m.session)===null||f===void 0?void 0:f.access_token)!==null&&p!==void 0?p:void 0})})}catch(l){if(Me(l))return this._returnResult({data:null,error:l});throw l}}async _refreshAccessToken(r){const l=`#_refreshAccessToken(${r.substring(0,5)}...)`;this._debug(l,"begin");try{const f=Date.now();return await xy(async p=>(p>0&&await yy(200*Math.pow(2,p-1)),this._debug(l,"refreshing attempt",p),await He(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:r},headers:this.headers,xform:qi})),(p,m)=>{const b=200*Math.pow(2,p);return m&&Kh(m)&&Date.now()+b-f<Ws})}catch(f){if(this._debug(l,"error",f),Me(f))return this._returnResult({data:{session:null,user:null},error:f});throw f}finally{this._debug(l,"end")}}_isValidSession(r){return typeof r=="object"&&r!==null&&"access_token"in r&&"refresh_token"in r&&"expires_at"in r}async _handleProviderSignIn(r,l){const f=await this._getUrlForProvider(`${this.url}/authorize`,r,{redirectTo:l.redirectTo,scopes:l.scopes,queryParams:l.queryParams});return this._debug("#_handleProviderSignIn()","provider",r,"options",l,"url",f),Un()&&!l.skipBrowserRedirect&&window.location.assign(f),{data:{provider:r,url:f},error:null}}async _recoverAndRefresh(){var r,l;const f="#_recoverAndRefresh()";this._debug(f,"begin");try{const p=await Qa(this.storage,this.storageKey);if(p&&this.userStorage){let b=await Qa(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!b&&(b={user:p.user},await Zs(this.userStorage,this.storageKey+"-user",b)),p.user=(r=b?.user)!==null&&r!==void 0?r:Jh()}else if(p&&!p.user&&!p.user){const b=await Qa(this.storage,this.storageKey+"-user");b&&b?.user?(p.user=b.user,await jn(this.storage,this.storageKey+"-user"),await Zs(this.storage,this.storageKey,p)):p.user=Jh()}if(this._debug(f,"session from storage",p),!this._isValidSession(p)){this._debug(f,"session is not valid"),p!==null&&await this._removeSession();return}const m=((l=p.expires_at)!==null&&l!==void 0?l:1/0)*1e3-Date.now()<Zh;if(this._debug(f,`session has${m?"":" not"} expired with margin of ${Zh}s`),m){if(this.autoRefreshToken&&p.refresh_token){const{error:b}=await this._callRefreshToken(p.refresh_token);b&&(console.error(b),Kh(b)||(this._debug(f,"refresh failed with a non-retryable error, removing the session",b),await this._removeSession()))}}else if(p.user&&p.user.__isUserNotAvailableProxy===!0)try{const{data:b,error:E}=await this._getUser(p.access_token);!E&&b?.user?(p.user=b.user,await this._saveSession(p),await this._notifyAllSubscribers("SIGNED_IN",p)):this._debug(f,"could not get user data, skipping SIGNED_IN notification")}catch(b){console.error("Error getting user data:",b),this._debug(f,"error getting user data, skipping SIGNED_IN notification",b)}else await this._notifyAllSubscribers("SIGNED_IN",p)}catch(p){this._debug(f,"error",p),console.error(p);return}finally{this._debug(f,"end")}}async _callRefreshToken(r){var l,f;if(!r)throw new xi;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const p=`#_callRefreshToken(${r.substring(0,5)}...)`;this._debug(p,"begin");try{this.refreshingDeferred=new Gc;const{data:m,error:b}=await this._refreshAccessToken(r);if(b)throw b;if(!m.session)throw new xi;await this._saveSession(m.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",m.session);const E={data:m.session,error:null};return this.refreshingDeferred.resolve(E),E}catch(m){if(this._debug(p,"error",m),Me(m)){const b={data:null,error:m};return Kh(m)||await this._removeSession(),(l=this.refreshingDeferred)===null||l===void 0||l.resolve(b),b}throw(f=this.refreshingDeferred)===null||f===void 0||f.reject(m),m}finally{this.refreshingDeferred=null,this._debug(p,"end")}}async _notifyAllSubscribers(r,l,f=!0){const p=`#_notifyAllSubscribers(${r})`;this._debug(p,"begin",l,`broadcast = ${f}`);try{this.broadcastChannel&&f&&this.broadcastChannel.postMessage({event:r,session:l});const m=[],b=Array.from(this.stateChangeEmitters.values()).map(async E=>{try{await E.callback(r,l)}catch(S){m.push(S)}});if(await Promise.all(b),m.length>0){for(let E=0;E<m.length;E+=1)console.error(m[E]);throw m[0]}}finally{this._debug(p,"end")}}async _saveSession(r){this._debug("#_saveSession()",r),this.suppressGetSessionWarning=!0,await jn(this.storage,`${this.storageKey}-code-verifier`);const l=Object.assign({},r),f=l.user&&l.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!f&&l.user&&await Zs(this.userStorage,this.storageKey+"-user",{user:l.user});const p=Object.assign({},l);delete p.user;const m=rg(p);await Zs(this.storage,this.storageKey,m)}else{const p=rg(l);await Zs(this.storage,this.storageKey,p)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await jn(this.storage,this.storageKey),await jn(this.storage,this.storageKey+"-code-verifier"),await jn(this.storage,this.storageKey+"-user"),this.userStorage&&await jn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const r=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{r&&Un()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",r)}catch(l){console.error("removing visibilitychange callback failed",l)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const r=setInterval(()=>this._autoRefreshTokenTick(),Ws);this.autoRefreshTicker=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r);const l=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=l,l&&typeof l=="object"&&typeof l.unref=="function"?l.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(l)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const r=this.autoRefreshTicker;this.autoRefreshTicker=null,r&&clearInterval(r);const l=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,l&&clearTimeout(l)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const r=Date.now();try{return await this._useSession(async l=>{const{data:{session:f}}=l;if(!f||!f.refresh_token||!f.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const p=Math.floor((f.expires_at*1e3-r)/Ws);this._debug("#_autoRefreshTokenTick()",`access token expires in ${p} ticks, a tick lasts ${Ws}ms, refresh threshold is ${wf} ticks`),p<=wf&&await this._callRefreshToken(f.refresh_token)})}catch(l){console.error("Auto refresh tick failed with error. This is likely a transient error.",l)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(r){if(r.isAcquireTimeout||r instanceof i2)this._debug("auto refresh token tick lock not available");else throw r}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Un()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(r){this._debug("#visibilityChangedCallback","error",r)}},window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(r){console.error("_handleVisibilityChange",r)}}async _onVisibilityChanged(r){const l=`#_onVisibilityChanged(${r})`;this._debug(l,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),r||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(l,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(r,l,f){const p=[`provider=${encodeURIComponent(l)}`];if(f?.redirectTo&&p.push(`redirect_to=${encodeURIComponent(f.redirectTo)}`),f?.scopes&&p.push(`scopes=${encodeURIComponent(f.scopes)}`),this.flowType==="pkce"){const[m,b]=await Hs(this.storage,this.storageKey),E=new URLSearchParams({code_challenge:`${encodeURIComponent(m)}`,code_challenge_method:`${encodeURIComponent(b)}`});p.push(E.toString())}if(f?.queryParams){const m=new URLSearchParams(f.queryParams);p.push(m.toString())}return f?.skipBrowserRedirect&&p.push(`skip_http_redirect=${f.skipBrowserRedirect}`),`${r}?${p.join("&")}`}async _unenroll(r){try{return await this._useSession(async l=>{var f;const{data:p,error:m}=l;return m?this._returnResult({data:null,error:m}):await He(this.fetch,"DELETE",`${this.url}/factors/${r.factorId}`,{headers:this.headers,jwt:(f=p?.session)===null||f===void 0?void 0:f.access_token})})}catch(l){if(Me(l))return this._returnResult({data:null,error:l});throw l}}async _enroll(r){try{return await this._useSession(async l=>{var f,p;const{data:m,error:b}=l;if(b)return this._returnResult({data:null,error:b});const E=Object.assign({friendly_name:r.friendlyName,factor_type:r.factorType},r.factorType==="phone"?{phone:r.phone}:r.factorType==="totp"?{issuer:r.issuer}:{}),{data:S,error:v}=await He(this.fetch,"POST",`${this.url}/factors`,{body:E,headers:this.headers,jwt:(f=m?.session)===null||f===void 0?void 0:f.access_token});return v?this._returnResult({data:null,error:v}):(r.factorType==="totp"&&S.type==="totp"&&(!((p=S?.totp)===null||p===void 0)&&p.qr_code)&&(S.totp.qr_code=`data:image/svg+xml;utf-8,${S.totp.qr_code}`),this._returnResult({data:S,error:null}))})}catch(l){if(Me(l))return this._returnResult({data:null,error:l});throw l}}async _verify(r){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async l=>{var f;const{data:p,error:m}=l;if(m)return this._returnResult({data:null,error:m});const b=Object.assign({challenge_id:r.challengeId},"webauthn"in r?{webauthn:Object.assign(Object.assign({},r.webauthn),{credential_response:r.webauthn.type==="create"?Wy(r.webauthn.credential_response):Zy(r.webauthn.credential_response)})}:{code:r.code}),{data:E,error:S}=await He(this.fetch,"POST",`${this.url}/factors/${r.factorId}/verify`,{body:b,headers:this.headers,jwt:(f=p?.session)===null||f===void 0?void 0:f.access_token});return S?this._returnResult({data:null,error:S}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+E.expires_in},E)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",E),this._returnResult({data:E,error:S}))})}catch(l){if(Me(l))return this._returnResult({data:null,error:l});throw l}})}async _challenge(r){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async l=>{var f;const{data:p,error:m}=l;if(m)return this._returnResult({data:null,error:m});const b=await He(this.fetch,"POST",`${this.url}/factors/${r.factorId}/challenge`,{body:r,headers:this.headers,jwt:(f=p?.session)===null||f===void 0?void 0:f.access_token});if(b.error)return b;const{data:E}=b;if(E.type!=="webauthn")return{data:E,error:null};switch(E.webauthn.type){case"create":return{data:Object.assign(Object.assign({},E),{webauthn:Object.assign(Object.assign({},E.webauthn),{credential_options:Object.assign(Object.assign({},E.webauthn.credential_options),{publicKey:qy(E.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},E),{webauthn:Object.assign(Object.assign({},E.webauthn),{credential_options:Object.assign(Object.assign({},E.webauthn.credential_options),{publicKey:Xy(E.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(l){if(Me(l))return this._returnResult({data:null,error:l});throw l}})}async _challengeAndVerify(r){const{data:l,error:f}=await this._challenge({factorId:r.factorId});return f?this._returnResult({data:null,error:f}):await this._verify({factorId:r.factorId,challengeId:l.id,code:r.code})}async _listFactors(){var r;const{data:{user:l},error:f}=await this.getUser();if(f)return{data:null,error:f};const p={all:[],phone:[],totp:[],webauthn:[]};for(const m of(r=l?.factors)!==null&&r!==void 0?r:[])p.all.push(m),m.status==="verified"&&p[m.factor_type].push(m);return{data:p,error:null}}async _getAuthenticatorAssuranceLevel(r){var l,f,p,m;if(r)try{const{payload:j}=Bc(r);let H=null;j.aal&&(H=j.aal);let G=H;const{data:{user:le},error:W}=await this.getUser(r);if(W)return this._returnResult({data:null,error:W});((f=(l=le?.factors)===null||l===void 0?void 0:l.filter($=>$.status==="verified"))!==null&&f!==void 0?f:[]).length>0&&(G="aal2");const J=j.amr||[];return{data:{currentLevel:H,nextLevel:G,currentAuthenticationMethods:J},error:null}}catch(j){if(Me(j))return this._returnResult({data:null,error:j});throw j}const{data:{session:b},error:E}=await this.getSession();if(E)return this._returnResult({data:null,error:E});if(!b)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:S}=Bc(b.access_token);let v=null;S.aal&&(v=S.aal);let T=v;((m=(p=b.user.factors)===null||p===void 0?void 0:p.filter(j=>j.status==="verified"))!==null&&m!==void 0?m:[]).length>0&&(T="aal2");const L=S.amr||[];return{data:{currentLevel:v,nextLevel:T,currentAuthenticationMethods:L},error:null}}async _getAuthorizationDetails(r){try{return await this._useSession(async l=>{const{data:{session:f},error:p}=l;return p?this._returnResult({data:null,error:p}):f?await He(this.fetch,"GET",`${this.url}/oauth/authorizations/${r}`,{headers:this.headers,jwt:f.access_token,xform:m=>({data:m,error:null})}):this._returnResult({data:null,error:new xi})})}catch(l){if(Me(l))return this._returnResult({data:null,error:l});throw l}}async _approveAuthorization(r,l){try{return await this._useSession(async f=>{const{data:{session:p},error:m}=f;if(m)return this._returnResult({data:null,error:m});if(!p)return this._returnResult({data:null,error:new xi});const b=await He(this.fetch,"POST",`${this.url}/oauth/authorizations/${r}/consent`,{headers:this.headers,jwt:p.access_token,body:{action:"approve"},xform:E=>({data:E,error:null})});return b.data&&b.data.redirect_url&&Un()&&!l?.skipBrowserRedirect&&window.location.assign(b.data.redirect_url),b})}catch(f){if(Me(f))return this._returnResult({data:null,error:f});throw f}}async _denyAuthorization(r,l){try{return await this._useSession(async f=>{const{data:{session:p},error:m}=f;if(m)return this._returnResult({data:null,error:m});if(!p)return this._returnResult({data:null,error:new xi});const b=await He(this.fetch,"POST",`${this.url}/oauth/authorizations/${r}/consent`,{headers:this.headers,jwt:p.access_token,body:{action:"deny"},xform:E=>({data:E,error:null})});return b.data&&b.data.redirect_url&&Un()&&!l?.skipBrowserRedirect&&window.location.assign(b.data.redirect_url),b})}catch(f){if(Me(f))return this._returnResult({data:null,error:f});throw f}}async _listOAuthGrants(){try{return await this._useSession(async r=>{const{data:{session:l},error:f}=r;return f?this._returnResult({data:null,error:f}):l?await He(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:l.access_token,xform:p=>({data:p,error:null})}):this._returnResult({data:null,error:new xi})})}catch(r){if(Me(r))return this._returnResult({data:null,error:r});throw r}}async _revokeOAuthGrant(r){try{return await this._useSession(async l=>{const{data:{session:f},error:p}=l;return p?this._returnResult({data:null,error:p}):f?(await He(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:f.access_token,query:{client_id:r.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new xi})})}catch(l){if(Me(l))return this._returnResult({data:null,error:l});throw l}}async fetchJwk(r,l={keys:[]}){let f=l.keys.find(E=>E.kid===r);if(f)return f;const p=Date.now();if(f=this.jwks.keys.find(E=>E.kid===r),f&&this.jwks_cached_at+iy>p)return f;const{data:m,error:b}=await He(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(b)throw b;return!m.keys||m.keys.length===0||(this.jwks=m,this.jwks_cached_at=p,f=m.keys.find(E=>E.kid===r),!f)?null:f}async getClaims(r,l={}){try{let f=r;if(!f){const{data:j,error:H}=await this.getSession();if(H||!j.session)return this._returnResult({data:null,error:H});f=j.session.access_token}const{header:p,payload:m,signature:b,raw:{header:E,payload:S}}=Bc(f);l?.allowExpired||_y(m.exp);const v=!p.alg||p.alg.startsWith("HS")||!p.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(p.kid,l?.keys?{keys:l.keys}:l?.jwks);if(!v){const{error:j}=await this.getUser(f);if(j)throw j;return{data:{claims:m,header:p,signature:b},error:null}}const T=Cy(p.alg),R=await crypto.subtle.importKey("jwk",v,T,!0,["verify"]);if(!await crypto.subtle.verify(T,R,b,fy(`${E}.${S}`)))throw new Af("Invalid JWT signature");return{data:{claims:m,header:p,signature:b},error:null}}catch(f){if(Me(f))return this._returnResult({data:null,error:f});throw f}}}ro.nextInstanceID={};const rx=ro,ax="2.93.3";let Ql="";typeof Deno<"u"?Ql="deno":typeof document<"u"?Ql="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ql="react-native":Ql="node";const sx={"X-Client-Info":`supabase-js-${Ql}/${ax}`},lx={headers:sx},ox={schema:"public"},cx={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},ux={};function ao(o){"@babel/helpers - typeof";return ao=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ao(o)}function hx(o,r){if(ao(o)!="object"||!o)return o;var l=o[Symbol.toPrimitive];if(l!==void 0){var f=l.call(o,r);if(ao(f)!="object")return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(o)}function fx(o){var r=hx(o,"string");return ao(r)=="symbol"?r:r+""}function dx(o,r,l){return(r=fx(r))in o?Object.defineProperty(o,r,{value:l,enumerable:!0,configurable:!0,writable:!0}):o[r]=l,o}function hg(o,r){var l=Object.keys(o);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(o);r&&(f=f.filter(function(p){return Object.getOwnPropertyDescriptor(o,p).enumerable})),l.push.apply(l,f)}return l}function sn(o){for(var r=1;r<arguments.length;r++){var l=arguments[r]!=null?arguments[r]:{};r%2?hg(Object(l),!0).forEach(function(f){dx(o,f,l[f])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(l)):hg(Object(l)).forEach(function(f){Object.defineProperty(o,f,Object.getOwnPropertyDescriptor(l,f))})}return o}const gx=o=>o?(...r)=>o(...r):(...r)=>fetch(...r),mx=()=>Headers,px=(o,r,l)=>{const f=gx(l),p=mx();return async(m,b)=>{var E;const S=(E=await r())!==null&&E!==void 0?E:o;let v=new p(b?.headers);return v.has("apikey")||v.set("apikey",o),v.has("Authorization")||v.set("Authorization",`Bearer ${S}`),f(m,sn(sn({},b),{},{headers:v}))}};function yx(o){return o.endsWith("/")?o:o+"/"}function xx(o,r){var l,f;const{db:p,auth:m,realtime:b,global:E}=o,{db:S,auth:v,realtime:T,global:R}=r,L={db:sn(sn({},S),p),auth:sn(sn({},v),m),realtime:sn(sn({},T),b),storage:{},global:sn(sn(sn({},R),E),{},{headers:sn(sn({},(l=R?.headers)!==null&&l!==void 0?l:{}),(f=E?.headers)!==null&&f!==void 0?f:{})}),accessToken:async()=>""};return o.accessToken?L.accessToken=o.accessToken:delete L.accessToken,L}function wx(o){const r=o?.trim();if(!r)throw new Error("supabaseUrl is required.");if(!r.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(yx(r))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var vx=class extends rx{constructor(o){super(o)}},bx=class{constructor(o,r,l){var f,p;this.supabaseUrl=o,this.supabaseKey=r;const m=wx(o);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",m),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",m),this.storageUrl=new URL("storage/v1",m),this.functionsUrl=new URL("functions/v1",m);const b=`sb-${m.hostname.split(".")[0]}-auth-token`,E={db:ox,realtime:ux,auth:sn(sn({},cx),{},{storageKey:b}),global:lx},S=xx(l??{},E);if(this.storageKey=(f=S.auth.storageKey)!==null&&f!==void 0?f:"",this.headers=(p=S.global.headers)!==null&&p!==void 0?p:{},S.accessToken)this.accessToken=S.accessToken,this.auth=new Proxy({},{get:(T,R)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(R)} is not possible`)}});else{var v;this.auth=this._initSupabaseAuthClient((v=S.auth)!==null&&v!==void 0?v:{},this.headers,S.global.fetch)}this.fetch=px(r,this._getAccessToken.bind(this),S.global.fetch),this.realtime=this._initRealtimeClient(sn({headers:this.headers,accessToken:this._getAccessToken.bind(this)},S.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(T=>this.realtime.setAuth(T)).catch(T=>console.warn("Failed to set initial Realtime auth token:",T)),this.rest=new ap(new URL("rest/v1",m).href,{headers:this.headers,schema:S.db.schema,fetch:this.fetch}),this.storage=new Jp(this.storageUrl.href,this.headers,this.fetch,l?.storage),S.accessToken||this._listenForAuthEvents()}get functions(){return new ep(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(o){return this.rest.from(o)}schema(o){return this.rest.schema(o)}rpc(o,r={},l={head:!1,get:!1,count:void 0}){return this.rest.rpc(o,r,l)}channel(o,r={config:{}}){return this.realtime.channel(o,r)}getChannels(){return this.realtime.getChannels()}removeChannel(o){return this.realtime.removeChannel(o)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var o=this,r,l;if(o.accessToken)return await o.accessToken();const{data:f}=await o.auth.getSession();return(r=(l=f.session)===null||l===void 0?void 0:l.access_token)!==null&&r!==void 0?r:o.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:o,persistSession:r,detectSessionInUrl:l,storage:f,userStorage:p,storageKey:m,flowType:b,lock:E,debug:S,throwOnError:v},T,R){const L={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new vx({url:this.authUrl.href,headers:sn(sn({},L),T),storageKey:m,autoRefreshToken:o,persistSession:r,detectSessionInUrl:l,storage:f,userStorage:p,flowType:b,lock:E,debug:S,throwOnError:v,fetch:R,hasCustomAuthorizationHeader:Object.keys(this.headers).some(j=>j.toLowerCase()==="authorization")})}_initRealtimeClient(o){return new Ap(this.realtimeUrl.href,sn(sn({},o),{},{params:sn(sn({},{apikey:this.supabaseKey}),o?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((o,r)=>{this._handleTokenChanged(o,"CLIENT",r?.access_token)})}_handleTokenChanged(o,r,l){(o==="TOKEN_REFRESHED"||o==="SIGNED_IN")&&this.changedAccessToken!==l?(this.changedAccessToken=l,this.realtime.setAuth(l)):o==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Ax=(o,r,l)=>new bx(o,r,l);function Ex(){if(typeof window<"u")return!1;const o=globalThis.process;if(!o)return!1;const r=o.version;if(r==null)return!1;const l=r.match(/^v(\d+)\./);return l?parseInt(l[1],10)<=18:!1}Ex()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Sx="https://fjfeecztgyqjgpobyoem.supabase.co",_x="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZqZmVlY3p0Z3lxamdwb2J5b2VtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njk4NDc0MDksImV4cCI6MjA4NTQyMzQwOX0.9MY34pcJGIlIs0e24xzbYUWfpr7GeG3-BLIcGtq0XL0",Rt=Ax(Sx,_x);const s2=(...o)=>o.filter((r,l,f)=>!!r&&r.trim()!==""&&f.indexOf(r)===l).join(" ").trim();const Cx=o=>o.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const Tx=o=>o.replace(/^([A-Z])|[\s-_]+(\w)/g,(r,l,f)=>f?f.toUpperCase():l.toLowerCase());const fg=o=>{const r=Tx(o);return r.charAt(0).toUpperCase()+r.slice(1)};var Nx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Ox=o=>{for(const r in o)if(r.startsWith("aria-")||r==="role"||r==="title")return!0;return!1};const Ix=Oe.forwardRef(({color:o="currentColor",size:r=24,strokeWidth:l=2,absoluteStrokeWidth:f,className:p="",children:m,iconNode:b,...E},S)=>Oe.createElement("svg",{ref:S,...Nx,width:r,height:r,stroke:o,strokeWidth:f?Number(l)*24/Number(r):l,className:s2("lucide",p),...!m&&!Ox(E)&&{"aria-hidden":"true"},...E},[...b.map(([v,T])=>Oe.createElement(v,T)),...Array.isArray(m)?m:[m]]));const Vt=(o,r)=>{const l=Oe.forwardRef(({className:f,...p},m)=>Oe.createElement(Ix,{ref:m,iconNode:r,className:s2(`lucide-${Cx(fg(o))}`,`lucide-${o}`,f),...p}));return l.displayName=fg(o),l};const Rx=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Dx=Vt("activity",Rx);const Mx=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Qi=Vt("arrow-left",Mx);const Bx=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],Lx=Vt("arrow-up-down",Bx);const kx=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],jx=Vt("award",kx);const Ux=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],so=Vt("book-open",Ux);const zx=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Px=Vt("calendar",zx);const Fx=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],Hx=Vt("chart-no-axes-column",Fx);const Vx=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Yc=Vt("circle-check-big",Vx);const Gx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Yx=Vt("circle-question-mark",Gx);const qx=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],Xx=Vt("clipboard-list",qx);const Wx=[["path",{d:"M16 2v2",key:"scm5qe"}],["path",{d:"M7 22v-2a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2",key:"1waht3"}],["path",{d:"M8 2v2",key:"pbkmx"}],["circle",{cx:"12",cy:"11",r:"3",key:"itu57m"}],["rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",key:"12vinp"}]],Zx=Vt("contact",Wx);const Qx=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],Kx=Vt("flame",Qx);const Jx=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],$x=Vt("gift",Jx);const ew=[["path",{d:"M19.414 14.414C21 12.828 22 11.5 22 9.5a5.5 5.5 0 0 0-9.591-3.676.6.6 0 0 1-.818.001A5.5 5.5 0 0 0 2 9.5c0 2.3 1.5 4 3 5.5l5.535 5.362a2 2 0 0 0 2.879.052 2.12 2.12 0 0 0-.004-3 2.124 2.124 0 1 0 3-3 2.124 2.124 0 0 0 3.004 0 2 2 0 0 0 0-2.828l-1.881-1.882a2.41 2.41 0 0 0-3.409 0l-1.71 1.71a2 2 0 0 1-2.828 0 2 2 0 0 1 0-2.828l2.823-2.762",key:"17lmqv"}]],tw=Vt("heart-handshake",ew);const nw=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Cf=Vt("message-square",nw);const iw=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],rw=Vt("pen-line",iw);const aw=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],sw=Vt("plus",aw);const lw=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],ow=Vt("qr-code",lw);const cw=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]],uw=Vt("scan",cw);const hw=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Tf=Vt("search",hw);const fw=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],l2=Vt("star",fw);const dw=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],gw=Vt("trash-2",dw);const mw=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],o2=Vt("triangle-alert",mw);const pw=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],c2=Vt("trophy",pw);const yw=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Nf=Vt("user",yw);const xw=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],u2=Vt("users",xw);var qs={},ef={exports:{}},tf,dg;function ww(){if(dg)return tf;dg=1;var o="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return tf=o,tf}var nf,gg;function vw(){if(gg)return nf;gg=1;var o=ww();function r(){}function l(){}return l.resetWarningCache=r,nf=function(){function f(b,E,S,v,T,R){if(R!==o){var L=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw L.name="Invariant Violation",L}}f.isRequired=f;function p(){return f}var m={array:f,bigint:f,bool:f,func:f,number:f,object:f,string:f,symbol:f,any:f,arrayOf:p,element:f,elementType:f,instanceOf:p,node:f,objectOf:p,oneOf:p,oneOfType:p,shape:p,exact:p,checkPropTypes:l,resetWarningCache:r};return m.PropTypes=m,m},nf}var mg;function h2(){return mg||(mg=1,ef.exports=vw()()),ef.exports}var rf,pg;function f2(){return pg||(pg=1,rf={L:1,M:0,Q:3,H:2}),rf}var af,yg;function d2(){return yg||(yg=1,af={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8}),af}var sf,xg;function bw(){if(xg)return sf;xg=1;var o=d2();function r(l){this.mode=o.MODE_8BIT_BYTE,this.data=l}return r.prototype={getLength:function(l){return this.data.length},write:function(l){for(var f=0;f<this.data.length;f++)l.put(this.data.charCodeAt(f),8)}},sf=r,sf}var lf,wg;function Aw(){if(wg)return lf;wg=1;var o=f2();function r(l,f){this.totalCount=l,this.dataCount=f}return r.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],r.getRSBlocks=function(l,f){var p=r.getRsBlockTable(l,f);if(p==null)throw new Error("bad rs block @ typeNumber:"+l+"/errorCorrectLevel:"+f);for(var m=p.length/3,b=new Array,E=0;E<m;E++)for(var S=p[E*3+0],v=p[E*3+1],T=p[E*3+2],R=0;R<S;R++)b.push(new r(v,T));return b},r.getRsBlockTable=function(l,f){switch(f){case o.L:return r.RS_BLOCK_TABLE[(l-1)*4+0];case o.M:return r.RS_BLOCK_TABLE[(l-1)*4+1];case o.Q:return r.RS_BLOCK_TABLE[(l-1)*4+2];case o.H:return r.RS_BLOCK_TABLE[(l-1)*4+3];default:return}},lf=r,lf}var of,vg;function Ew(){if(vg)return of;vg=1;function o(){this.buffer=new Array,this.length=0}return o.prototype={get:function(r){var l=Math.floor(r/8);return(this.buffer[l]>>>7-r%8&1)==1},put:function(r,l){for(var f=0;f<l;f++)this.putBit((r>>>l-f-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(r){var l=Math.floor(this.length/8);this.buffer.length<=l&&this.buffer.push(0),r&&(this.buffer[l]|=128>>>this.length%8),this.length++}},of=o,of}var cf,bg;function g2(){if(bg)return cf;bg=1;for(var o={glog:function(l){if(l<1)throw new Error("glog("+l+")");return o.LOG_TABLE[l]},gexp:function(l){for(;l<0;)l+=255;for(;l>=256;)l-=255;return o.EXP_TABLE[l]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},r=0;r<8;r++)o.EXP_TABLE[r]=1<<r;for(var r=8;r<256;r++)o.EXP_TABLE[r]=o.EXP_TABLE[r-4]^o.EXP_TABLE[r-5]^o.EXP_TABLE[r-6]^o.EXP_TABLE[r-8];for(var r=0;r<255;r++)o.LOG_TABLE[o.EXP_TABLE[r]]=r;return cf=o,cf}var uf,Ag;function m2(){if(Ag)return uf;Ag=1;var o=g2();function r(l,f){if(l.length==null)throw new Error(l.length+"/"+f);for(var p=0;p<l.length&&l[p]==0;)p++;this.num=new Array(l.length-p+f);for(var m=0;m<l.length-p;m++)this.num[m]=l[m+p]}return r.prototype={get:function(l){return this.num[l]},getLength:function(){return this.num.length},multiply:function(l){for(var f=new Array(this.getLength()+l.getLength()-1),p=0;p<this.getLength();p++)for(var m=0;m<l.getLength();m++)f[p+m]^=o.gexp(o.glog(this.get(p))+o.glog(l.get(m)));return new r(f,0)},mod:function(l){if(this.getLength()-l.getLength()<0)return this;for(var f=o.glog(this.get(0))-o.glog(l.get(0)),p=new Array(this.getLength()),m=0;m<this.getLength();m++)p[m]=this.get(m);for(var m=0;m<l.getLength();m++)p[m]^=o.gexp(o.glog(l.get(m))+f);return new r(p,0).mod(l)}},uf=r,uf}var hf,Eg;function Sw(){if(Eg)return hf;Eg=1;var o=d2(),r=m2(),l=g2(),f={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},p={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(m){for(var b=m<<10;p.getBCHDigit(b)-p.getBCHDigit(p.G15)>=0;)b^=p.G15<<p.getBCHDigit(b)-p.getBCHDigit(p.G15);return(m<<10|b)^p.G15_MASK},getBCHTypeNumber:function(m){for(var b=m<<12;p.getBCHDigit(b)-p.getBCHDigit(p.G18)>=0;)b^=p.G18<<p.getBCHDigit(b)-p.getBCHDigit(p.G18);return m<<12|b},getBCHDigit:function(m){for(var b=0;m!=0;)b++,m>>>=1;return b},getPatternPosition:function(m){return p.PATTERN_POSITION_TABLE[m-1]},getMask:function(m,b,E){switch(m){case f.PATTERN000:return(b+E)%2==0;case f.PATTERN001:return b%2==0;case f.PATTERN010:return E%3==0;case f.PATTERN011:return(b+E)%3==0;case f.PATTERN100:return(Math.floor(b/2)+Math.floor(E/3))%2==0;case f.PATTERN101:return b*E%2+b*E%3==0;case f.PATTERN110:return(b*E%2+b*E%3)%2==0;case f.PATTERN111:return(b*E%3+(b+E)%2)%2==0;default:throw new Error("bad maskPattern:"+m)}},getErrorCorrectPolynomial:function(m){for(var b=new r([1],0),E=0;E<m;E++)b=b.multiply(new r([1,l.gexp(E)],0));return b},getLengthInBits:function(m,b){if(1<=b&&b<10)switch(m){case o.MODE_NUMBER:return 10;case o.MODE_ALPHA_NUM:return 9;case o.MODE_8BIT_BYTE:return 8;case o.MODE_KANJI:return 8;default:throw new Error("mode:"+m)}else if(b<27)switch(m){case o.MODE_NUMBER:return 12;case o.MODE_ALPHA_NUM:return 11;case o.MODE_8BIT_BYTE:return 16;case o.MODE_KANJI:return 10;default:throw new Error("mode:"+m)}else if(b<41)switch(m){case o.MODE_NUMBER:return 14;case o.MODE_ALPHA_NUM:return 13;case o.MODE_8BIT_BYTE:return 16;case o.MODE_KANJI:return 12;default:throw new Error("mode:"+m)}else throw new Error("type:"+b)},getLostPoint:function(m){for(var b=m.getModuleCount(),E=0,S=0;S<b;S++)for(var v=0;v<b;v++){for(var T=0,R=m.isDark(S,v),L=-1;L<=1;L++)if(!(S+L<0||b<=S+L))for(var j=-1;j<=1;j++)v+j<0||b<=v+j||L==0&&j==0||R==m.isDark(S+L,v+j)&&T++;T>5&&(E+=3+T-5)}for(var S=0;S<b-1;S++)for(var v=0;v<b-1;v++){var H=0;m.isDark(S,v)&&H++,m.isDark(S+1,v)&&H++,m.isDark(S,v+1)&&H++,m.isDark(S+1,v+1)&&H++,(H==0||H==4)&&(E+=3)}for(var S=0;S<b;S++)for(var v=0;v<b-6;v++)m.isDark(S,v)&&!m.isDark(S,v+1)&&m.isDark(S,v+2)&&m.isDark(S,v+3)&&m.isDark(S,v+4)&&!m.isDark(S,v+5)&&m.isDark(S,v+6)&&(E+=40);for(var v=0;v<b;v++)for(var S=0;S<b-6;S++)m.isDark(S,v)&&!m.isDark(S+1,v)&&m.isDark(S+2,v)&&m.isDark(S+3,v)&&m.isDark(S+4,v)&&!m.isDark(S+5,v)&&m.isDark(S+6,v)&&(E+=40);for(var G=0,v=0;v<b;v++)for(var S=0;S<b;S++)m.isDark(S,v)&&G++;var le=Math.abs(100*G/b/b-50)/5;return E+=le*10,E}};return hf=p,hf}var ff,Sg;function _w(){if(Sg)return ff;Sg=1;var o=bw(),r=Aw(),l=Ew(),f=Sw(),p=m2();function m(E,S){this.typeNumber=E,this.errorCorrectLevel=S,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var b=m.prototype;return b.addData=function(E){var S=new o(E);this.dataList.push(S),this.dataCache=null},b.isDark=function(E,S){if(E<0||this.moduleCount<=E||S<0||this.moduleCount<=S)throw new Error(E+","+S);return this.modules[E][S]},b.getModuleCount=function(){return this.moduleCount},b.make=function(){if(this.typeNumber<1){var E=1;for(E=1;E<40;E++){for(var S=r.getRSBlocks(E,this.errorCorrectLevel),v=new l,T=0,R=0;R<S.length;R++)T+=S[R].dataCount;for(var R=0;R<this.dataList.length;R++){var L=this.dataList[R];v.put(L.mode,4),v.put(L.getLength(),f.getLengthInBits(L.mode,E)),L.write(v)}if(v.getLengthInBits()<=T*8)break}this.typeNumber=E}this.makeImpl(!1,this.getBestMaskPattern())},b.makeImpl=function(E,S){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var v=0;v<this.moduleCount;v++){this.modules[v]=new Array(this.moduleCount);for(var T=0;T<this.moduleCount;T++)this.modules[v][T]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(E,S),this.typeNumber>=7&&this.setupTypeNumber(E),this.dataCache==null&&(this.dataCache=m.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,S)},b.setupPositionProbePattern=function(E,S){for(var v=-1;v<=7;v++)if(!(E+v<=-1||this.moduleCount<=E+v))for(var T=-1;T<=7;T++)S+T<=-1||this.moduleCount<=S+T||(0<=v&&v<=6&&(T==0||T==6)||0<=T&&T<=6&&(v==0||v==6)||2<=v&&v<=4&&2<=T&&T<=4?this.modules[E+v][S+T]=!0:this.modules[E+v][S+T]=!1)},b.getBestMaskPattern=function(){for(var E=0,S=0,v=0;v<8;v++){this.makeImpl(!0,v);var T=f.getLostPoint(this);(v==0||E>T)&&(E=T,S=v)}return S},b.createMovieClip=function(E,S,v){var T=E.createEmptyMovieClip(S,v),R=1;this.make();for(var L=0;L<this.modules.length;L++)for(var j=L*R,H=0;H<this.modules[L].length;H++){var G=H*R,le=this.modules[L][H];le&&(T.beginFill(0,100),T.moveTo(G,j),T.lineTo(G+R,j),T.lineTo(G+R,j+R),T.lineTo(G,j+R),T.endFill())}return T},b.setupTimingPattern=function(){for(var E=8;E<this.moduleCount-8;E++)this.modules[E][6]==null&&(this.modules[E][6]=E%2==0);for(var S=8;S<this.moduleCount-8;S++)this.modules[6][S]==null&&(this.modules[6][S]=S%2==0)},b.setupPositionAdjustPattern=function(){for(var E=f.getPatternPosition(this.typeNumber),S=0;S<E.length;S++)for(var v=0;v<E.length;v++){var T=E[S],R=E[v];if(this.modules[T][R]==null)for(var L=-2;L<=2;L++)for(var j=-2;j<=2;j++)L==-2||L==2||j==-2||j==2||L==0&&j==0?this.modules[T+L][R+j]=!0:this.modules[T+L][R+j]=!1}},b.setupTypeNumber=function(E){for(var S=f.getBCHTypeNumber(this.typeNumber),v=0;v<18;v++){var T=!E&&(S>>v&1)==1;this.modules[Math.floor(v/3)][v%3+this.moduleCount-8-3]=T}for(var v=0;v<18;v++){var T=!E&&(S>>v&1)==1;this.modules[v%3+this.moduleCount-8-3][Math.floor(v/3)]=T}},b.setupTypeInfo=function(E,S){for(var v=this.errorCorrectLevel<<3|S,T=f.getBCHTypeInfo(v),R=0;R<15;R++){var L=!E&&(T>>R&1)==1;R<6?this.modules[R][8]=L:R<8?this.modules[R+1][8]=L:this.modules[this.moduleCount-15+R][8]=L}for(var R=0;R<15;R++){var L=!E&&(T>>R&1)==1;R<8?this.modules[8][this.moduleCount-R-1]=L:R<9?this.modules[8][15-R-1+1]=L:this.modules[8][15-R-1]=L}this.modules[this.moduleCount-8][8]=!E},b.mapData=function(E,S){for(var v=-1,T=this.moduleCount-1,R=7,L=0,j=this.moduleCount-1;j>0;j-=2)for(j==6&&j--;;){for(var H=0;H<2;H++)if(this.modules[T][j-H]==null){var G=!1;L<E.length&&(G=(E[L]>>>R&1)==1);var le=f.getMask(S,T,j-H);le&&(G=!G),this.modules[T][j-H]=G,R--,R==-1&&(L++,R=7)}if(T+=v,T<0||this.moduleCount<=T){T-=v,v=-v;break}}},m.PAD0=236,m.PAD1=17,m.createData=function(E,S,v){for(var T=r.getRSBlocks(E,S),R=new l,L=0;L<v.length;L++){var j=v[L];R.put(j.mode,4),R.put(j.getLength(),f.getLengthInBits(j.mode,E)),j.write(R)}for(var H=0,L=0;L<T.length;L++)H+=T[L].dataCount;if(R.getLengthInBits()>H*8)throw new Error("code length overflow. ("+R.getLengthInBits()+">"+H*8+")");for(R.getLengthInBits()+4<=H*8&&R.put(0,4);R.getLengthInBits()%8!=0;)R.putBit(!1);for(;!(R.getLengthInBits()>=H*8||(R.put(m.PAD0,8),R.getLengthInBits()>=H*8));)R.put(m.PAD1,8);return m.createBytes(R,T)},m.createBytes=function(E,S){for(var v=0,T=0,R=0,L=new Array(S.length),j=new Array(S.length),H=0;H<S.length;H++){var G=S[H].dataCount,le=S[H].totalCount-G;T=Math.max(T,G),R=Math.max(R,le),L[H]=new Array(G);for(var W=0;W<L[H].length;W++)L[H][W]=255&E.buffer[W+v];v+=G;var ae=f.getErrorCorrectPolynomial(le),J=new p(L[H],ae.getLength()-1),$=J.mod(ae);j[H]=new Array(ae.getLength()-1);for(var W=0;W<j[H].length;W++){var Re=W+$.getLength()-j[H].length;j[H][W]=Re>=0?$.get(Re):0}}for(var ve=0,W=0;W<S.length;W++)ve+=S[W].totalCount;for(var K=new Array(ve),Se=0,W=0;W<T;W++)for(var H=0;H<S.length;H++)W<L[H].length&&(K[Se++]=L[H][W]);for(var W=0;W<R;W++)for(var H=0;H<S.length;H++)W<j[H].length&&(K[Se++]=j[H][W]);return K},ff=m,ff}var Lc={},_g;function Cw(){if(_g)return Lc;_g=1,Object.defineProperty(Lc,"__esModule",{value:!0});var o=Object.assign||function(v){for(var T=1;T<arguments.length;T++){var R=arguments[T];for(var L in R)Object.prototype.hasOwnProperty.call(R,L)&&(v[L]=R[L])}return v},r=h2(),l=m(r),f=lo(),p=m(f);function m(v){return v&&v.__esModule?v:{default:v}}function b(v,T){var R={};for(var L in v)T.indexOf(L)>=0||Object.prototype.hasOwnProperty.call(v,L)&&(R[L]=v[L]);return R}var E={bgColor:l.default.oneOfType([l.default.object,l.default.string]).isRequired,bgD:l.default.string.isRequired,fgColor:l.default.oneOfType([l.default.object,l.default.string]).isRequired,fgD:l.default.string.isRequired,size:l.default.number.isRequired,title:l.default.string,viewBoxSize:l.default.number.isRequired,xmlns:l.default.string},S=(0,f.forwardRef)(function(v,T){var R=v.bgColor,L=v.bgD,j=v.fgD,H=v.fgColor,G=v.size,le=v.title,W=v.viewBoxSize,ae=v.xmlns,J=ae===void 0?"http://www.w3.org/2000/svg":ae,$=b(v,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return p.default.createElement("svg",o({},$,{height:G,ref:T,viewBox:"0 0 "+W+" "+W,width:G,xmlns:J}),le?p.default.createElement("title",null,le):null,p.default.createElement("path",{d:L,fill:R}),p.default.createElement("path",{d:j,fill:H}))});return S.displayName="QRCodeSvg",S.propTypes=E,Lc.default=S,Lc}var Cg;function Tw(){if(Cg)return qs;Cg=1,Object.defineProperty(qs,"__esModule",{value:!0}),qs.QRCode=void 0;var o=Object.assign||function(G){for(var le=1;le<arguments.length;le++){var W=arguments[le];for(var ae in W)Object.prototype.hasOwnProperty.call(W,ae)&&(G[ae]=W[ae])}return G},r=h2(),l=R(r),f=f2(),p=R(f),m=_w(),b=R(m),E=lo(),S=R(E),v=Cw(),T=R(v);function R(G){return G&&G.__esModule?G:{default:G}}function L(G,le){var W={};for(var ae in G)le.indexOf(ae)>=0||Object.prototype.hasOwnProperty.call(G,ae)&&(W[ae]=G[ae]);return W}var j={bgColor:l.default.oneOfType([l.default.object,l.default.string]),fgColor:l.default.oneOfType([l.default.object,l.default.string]),level:l.default.string,size:l.default.number,value:l.default.string.isRequired},H=(0,E.forwardRef)(function(G,le){var W=G.bgColor,ae=W===void 0?"#FFFFFF":W,J=G.fgColor,$=J===void 0?"#000000":J,Re=G.level,ve=Re===void 0?"L":Re,K=G.size,Se=K===void 0?256:K,he=G.value,wn=L(G,["bgColor","fgColor","level","size","value"]),Ue=new b.default(-1,p.default[ve]);Ue.addData(he),Ue.make();var Ee=Ue.modules;return S.default.createElement(T.default,o({},wn,{bgColor:ae,bgD:Ee.map(function(Be,Ye){return Be.map(function(te,ne){return te?"":"M "+ne+" "+Ye+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:$,fgD:Ee.map(function(Be,Ye){return Be.map(function(te,ne){return te?"M "+ne+" "+Ye+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:le,size:Se,viewBoxSize:Ee.length}))});return qs.QRCode=H,H.displayName="QRCode",H.propTypes=j,qs.default=H,qs}var Nw=Tw();const Ow=Pm(Nw);var Ce;(function(o){o[o.QR_CODE=0]="QR_CODE",o[o.AZTEC=1]="AZTEC",o[o.CODABAR=2]="CODABAR",o[o.CODE_39=3]="CODE_39",o[o.CODE_93=4]="CODE_93",o[o.CODE_128=5]="CODE_128",o[o.DATA_MATRIX=6]="DATA_MATRIX",o[o.MAXICODE=7]="MAXICODE",o[o.ITF=8]="ITF",o[o.EAN_13=9]="EAN_13",o[o.EAN_8=10]="EAN_8",o[o.PDF_417=11]="PDF_417",o[o.RSS_14=12]="RSS_14",o[o.RSS_EXPANDED=13]="RSS_EXPANDED",o[o.UPC_A=14]="UPC_A",o[o.UPC_E=15]="UPC_E",o[o.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Ce||(Ce={}));var Tg=new Map([[Ce.QR_CODE,"QR_CODE"],[Ce.AZTEC,"AZTEC"],[Ce.CODABAR,"CODABAR"],[Ce.CODE_39,"CODE_39"],[Ce.CODE_93,"CODE_93"],[Ce.CODE_128,"CODE_128"],[Ce.DATA_MATRIX,"DATA_MATRIX"],[Ce.MAXICODE,"MAXICODE"],[Ce.ITF,"ITF"],[Ce.EAN_13,"EAN_13"],[Ce.EAN_8,"EAN_8"],[Ce.PDF_417,"PDF_417"],[Ce.RSS_14,"RSS_14"],[Ce.RSS_EXPANDED,"RSS_EXPANDED"],[Ce.UPC_A,"UPC_A"],[Ce.UPC_E,"UPC_E"],[Ce.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),Ng;(function(o){o[o.UNKNOWN=0]="UNKNOWN",o[o.URL=1]="URL"})(Ng||(Ng={}));function Iw(o){return Object.values(Ce).includes(o)}var Ea;(function(o){o[o.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",o[o.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Ea||(Ea={}));var Zi=(function(){function o(){}return o.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",o.SCAN_DEFAULT_FPS=2,o.DEFAULT_DISABLE_FLIP=!1,o.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,o.DEFAULT_SUPPORTED_SCAN_TYPE=[Ea.SCAN_TYPE_CAMERA,Ea.SCAN_TYPE_FILE],o})(),p2=(function(){function o(r,l){this.format=r,this.formatName=l}return o.prototype.toString=function(){return this.formatName},o.create=function(r){if(!Tg.has(r))throw"".concat(r," not in html5QrcodeSupportedFormatsTextMap");return new o(r,Tg.get(r))},o})(),Og=(function(){function o(){}return o.createFromText=function(r){var l={text:r};return{decodedText:r,result:l}},o.createFromQrcodeResult=function(r){return{decodedText:r.text,result:r}},o})(),Ef;(function(o){o[o.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",o[o.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",o[o.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Ef||(Ef={}));var y2=(function(){function o(){}return o.createFrom=function(r){return{errorMessage:r,type:Ef.UNKWOWN_ERROR}},o})(),x2=(function(){function o(r){this.verbose=r}return o.prototype.log=function(r){this.verbose&&console.log(r)},o.prototype.warn=function(r){this.verbose&&console.warn(r)},o.prototype.logError=function(r,l){(this.verbose||l===!0)&&console.error(r)},o.prototype.logErrors=function(r){if(r.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(r)},o})();function cr(o){return typeof o>"u"||o===null}function Rw(o,r,l){return o>l?l:o<r?r:o}var Ks=(function(){function o(){}return o.codeParseError=function(r){return"QR code parse error, error = ".concat(r)},o.errorGettingUserMedia=function(r){return"Error getting userMedia, error = ".concat(r)},o.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},o.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},o.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},o.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},o.scannerPaused=function(){return"Scanner paused"},o})(),It=(function(){function o(){}return o.scanningStatus=function(){return"Scanning"},o.idleStatus=function(){return"Idle"},o.errorStatus=function(){return"Error"},o.permissionStatus=function(){return"Permission"},o.noCameraFoundErrorStatus=function(){return"No Cameras"},o.lastMatch=function(r){return"Last Match: ".concat(r)},o.codeScannerTitle=function(){return"Code Scanner"},o.cameraPermissionTitle=function(){return"Request Camera Permissions"},o.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},o.noCameraFound=function(){return"No camera found"},o.scanButtonStopScanningText=function(){return"Stop Scanning"},o.scanButtonStartScanningText=function(){return"Start Scanning"},o.torchOnButton=function(){return"Switch On Torch"},o.torchOffButton=function(){return"Switch Off Torch"},o.torchOnFailedMessage=function(){return"Failed to turn on torch"},o.torchOffFailedMessage=function(){return"Failed to turn off torch"},o.scanButtonScanningStarting=function(){return"Launching Camera..."},o.textIfCameraScanSelected=function(){return"Scan an Image File"},o.textIfFileScanSelected=function(){return"Scan using camera directly"},o.selectCamera=function(){return"Select Camera"},o.fileSelectionChooseImage=function(){return"Choose Image"},o.fileSelectionChooseAnother=function(){return"Choose Another"},o.fileSelectionNoImageSelected=function(){return"No image choosen"},o.anonymousCameraPrefix=function(){return"Anonymous Camera"},o.dragAndDropMessage=function(){return"Or drop an image to scan"},o.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},o.zoom=function(){return"zoom"},o.loadingImage=function(){return"Loading image..."},o.cameraScanAltText=function(){return"Camera based scan"},o.fileScanAltText=function(){return"Fule based scan"},o})(),Ig=(function(){function o(){}return o.poweredBy=function(){return"Powered by "},o.reportIssues=function(){return"Report issues"},o})(),w2=(function(){function o(){}return o.isMediaStreamConstraintsValid=function(r,l){if(typeof r!="object"){var f=typeof r;return l.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(f,"."),!0),!1}for(var p=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],m=new Set(p),b=Object.keys(r),E=0,S=b;E<S.length;E++){var v=S[E];if(m.has(v))return l.logError("".concat(v," is not supported videoConstaints."),!0),!1}return!0},o})(),Kl={exports:{}},Dw=Kl.exports,Rg;function Mw(){return Rg||(Rg=1,(function(o,r){(function(l,f){f(r)})(Dw,(function(l){function f(N){return N==null}var p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(N,t){N.__proto__=t}||function(N,t){for(var i in t)t.hasOwnProperty(i)&&(N[i]=t[i])};function m(N,t){p(N,t);function i(){this.constructor=N}N.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}function b(N,t){var i=Object.setPrototypeOf;i?i(N,t):N.__proto__=t}function E(N,t){t===void 0&&(t=N.constructor);var i=Error.captureStackTrace;i&&i(N,t)}var S=(function(N){m(t,N);function t(i){var a=this.constructor,c=N.call(this,i)||this;return Object.defineProperty(c,"name",{value:a.name,enumerable:!1}),b(c,a.prototype),E(c),c}return t})(Error);class v extends S{constructor(t=void 0){super(t),this.message=t}getKind(){return this.constructor.kind}}v.kind="Exception";class T extends v{}T.kind="ArgumentException";class R extends v{}R.kind="IllegalArgumentException";class L{constructor(t){if(this.binarizer=t,t===null)throw new R("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(t,i){return this.binarizer.getBlackRow(t,i)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(t,i,a,c){const u=this.binarizer.getLuminanceSource().crop(t,i,a,c);return new L(this.binarizer.createBinarizer(u))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new L(this.binarizer.createBinarizer(t))}rotateCounterClockwise45(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new L(this.binarizer.createBinarizer(t))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class j extends v{static getChecksumInstance(){return new j}}j.kind="ChecksumException";class H{constructor(t){this.source=t}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class G{static arraycopy(t,i,a,c,u){for(;u--;)a[c++]=t[i++]}static currentTimeMillis(){return Date.now()}}class le extends v{}le.kind="IndexOutOfBoundsException";class W extends le{constructor(t=void 0,i=void 0){super(i),this.index=t,this.message=i}}W.kind="ArrayIndexOutOfBoundsException";class ae{static fill(t,i){for(let a=0,c=t.length;a<c;a++)t[a]=i}static fillWithin(t,i,a,c){ae.rangeCheck(t.length,i,a);for(let u=i;u<a;u++)t[u]=c}static rangeCheck(t,i,a){if(i>a)throw new R("fromIndex("+i+") > toIndex("+a+")");if(i<0)throw new W(i);if(a>t)throw new W(a)}static asList(...t){return t}static create(t,i,a){return Array.from({length:t}).map(u=>Array.from({length:i}).fill(a))}static createInt32Array(t,i,a){return Array.from({length:t}).map(u=>Int32Array.from({length:i}).fill(a))}static equals(t,i){if(!t||!i||!t.length||!i.length||t.length!==i.length)return!1;for(let a=0,c=t.length;a<c;a++)if(t[a]!==i[a])return!1;return!0}static hashCode(t){if(t===null)return 0;let i=1;for(const a of t)i=31*i+a;return i}static fillUint8Array(t,i){for(let a=0;a!==t.length;a++)t[a]=i}static copyOf(t,i){return t.slice(0,i)}static copyOfUint8Array(t,i){if(t.length<=i){const a=new Uint8Array(i);return a.set(t),a}return t.slice(0,i)}static copyOfRange(t,i,a){const c=a-i,u=new Int32Array(c);return G.arraycopy(t,i,u,0,c),u}static binarySearch(t,i,a){a===void 0&&(a=ae.numberComparator);let c=0,u=t.length-1;for(;c<=u;){const d=u+c>>1,g=a(i,t[d]);if(g>0)c=d+1;else if(g<0)u=d-1;else return d}return-c-1}static numberComparator(t,i){return t-i}}class J{static numberOfTrailingZeros(t){let i;if(t===0)return 32;let a=31;return i=t<<16,i!==0&&(a-=16,t=i),i=t<<8,i!==0&&(a-=8,t=i),i=t<<4,i!==0&&(a-=4,t=i),i=t<<2,i!==0&&(a-=2,t=i),a-(t<<1>>>31)}static numberOfLeadingZeros(t){if(t===0)return 32;let i=1;return t>>>16||(i+=16,t<<=16),t>>>24||(i+=8,t<<=8),t>>>28||(i+=4,t<<=4),t>>>30||(i+=2,t<<=2),i-=t>>>31,i}static toHexString(t){return t.toString(16)}static toBinaryString(t){return String(parseInt(String(t),2))}static bitCount(t){return t=t-(t>>>1&1431655765),t=(t&858993459)+(t>>>2&858993459),t=t+(t>>>4)&252645135,t=t+(t>>>8),t=t+(t>>>16),t&63}static truncDivision(t,i){return Math.trunc(t/i)}static parseInt(t,i=void 0){return parseInt(t,i)}}J.MIN_VALUE_32_BITS=-2147483648,J.MAX_VALUE=Number.MAX_SAFE_INTEGER;class ${constructor(t,i){t===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=t,i==null?this.bits=$.makeArray(t):this.bits=i)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(t){if(t>this.bits.length*32){const i=$.makeArray(t);G.arraycopy(this.bits,0,i,0,this.bits.length),this.bits=i}}get(t){return(this.bits[Math.floor(t/32)]&1<<(t&31))!==0}set(t){this.bits[Math.floor(t/32)]|=1<<(t&31)}flip(t){this.bits[Math.floor(t/32)]^=1<<(t&31)}getNextSet(t){const i=this.size;if(t>=i)return i;const a=this.bits;let c=Math.floor(t/32),u=a[c];u&=~((1<<(t&31))-1);const d=a.length;for(;u===0;){if(++c===d)return i;u=a[c]}const g=c*32+J.numberOfTrailingZeros(u);return g>i?i:g}getNextUnset(t){const i=this.size;if(t>=i)return i;const a=this.bits;let c=Math.floor(t/32),u=~a[c];u&=~((1<<(t&31))-1);const d=a.length;for(;u===0;){if(++c===d)return i;u=~a[c]}const g=c*32+J.numberOfTrailingZeros(u);return g>i?i:g}setBulk(t,i){this.bits[Math.floor(t/32)]=i}setRange(t,i){if(i<t||t<0||i>this.size)throw new R;if(i===t)return;i--;const a=Math.floor(t/32),c=Math.floor(i/32),u=this.bits;for(let d=a;d<=c;d++){const g=d>a?0:t&31,A=(2<<(d<c?31:i&31))-(1<<g);u[d]|=A}}clear(){const t=this.bits.length,i=this.bits;for(let a=0;a<t;a++)i[a]=0}isRange(t,i,a){if(i<t||t<0||i>this.size)throw new R;if(i===t)return!0;i--;const c=Math.floor(t/32),u=Math.floor(i/32),d=this.bits;for(let g=c;g<=u;g++){const x=g>c?0:t&31,_=(2<<(g<u?31:i&31))-(1<<x)&4294967295;if((d[g]&_)!==(a?_:0))return!1}return!0}appendBit(t){this.ensureCapacity(this.size+1),t&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(t,i){if(i<0||i>32)throw new R("Num bits must be between 0 and 32");this.ensureCapacity(this.size+i);for(let a=i;a>0;a--)this.appendBit((t>>a-1&1)===1)}appendBitArray(t){const i=t.size;this.ensureCapacity(this.size+i);for(let a=0;a<i;a++)this.appendBit(t.get(a))}xor(t){if(this.size!==t.size)throw new R("Sizes don't match");const i=this.bits;for(let a=0,c=i.length;a<c;a++)i[a]^=t.bits[a]}toBytes(t,i,a,c){for(let u=0;u<c;u++){let d=0;for(let g=0;g<8;g++)this.get(t)&&(d|=1<<7-g),t++;i[a+u]=d}}getBitArray(){return this.bits}reverse(){const t=new Int32Array(this.bits.length),i=Math.floor((this.size-1)/32),a=i+1,c=this.bits;for(let u=0;u<a;u++){let d=c[u];d=d>>1&1431655765|(d&1431655765)<<1,d=d>>2&858993459|(d&858993459)<<2,d=d>>4&252645135|(d&252645135)<<4,d=d>>8&16711935|(d&16711935)<<8,d=d>>16&65535|(d&65535)<<16,t[i-u]=d}if(this.size!==a*32){const u=a*32-this.size;let d=t[0]>>>u;for(let g=1;g<a;g++){const x=t[g];d|=x<<32-u,t[g-1]=d,d=x>>>u}t[a-1]=d}this.bits=t}static makeArray(t){return new Int32Array(Math.floor((t+31)/32))}equals(t){if(!(t instanceof $))return!1;const i=t;return this.size===i.size&&ae.equals(this.bits,i.bits)}hashCode(){return 31*this.size+ae.hashCode(this.bits)}toString(){let t="";for(let i=0,a=this.size;i<a;i++)(i&7)===0&&(t+=" "),t+=this.get(i)?"X":".";return t}clone(){return new $(this.size,this.bits.slice())}}var Re;(function(N){N[N.OTHER=0]="OTHER",N[N.PURE_BARCODE=1]="PURE_BARCODE",N[N.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",N[N.TRY_HARDER=3]="TRY_HARDER",N[N.CHARACTER_SET=4]="CHARACTER_SET",N[N.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",N[N.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",N[N.ASSUME_GS1=7]="ASSUME_GS1",N[N.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",N[N.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",N[N.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(Re||(Re={}));var ve=Re;class K extends v{static getFormatInstance(){return new K}}K.kind="FormatException";var Se;(function(N){N[N.Cp437=0]="Cp437",N[N.ISO8859_1=1]="ISO8859_1",N[N.ISO8859_2=2]="ISO8859_2",N[N.ISO8859_3=3]="ISO8859_3",N[N.ISO8859_4=4]="ISO8859_4",N[N.ISO8859_5=5]="ISO8859_5",N[N.ISO8859_6=6]="ISO8859_6",N[N.ISO8859_7=7]="ISO8859_7",N[N.ISO8859_8=8]="ISO8859_8",N[N.ISO8859_9=9]="ISO8859_9",N[N.ISO8859_10=10]="ISO8859_10",N[N.ISO8859_11=11]="ISO8859_11",N[N.ISO8859_13=12]="ISO8859_13",N[N.ISO8859_14=13]="ISO8859_14",N[N.ISO8859_15=14]="ISO8859_15",N[N.ISO8859_16=15]="ISO8859_16",N[N.SJIS=16]="SJIS",N[N.Cp1250=17]="Cp1250",N[N.Cp1251=18]="Cp1251",N[N.Cp1252=19]="Cp1252",N[N.Cp1256=20]="Cp1256",N[N.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",N[N.UTF8=22]="UTF8",N[N.ASCII=23]="ASCII",N[N.Big5=24]="Big5",N[N.GB18030=25]="GB18030",N[N.EUC_KR=26]="EUC_KR"})(Se||(Se={}));class he{constructor(t,i,a,...c){this.valueIdentifier=t,this.name=a,typeof i=="number"?this.values=Int32Array.from([i]):this.values=i,this.otherEncodingNames=c,he.VALUE_IDENTIFIER_TO_ECI.set(t,this),he.NAME_TO_ECI.set(a,this);const u=this.values;for(let d=0,g=u.length;d!==g;d++){const x=u[d];he.VALUES_TO_ECI.set(x,this)}for(const d of c)he.NAME_TO_ECI.set(d,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(t){if(t<0||t>=900)throw new K("incorect value");const i=he.VALUES_TO_ECI.get(t);if(i===void 0)throw new K("incorect value");return i}static getCharacterSetECIByName(t){const i=he.NAME_TO_ECI.get(t);if(i===void 0)throw new K("incorect value");return i}equals(t){if(!(t instanceof he))return!1;const i=t;return this.getName()===i.getName()}}he.VALUE_IDENTIFIER_TO_ECI=new Map,he.VALUES_TO_ECI=new Map,he.NAME_TO_ECI=new Map,he.Cp437=new he(Se.Cp437,Int32Array.from([0,2]),"Cp437"),he.ISO8859_1=new he(Se.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),he.ISO8859_2=new he(Se.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),he.ISO8859_3=new he(Se.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),he.ISO8859_4=new he(Se.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),he.ISO8859_5=new he(Se.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),he.ISO8859_6=new he(Se.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),he.ISO8859_7=new he(Se.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),he.ISO8859_8=new he(Se.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),he.ISO8859_9=new he(Se.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),he.ISO8859_10=new he(Se.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),he.ISO8859_11=new he(Se.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),he.ISO8859_13=new he(Se.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),he.ISO8859_14=new he(Se.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),he.ISO8859_15=new he(Se.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),he.ISO8859_16=new he(Se.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),he.SJIS=new he(Se.SJIS,20,"SJIS","Shift_JIS"),he.Cp1250=new he(Se.Cp1250,21,"Cp1250","windows-1250"),he.Cp1251=new he(Se.Cp1251,22,"Cp1251","windows-1251"),he.Cp1252=new he(Se.Cp1252,23,"Cp1252","windows-1252"),he.Cp1256=new he(Se.Cp1256,24,"Cp1256","windows-1256"),he.UnicodeBigUnmarked=new he(Se.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),he.UTF8=new he(Se.UTF8,26,"UTF8","UTF-8"),he.ASCII=new he(Se.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),he.Big5=new he(Se.Big5,28,"Big5"),he.GB18030=new he(Se.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),he.EUC_KR=new he(Se.EUC_KR,30,"EUC_KR","EUC-KR");class wn extends v{}wn.kind="UnsupportedOperationException";class Ue{static decode(t,i){const a=this.encodingName(i);return this.customDecoder?this.customDecoder(t,a):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(a)?this.decodeFallback(t,a):new TextDecoder(a).decode(t)}static shouldDecodeOnFallback(t){return!Ue.isBrowser()&&t==="ISO-8859-1"}static encode(t,i){const a=this.encodingName(i);return this.customEncoder?this.customEncoder(t,a):typeof TextEncoder>"u"?this.encodeFallback(t):new TextEncoder().encode(t)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(t){return typeof t=="string"?t:t.getName()}static encodingCharacterSet(t){return t instanceof he?t:he.getCharacterSetECIByName(t)}static decodeFallback(t,i){const a=this.encodingCharacterSet(i);if(Ue.isDecodeFallbackSupported(a)){let c="";for(let u=0,d=t.length;u<d;u++){let g=t[u].toString(16);g.length<2&&(g="0"+g),c+="%"+g}return decodeURIComponent(c)}if(a.equals(he.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(t.buffer));throw new wn(`Encoding ${this.encodingName(i)} not supported by fallback.`)}static isDecodeFallbackSupported(t){return t.equals(he.UTF8)||t.equals(he.ISO8859_1)||t.equals(he.ASCII)}static encodeFallback(t){const a=btoa(unescape(encodeURIComponent(t))).split(""),c=[];for(let u=0;u<a.length;u++)c.push(a[u].charCodeAt(0));return new Uint8Array(c)}}class Ee{static castAsNonUtf8Char(t,i=null){const a=i?i.getName():this.ISO88591;return Ue.decode(new Uint8Array([t]),a)}static guessEncoding(t,i){if(i!=null&&i.get(ve.CHARACTER_SET)!==void 0)return i.get(ve.CHARACTER_SET).toString();const a=t.length;let c=!0,u=!0,d=!0,g=0,x=0,A=0,_=0,O=0,D=0,k=0,z=0,P=0,q=0,ie=0;const ye=t.length>3&&t[0]===239&&t[1]===187&&t[2]===191;for(let pe=0;pe<a&&(c||u||d);pe++){const me=t[pe]&255;d&&(g>0?(me&128)===0?d=!1:g--:(me&128)!==0&&((me&64)===0?d=!1:(g++,(me&32)===0?x++:(g++,(me&16)===0?A++:(g++,(me&8)===0?_++:d=!1))))),c&&(me>127&&me<160?c=!1:me>159&&(me<192||me===215||me===247)&&ie++),u&&(O>0?me<64||me===127||me>252?u=!1:O--:me===128||me===160||me>239?u=!1:me>160&&me<224?(D++,z=0,k++,k>P&&(P=k)):me>127?(O++,k=0,z++,z>q&&(q=z)):(k=0,z=0))}return d&&g>0&&(d=!1),u&&O>0&&(u=!1),d&&(ye||x+A+_>0)?Ee.UTF8:u&&(Ee.ASSUME_SHIFT_JIS||P>=3||q>=3)?Ee.SHIFT_JIS:c&&u?P===2&&D===2||ie*10>=a?Ee.SHIFT_JIS:Ee.ISO88591:c?Ee.ISO88591:u?Ee.SHIFT_JIS:d?Ee.UTF8:Ee.PLATFORM_DEFAULT_ENCODING}static format(t,...i){let a=-1;function c(d,g,x,A,_,O){if(d==="%%")return"%";if(i[++a]===void 0)return;d=A?parseInt(A.substr(1)):void 0;let D=_?parseInt(_.substr(1)):void 0,k;switch(O){case"s":k=i[a];break;case"c":k=i[a][0];break;case"f":k=parseFloat(i[a]).toFixed(d);break;case"p":k=parseFloat(i[a]).toPrecision(d);break;case"e":k=parseFloat(i[a]).toExponential(d);break;case"x":k=parseInt(i[a]).toString(D||16);break;case"d":k=parseFloat(parseInt(i[a],D||10).toPrecision(d)).toFixed(0);break}k=typeof k=="object"?JSON.stringify(k):(+k).toString(D);let z=parseInt(x),P=x&&x[0]+""=="0"?"0":" ";for(;k.length<z;)k=g!==void 0?k+P:P+k;return k}let u=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(u,c)}static getBytes(t,i){return Ue.encode(t,i)}static getCharCode(t,i=0){return t.charCodeAt(i)}static getCharAt(t){return String.fromCharCode(t)}}Ee.SHIFT_JIS=he.SJIS.getName(),Ee.GB2312="GB2312",Ee.ISO88591=he.ISO8859_1.getName(),Ee.EUC_JP="EUC_JP",Ee.UTF8=he.UTF8.getName(),Ee.PLATFORM_DEFAULT_ENCODING=Ee.UTF8,Ee.ASSUME_SHIFT_JIS=!1;class Be{constructor(t=""){this.value=t}enableDecoding(t){return this.encoding=t,this}append(t){return typeof t=="string"?this.value+=t.toString():this.encoding?this.value+=Ee.castAsNonUtf8Char(t,this.encoding):this.value+=String.fromCharCode(t),this}appendChars(t,i,a){for(let c=i;i<i+a;c++)this.append(t[c]);return this}length(){return this.value.length}charAt(t){return this.value.charAt(t)}deleteCharAt(t){this.value=this.value.substr(0,t)+this.value.substring(t+1)}setCharAt(t,i){this.value=this.value.substr(0,t)+i+this.value.substr(t+1)}substring(t,i){return this.value.substring(t,i)}setLengthToZero(){this.value=""}toString(){return this.value}insert(t,i){this.value=this.value.substr(0,t)+i+this.value.substr(t+i.length)}}class Ye{constructor(t,i,a,c){if(this.width=t,this.height=i,this.rowSize=a,this.bits=c,i==null&&(i=t),this.height=i,t<1||i<1)throw new R("Both dimensions must be greater than 0");a==null&&(a=Math.floor((t+31)/32)),this.rowSize=a,c==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(t){const i=t.length,a=t[0].length,c=new Ye(a,i);for(let u=0;u<i;u++){const d=t[u];for(let g=0;g<a;g++)d[g]&&c.set(g,u)}return c}static parseFromString(t,i,a){if(t===null)throw new R("stringRepresentation cannot be null");const c=new Array(t.length);let u=0,d=0,g=-1,x=0,A=0;for(;A<t.length;)if(t.charAt(A)===`
`||t.charAt(A)==="\r"){if(u>d){if(g===-1)g=u-d;else if(u-d!==g)throw new R("row lengths do not match");d=u,x++}A++}else if(t.substring(A,A+i.length)===i)A+=i.length,c[u]=!0,u++;else if(t.substring(A,A+a.length)===a)A+=a.length,c[u]=!1,u++;else throw new R("illegal character encountered: "+t.substring(A));if(u>d){if(g===-1)g=u-d;else if(u-d!==g)throw new R("row lengths do not match");x++}const _=new Ye(g,x);for(let O=0;O<u;O++)c[O]&&_.set(Math.floor(O%g),Math.floor(O/g));return _}get(t,i){const a=i*this.rowSize+Math.floor(t/32);return(this.bits[a]>>>(t&31)&1)!==0}set(t,i){const a=i*this.rowSize+Math.floor(t/32);this.bits[a]|=1<<(t&31)&4294967295}unset(t,i){const a=i*this.rowSize+Math.floor(t/32);this.bits[a]&=~(1<<(t&31)&4294967295)}flip(t,i){const a=i*this.rowSize+Math.floor(t/32);this.bits[a]^=1<<(t&31)&4294967295}xor(t){if(this.width!==t.getWidth()||this.height!==t.getHeight()||this.rowSize!==t.getRowSize())throw new R("input matrix dimensions do not match");const i=new $(Math.floor(this.width/32)+1),a=this.rowSize,c=this.bits;for(let u=0,d=this.height;u<d;u++){const g=u*a,x=t.getRow(u,i).getBitArray();for(let A=0;A<a;A++)c[g+A]^=x[A]}}clear(){const t=this.bits,i=t.length;for(let a=0;a<i;a++)t[a]=0}setRegion(t,i,a,c){if(i<0||t<0)throw new R("Left and top must be nonnegative");if(c<1||a<1)throw new R("Height and width must be at least 1");const u=t+a,d=i+c;if(d>this.height||u>this.width)throw new R("The region must fit inside the matrix");const g=this.rowSize,x=this.bits;for(let A=i;A<d;A++){const _=A*g;for(let O=t;O<u;O++)x[_+Math.floor(O/32)]|=1<<(O&31)&4294967295}}getRow(t,i){i==null||i.getSize()<this.width?i=new $(this.width):i.clear();const a=this.rowSize,c=this.bits,u=t*a;for(let d=0;d<a;d++)i.setBulk(d*32,c[u+d]);return i}setRow(t,i){G.arraycopy(i.getBitArray(),0,this.bits,t*this.rowSize,this.rowSize)}rotate180(){const t=this.getWidth(),i=this.getHeight();let a=new $(t),c=new $(t);for(let u=0,d=Math.floor((i+1)/2);u<d;u++)a=this.getRow(u,a),c=this.getRow(i-1-u,c),a.reverse(),c.reverse(),this.setRow(u,c),this.setRow(i-1-u,a)}getEnclosingRectangle(){const t=this.width,i=this.height,a=this.rowSize,c=this.bits;let u=t,d=i,g=-1,x=-1;for(let A=0;A<i;A++)for(let _=0;_<a;_++){const O=c[A*a+_];if(O!==0){if(A<d&&(d=A),A>x&&(x=A),_*32<u){let D=0;for(;(O<<31-D&4294967295)===0;)D++;_*32+D<u&&(u=_*32+D)}if(_*32+31>g){let D=31;for(;!(O>>>D);)D--;_*32+D>g&&(g=_*32+D)}}}return g<u||x<d?null:Int32Array.from([u,d,g-u+1,x-d+1])}getTopLeftOnBit(){const t=this.rowSize,i=this.bits;let a=0;for(;a<i.length&&i[a]===0;)a++;if(a===i.length)return null;const c=a/t;let u=a%t*32;const d=i[a];let g=0;for(;(d<<31-g&4294967295)===0;)g++;return u+=g,Int32Array.from([u,c])}getBottomRightOnBit(){const t=this.rowSize,i=this.bits;let a=i.length-1;for(;a>=0&&i[a]===0;)a--;if(a<0)return null;const c=Math.floor(a/t);let u=Math.floor(a%t)*32;const d=i[a];let g=31;for(;!(d>>>g);)g--;return u+=g,Int32Array.from([u,c])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(t){if(!(t instanceof Ye))return!1;const i=t;return this.width===i.width&&this.height===i.height&&this.rowSize===i.rowSize&&ae.equals(this.bits,i.bits)}hashCode(){let t=this.width;return t=31*t+this.width,t=31*t+this.height,t=31*t+this.rowSize,t=31*t+ae.hashCode(this.bits),t}toString(t="X ",i="  ",a=`
`){return this.buildToString(t,i,a)}buildToString(t,i,a){let c=new Be;for(let u=0,d=this.height;u<d;u++){for(let g=0,x=this.width;g<x;g++)c.append(this.get(g,u)?t:i);c.append(a)}return c.toString()}clone(){return new Ye(this.width,this.height,this.rowSize,this.bits.slice())}}class te extends v{static getNotFoundInstance(){return new te}}te.kind="NotFoundException";class ne extends H{constructor(t){super(t),this.luminances=ne.EMPTY,this.buckets=new Int32Array(ne.LUMINANCE_BUCKETS)}getBlackRow(t,i){const a=this.getLuminanceSource(),c=a.getWidth();i==null||i.getSize()<c?i=new $(c):i.clear(),this.initArrays(c);const u=a.getRow(t,this.luminances),d=this.buckets;for(let x=0;x<c;x++)d[(u[x]&255)>>ne.LUMINANCE_SHIFT]++;const g=ne.estimateBlackPoint(d);if(c<3)for(let x=0;x<c;x++)(u[x]&255)<g&&i.set(x);else{let x=u[0]&255,A=u[1]&255;for(let _=1;_<c-1;_++){const O=u[_+1]&255;(A*4-x-O)/2<g&&i.set(_),x=A,A=O}}return i}getBlackMatrix(){const t=this.getLuminanceSource(),i=t.getWidth(),a=t.getHeight(),c=new Ye(i,a);this.initArrays(i);const u=this.buckets;for(let x=1;x<5;x++){const A=Math.floor(a*x/5),_=t.getRow(A,this.luminances),O=Math.floor(i*4/5);for(let D=Math.floor(i/5);D<O;D++){const k=_[D]&255;u[k>>ne.LUMINANCE_SHIFT]++}}const d=ne.estimateBlackPoint(u),g=t.getMatrix();for(let x=0;x<a;x++){const A=x*i;for(let _=0;_<i;_++)(g[A+_]&255)<d&&c.set(_,x)}return c}createBinarizer(t){return new ne(t)}initArrays(t){this.luminances.length<t&&(this.luminances=new Uint8ClampedArray(t));const i=this.buckets;for(let a=0;a<ne.LUMINANCE_BUCKETS;a++)i[a]=0}static estimateBlackPoint(t){const i=t.length;let a=0,c=0,u=0;for(let _=0;_<i;_++)t[_]>u&&(c=_,u=t[_]),t[_]>a&&(a=t[_]);let d=0,g=0;for(let _=0;_<i;_++){const O=_-c,D=t[_]*O*O;D>g&&(d=_,g=D)}if(c>d){const _=c;c=d,d=_}if(d-c<=i/16)throw new te;let x=d-1,A=-1;for(let _=d-1;_>c;_--){const O=_-c,D=O*O*(d-_)*(a-t[_]);D>A&&(x=_,A=D)}return x<<ne.LUMINANCE_SHIFT}}ne.LUMINANCE_BITS=5,ne.LUMINANCE_SHIFT=8-ne.LUMINANCE_BITS,ne.LUMINANCE_BUCKETS=1<<ne.LUMINANCE_BITS,ne.EMPTY=Uint8ClampedArray.from([0]);class fe extends ne{constructor(t){super(t),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const t=this.getLuminanceSource(),i=t.getWidth(),a=t.getHeight();if(i>=fe.MINIMUM_DIMENSION&&a>=fe.MINIMUM_DIMENSION){const c=t.getMatrix();let u=i>>fe.BLOCK_SIZE_POWER;(i&fe.BLOCK_SIZE_MASK)!==0&&u++;let d=a>>fe.BLOCK_SIZE_POWER;(a&fe.BLOCK_SIZE_MASK)!==0&&d++;const g=fe.calculateBlackPoints(c,u,d,i,a),x=new Ye(i,a);fe.calculateThresholdForBlock(c,u,d,i,a,g,x),this.matrix=x}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(t){return new fe(t)}static calculateThresholdForBlock(t,i,a,c,u,d,g){const x=u-fe.BLOCK_SIZE,A=c-fe.BLOCK_SIZE;for(let _=0;_<a;_++){let O=_<<fe.BLOCK_SIZE_POWER;O>x&&(O=x);const D=fe.cap(_,2,a-3);for(let k=0;k<i;k++){let z=k<<fe.BLOCK_SIZE_POWER;z>A&&(z=A);const P=fe.cap(k,2,i-3);let q=0;for(let ye=-2;ye<=2;ye++){const pe=d[D+ye];q+=pe[P-2]+pe[P-1]+pe[P]+pe[P+1]+pe[P+2]}const ie=q/25;fe.thresholdBlock(t,z,O,ie,c,g)}}}static cap(t,i,a){return t<i?i:t>a?a:t}static thresholdBlock(t,i,a,c,u,d){for(let g=0,x=a*u+i;g<fe.BLOCK_SIZE;g++,x+=u)for(let A=0;A<fe.BLOCK_SIZE;A++)(t[x+A]&255)<=c&&d.set(i+A,a+g)}static calculateBlackPoints(t,i,a,c,u){const d=u-fe.BLOCK_SIZE,g=c-fe.BLOCK_SIZE,x=new Array(a);for(let A=0;A<a;A++){x[A]=new Int32Array(i);let _=A<<fe.BLOCK_SIZE_POWER;_>d&&(_=d);for(let O=0;O<i;O++){let D=O<<fe.BLOCK_SIZE_POWER;D>g&&(D=g);let k=0,z=255,P=0;for(let ie=0,ye=_*c+D;ie<fe.BLOCK_SIZE;ie++,ye+=c){for(let pe=0;pe<fe.BLOCK_SIZE;pe++){const me=t[ye+pe]&255;k+=me,me<z&&(z=me),me>P&&(P=me)}if(P-z>fe.MIN_DYNAMIC_RANGE)for(ie++,ye+=c;ie<fe.BLOCK_SIZE;ie++,ye+=c)for(let pe=0;pe<fe.BLOCK_SIZE;pe++)k+=t[ye+pe]&255}let q=k>>fe.BLOCK_SIZE_POWER*2;if(P-z<=fe.MIN_DYNAMIC_RANGE&&(q=z/2,A>0&&O>0)){const ie=(x[A-1][O]+2*x[A][O-1]+x[A-1][O-1])/4;z<ie&&(q=ie)}x[A][O]=q}}return x}}fe.BLOCK_SIZE_POWER=3,fe.BLOCK_SIZE=1<<fe.BLOCK_SIZE_POWER,fe.BLOCK_SIZE_MASK=fe.BLOCK_SIZE-1,fe.MINIMUM_DIMENSION=fe.BLOCK_SIZE*5,fe.MIN_DYNAMIC_RANGE=24;class ke{constructor(t,i){this.width=t,this.height=i}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(t,i,a,c){throw new wn("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new wn("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new wn("This luminance source does not support rotation by 45 degrees.")}toString(){const t=new Uint8ClampedArray(this.width);let i=new Be;for(let a=0;a<this.height;a++){const c=this.getRow(a,t);for(let u=0;u<this.width;u++){const d=c[u]&255;let g;d<64?g="#":d<128?g="+":d<192?g=".":g=" ",i.append(g)}i.append(`
`)}return i.toString()}}class Xe extends ke{constructor(t){super(t.getWidth(),t.getHeight()),this.delegate=t}getRow(t,i){const a=this.delegate.getRow(t,i),c=this.getWidth();for(let u=0;u<c;u++)a[u]=255-(a[u]&255);return a}getMatrix(){const t=this.delegate.getMatrix(),i=this.getWidth()*this.getHeight(),a=new Uint8ClampedArray(i);for(let c=0;c<i;c++)a[c]=255-(t[c]&255);return a}isCropSupported(){return this.delegate.isCropSupported()}crop(t,i,a,c){return new Xe(this.delegate.crop(t,i,a,c))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Xe(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Xe(this.delegate.rotateCounterClockwise45())}}class Ze extends ke{constructor(t){super(t.width,t.height),this.canvas=t,this.tempCanvasElement=null,this.buffer=Ze.makeBufferFromCanvasImageData(t)}static makeBufferFromCanvasImageData(t){const i=t.getContext("2d").getImageData(0,0,t.width,t.height);return Ze.toGrayscaleBuffer(i.data,t.width,t.height)}static toGrayscaleBuffer(t,i,a){const c=new Uint8ClampedArray(i*a);for(let u=0,d=0,g=t.length;u<g;u+=4,d++){let x;if(t[u+3]===0)x=255;else{const _=t[u],O=t[u+1],D=t[u+2];x=306*_+601*O+117*D+512>>10}c[d]=x}return c}getRow(t,i){if(t<0||t>=this.getHeight())throw new R("Requested row is outside the image: "+t);const a=this.getWidth(),c=t*a;return i===null?i=this.buffer.slice(c,c+a):(i.length<a&&(i=new Uint8ClampedArray(a)),i.set(this.buffer.slice(c,c+a))),i}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(t,i,a,c){return super.crop(t,i,a,c),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const t=this.canvas.ownerDocument.createElement("canvas");t.width=this.canvas.width,t.height=this.canvas.height,this.tempCanvasElement=t}return this.tempCanvasElement}rotate(t){const i=this.getTempCanvasElement(),a=i.getContext("2d"),c=t*Ze.DEGREE_TO_RADIANS,u=this.canvas.width,d=this.canvas.height,g=Math.ceil(Math.abs(Math.cos(c))*u+Math.abs(Math.sin(c))*d),x=Math.ceil(Math.abs(Math.sin(c))*u+Math.abs(Math.cos(c))*d);return i.width=g,i.height=x,a.translate(g/2,x/2),a.rotate(c),a.drawImage(this.canvas,u/-2,d/-2),this.buffer=Ze.makeBufferFromCanvasImageData(i),this}invert(){return new Xe(this)}}Ze.DEGREE_TO_RADIANS=Math.PI/180;class V{constructor(t,i,a){this.deviceId=t,this.label=i,this.kind="videoinput",this.groupId=a||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var oe=(globalThis||Nc||self||window||void 0)&&(globalThis||Nc||self||window||void 0).__awaiter||function(N,t,i,a){function c(u){return u instanceof i?u:new i(function(d){d(u)})}return new(i||(i=Promise))(function(u,d){function g(_){try{A(a.next(_))}catch(O){d(O)}}function x(_){try{A(a.throw(_))}catch(O){d(O)}}function A(_){_.done?u(_.value):c(_.value).then(g,x)}A((a=a.apply(N,t||[])).next())})};class be{constructor(t,i=500,a){this.reader=t,this.timeBetweenScansMillis=i,this._hints=a,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(t){this._timeBetweenDecodingAttempts=t<0?0:t}set hints(t){this._hints=t||null}get hints(){return this._hints}listVideoInputDevices(){return oe(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const t=yield navigator.mediaDevices.enumerateDevices(),i=[];for(const a of t){const c=a.kind==="video"?"videoinput":a.kind;if(c!=="videoinput")continue;const u=a.deviceId||a.id,d=a.label||`Video device ${i.length+1}`,g=a.groupId,x={deviceId:u,label:d,kind:c,groupId:g};i.push(x)}return i})}getVideoInputDevices(){return oe(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(i=>new V(i.deviceId,i.label))})}findDeviceById(t){return oe(this,void 0,void 0,function*(){const i=yield this.listVideoInputDevices();return i?i.find(a=>a.deviceId===t):null})}decodeFromInputVideoDevice(t,i){return oe(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(t,i)})}decodeOnceFromVideoDevice(t,i){return oe(this,void 0,void 0,function*(){this.reset();let a;t?a={deviceId:{exact:t}}:a={facingMode:"environment"};const c={video:a};return yield this.decodeOnceFromConstraints(c,i)})}decodeOnceFromConstraints(t,i){return oe(this,void 0,void 0,function*(){const a=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeOnceFromStream(a,i)})}decodeOnceFromStream(t,i){return oe(this,void 0,void 0,function*(){this.reset();const a=yield this.attachStreamToVideo(t,i);return yield this.decodeOnce(a)})}decodeFromInputVideoDeviceContinuously(t,i,a){return oe(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(t,i,a)})}decodeFromVideoDevice(t,i,a){return oe(this,void 0,void 0,function*(){let c;t?c={deviceId:{exact:t}}:c={facingMode:"environment"};const u={video:c};return yield this.decodeFromConstraints(u,i,a)})}decodeFromConstraints(t,i,a){return oe(this,void 0,void 0,function*(){const c=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeFromStream(c,i,a)})}decodeFromStream(t,i,a){return oe(this,void 0,void 0,function*(){this.reset();const c=yield this.attachStreamToVideo(t,i);return yield this.decodeContinuously(c,a)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(t,i){return oe(this,void 0,void 0,function*(){const a=this.prepareVideoElement(i);return this.addVideoSource(a,t),this.videoElement=a,this.stream=t,yield this.playVideoOnLoadAsync(a),a})}playVideoOnLoadAsync(t){return new Promise((i,a)=>this.playVideoOnLoad(t,()=>i()))}playVideoOnLoad(t,i){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(t),t.addEventListener("ended",this.videoEndedListener),t.addEventListener("canplay",this.videoCanPlayListener),t.addEventListener("playing",i),this.tryPlayVideo(t)}isVideoPlaying(t){return t.currentTime>0&&!t.paused&&!t.ended&&t.readyState>2}tryPlayVideo(t){return oe(this,void 0,void 0,function*(){if(this.isVideoPlaying(t)){console.warn("Trying to play video that is already playing.");return}try{yield t.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(t,i){const a=document.getElementById(t);if(!a)throw new T(`element with id '${t}' not found`);if(a.nodeName.toLowerCase()!==i.toLowerCase())throw new T(`element with id '${t}' must be an ${i} element`);return a}decodeFromImage(t,i){if(!t&&!i)throw new T("either imageElement with a src set or an url must be provided");return i&&!t?this.decodeFromImageUrl(i):this.decodeFromImageElement(t)}decodeFromVideo(t,i){if(!t&&!i)throw new T("Either an element with a src set or an URL must be provided");return i&&!t?this.decodeFromVideoUrl(i):this.decodeFromVideoElement(t)}decodeFromVideoContinuously(t,i,a){if(t===void 0&&i===void 0)throw new T("Either an element with a src set or an URL must be provided");return i&&!t?this.decodeFromVideoUrlContinuously(i,a):this.decodeFromVideoElementContinuously(t,a)}decodeFromImageElement(t){if(!t)throw new T("An image element must be provided.");this.reset();const i=this.prepareImageElement(t);this.imageElement=i;let a;return this.isImageLoaded(i)?a=this.decodeOnce(i,!1,!0):a=this._decodeOnLoadImage(i),a}decodeFromVideoElement(t){const i=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideo(i)}decodeFromVideoElementContinuously(t,i){const a=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideoContinuously(a,i)}_decodeFromVideoElementSetup(t){if(!t)throw new T("A video element must be provided.");this.reset();const i=this.prepareVideoElement(t);return this.videoElement=i,i}decodeFromImageUrl(t){if(!t)throw new T("An URL must be provided.");this.reset();const i=this.prepareImageElement();this.imageElement=i;const a=this._decodeOnLoadImage(i);return i.src=t,a}decodeFromVideoUrl(t){if(!t)throw new T("An URL must be provided.");this.reset();const i=this.prepareVideoElement(),a=this.decodeFromVideoElement(i);return i.src=t,a}decodeFromVideoUrlContinuously(t,i){if(!t)throw new T("An URL must be provided.");this.reset();const a=this.prepareVideoElement(),c=this.decodeFromVideoElementContinuously(a,i);return a.src=t,c}_decodeOnLoadImage(t){return new Promise((i,a)=>{this.imageLoadedListener=()=>this.decodeOnce(t,!1,!0).then(i,a),t.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(t){return oe(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(t),yield this.decodeOnce(t)})}_decodeOnLoadVideoContinuously(t,i){return oe(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(t),this.decodeContinuously(t,i)})}isImageLoaded(t){return!(!t.complete||t.naturalWidth===0)}prepareImageElement(t){let i;return typeof t>"u"&&(i=document.createElement("img"),i.width=200,i.height=200),typeof t=="string"&&(i=this.getMediaElement(t,"img")),t instanceof HTMLImageElement&&(i=t),i}prepareVideoElement(t){let i;return!t&&typeof document<"u"&&(i=document.createElement("video"),i.width=200,i.height=200),typeof t=="string"&&(i=this.getMediaElement(t,"video")),t instanceof HTMLVideoElement&&(i=t),i.setAttribute("autoplay","true"),i.setAttribute("muted","true"),i.setAttribute("playsinline","true"),i}decodeOnce(t,i=!0,a=!0){this._stopAsyncDecode=!1;const c=(u,d)=>{if(this._stopAsyncDecode){d(new te("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const g=this.decode(t);u(g)}catch(g){const x=i&&g instanceof te,_=(g instanceof j||g instanceof K)&&a;if(x||_)return setTimeout(c,this._timeBetweenDecodingAttempts,u,d);d(g)}};return new Promise((u,d)=>c(u,d))}decodeContinuously(t,i){this._stopContinuousDecode=!1;const a=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const c=this.decode(t);i(c,null),setTimeout(a,this.timeBetweenScansMillis)}catch(c){i(null,c);const u=c instanceof j||c instanceof K,d=c instanceof te;(u||d)&&setTimeout(a,this._timeBetweenDecodingAttempts)}};a()}decode(t){const i=this.createBinaryBitmap(t);return this.decodeBitmap(i)}_isHTMLVideoElement(t){return t.videoWidth!==0}drawFrameOnCanvas(t,i,a){i||(i={sx:0,sy:0,sWidth:t.videoWidth,sHeight:t.videoHeight,dx:0,dy:0,dWidth:t.videoWidth,dHeight:t.videoHeight}),a||(a=this.captureCanvasContext),a.drawImage(t,i.sx,i.sy,i.sWidth,i.sHeight,i.dx,i.dy,i.dWidth,i.dHeight)}drawImageOnCanvas(t,i,a=this.captureCanvasContext){i||(i={sx:0,sy:0,sWidth:t.naturalWidth,sHeight:t.naturalHeight,dx:0,dy:0,dWidth:t.naturalWidth,dHeight:t.naturalHeight}),a||(a=this.captureCanvasContext),a.drawImage(t,i.sx,i.sy,i.sWidth,i.sHeight,i.dx,i.dy,i.dWidth,i.dHeight)}createBinaryBitmap(t){this.getCaptureCanvasContext(t),this._isHTMLVideoElement(t)?this.drawFrameOnCanvas(t):this.drawImageOnCanvas(t);const i=this.getCaptureCanvas(t),a=new Ze(i),c=new fe(a);return new L(c)}getCaptureCanvasContext(t){if(!this.captureCanvasContext){const a=this.getCaptureCanvas(t).getContext("2d");this.captureCanvasContext=a}return this.captureCanvasContext}getCaptureCanvas(t){if(!this.captureCanvas){const i=this.createCaptureCanvas(t);this.captureCanvas=i}return this.captureCanvas}decodeBitmap(t){return this.reader.decode(t,this._hints)}createCaptureCanvas(t){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const i=document.createElement("canvas");let a,c;return typeof t<"u"&&(t instanceof HTMLVideoElement?(a=t.videoWidth,c=t.videoHeight):t instanceof HTMLImageElement&&(a=t.naturalWidth||t.width,c=t.naturalHeight||t.height)),i.style.width=a+"px",i.style.height=c+"px",i.width=a,i.height=c,i}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(t=>t.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(t,i){try{t.srcObject=i}catch{t.src=URL.createObjectURL(i)}}cleanVideoSource(t){try{t.srcObject=null}catch{t.src=""}this.videoElement.removeAttribute("src")}}class Ae{constructor(t,i,a=i==null?0:8*i.length,c,u,d=G.currentTimeMillis()){this.text=t,this.rawBytes=i,this.numBits=a,this.resultPoints=c,this.format=u,this.timestamp=d,this.text=t,this.rawBytes=i,a==null?this.numBits=i==null?0:8*i.length:this.numBits=a,this.resultPoints=c,this.format=u,this.resultMetadata=null,d==null?this.timestamp=G.currentTimeMillis():this.timestamp=d}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(t,i){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(t,i)}putAllMetadata(t){t!==null&&(this.resultMetadata===null?this.resultMetadata=t:this.resultMetadata=new Map(t))}addResultPoints(t){const i=this.resultPoints;if(i===null)this.resultPoints=t;else if(t!==null&&t.length>0){const a=new Array(i.length+t.length);G.arraycopy(i,0,a,0,i.length),G.arraycopy(t,0,a,i.length,t.length),this.resultPoints=a}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Ve;(function(N){N[N.AZTEC=0]="AZTEC",N[N.CODABAR=1]="CODABAR",N[N.CODE_39=2]="CODE_39",N[N.CODE_93=3]="CODE_93",N[N.CODE_128=4]="CODE_128",N[N.DATA_MATRIX=5]="DATA_MATRIX",N[N.EAN_8=6]="EAN_8",N[N.EAN_13=7]="EAN_13",N[N.ITF=8]="ITF",N[N.MAXICODE=9]="MAXICODE",N[N.PDF_417=10]="PDF_417",N[N.QR_CODE=11]="QR_CODE",N[N.RSS_14=12]="RSS_14",N[N.RSS_EXPANDED=13]="RSS_EXPANDED",N[N.UPC_A=14]="UPC_A",N[N.UPC_E=15]="UPC_E",N[N.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Ve||(Ve={}));var we=Ve,ft;(function(N){N[N.OTHER=0]="OTHER",N[N.ORIENTATION=1]="ORIENTATION",N[N.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",N[N.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",N[N.ISSUE_NUMBER=4]="ISSUE_NUMBER",N[N.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",N[N.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",N[N.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",N[N.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",N[N.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",N[N.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(ft||(ft={}));var dt=ft;class kt{constructor(t,i,a,c,u=-1,d=-1){this.rawBytes=t,this.text=i,this.byteSegments=a,this.ecLevel=c,this.structuredAppendSequenceNumber=u,this.structuredAppendParity=d,this.numBits=t==null?0:8*t.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(t){this.numBits=t}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(t){this.errorsCorrected=t}getErasures(){return this.erasures}setErasures(t){this.erasures=t}getOther(){return this.other}setOther(t){this.other=t}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class ki{exp(t){return this.expTable[t]}log(t){if(t===0)throw new R;return this.logTable[t]}static addOrSubtract(t,i){return t^i}}class vn{constructor(t,i){if(i.length===0)throw new R;this.field=t;const a=i.length;if(a>1&&i[0]===0){let c=1;for(;c<a&&i[c]===0;)c++;c===a?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(a-c),G.arraycopy(i,c,this.coefficients,0,this.coefficients.length))}else this.coefficients=i}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}evaluateAt(t){if(t===0)return this.getCoefficient(0);const i=this.coefficients;let a;if(t===1){a=0;for(let d=0,g=i.length;d!==g;d++){const x=i[d];a=ki.addOrSubtract(a,x)}return a}a=i[0];const c=i.length,u=this.field;for(let d=1;d<c;d++)a=ki.addOrSubtract(u.multiply(t,a),i[d]);return a}addOrSubtract(t){if(!this.field.equals(t.field))throw new R("GenericGFPolys do not have same GenericGF field");if(this.isZero())return t;if(t.isZero())return this;let i=this.coefficients,a=t.coefficients;if(i.length>a.length){const d=i;i=a,a=d}let c=new Int32Array(a.length);const u=a.length-i.length;G.arraycopy(a,0,c,0,u);for(let d=u;d<a.length;d++)c[d]=ki.addOrSubtract(i[d-u],a[d]);return new vn(this.field,c)}multiply(t){if(!this.field.equals(t.field))throw new R("GenericGFPolys do not have same GenericGF field");if(this.isZero()||t.isZero())return this.field.getZero();const i=this.coefficients,a=i.length,c=t.coefficients,u=c.length,d=new Int32Array(a+u-1),g=this.field;for(let x=0;x<a;x++){const A=i[x];for(let _=0;_<u;_++)d[x+_]=ki.addOrSubtract(d[x+_],g.multiply(A,c[_]))}return new vn(g,d)}multiplyScalar(t){if(t===0)return this.field.getZero();if(t===1)return this;const i=this.coefficients.length,a=this.field,c=new Int32Array(i),u=this.coefficients;for(let d=0;d<i;d++)c[d]=a.multiply(u[d],t);return new vn(a,c)}multiplyByMonomial(t,i){if(t<0)throw new R;if(i===0)return this.field.getZero();const a=this.coefficients,c=a.length,u=new Int32Array(c+t),d=this.field;for(let g=0;g<c;g++)u[g]=d.multiply(a[g],i);return new vn(d,u)}divide(t){if(!this.field.equals(t.field))throw new R("GenericGFPolys do not have same GenericGF field");if(t.isZero())throw new R("Divide by 0");const i=this.field;let a=i.getZero(),c=this;const u=t.getCoefficient(t.getDegree()),d=i.inverse(u);for(;c.getDegree()>=t.getDegree()&&!c.isZero();){const g=c.getDegree()-t.getDegree(),x=i.multiply(c.getCoefficient(c.getDegree()),d),A=t.multiplyByMonomial(g,x),_=i.buildMonomial(g,x);a=a.addOrSubtract(_),c=c.addOrSubtract(A)}return[a,c]}toString(){let t="";for(let i=this.getDegree();i>=0;i--){let a=this.getCoefficient(i);if(a!==0){if(a<0?(t+=" - ",a=-a):t.length>0&&(t+=" + "),i===0||a!==1){const c=this.field.log(a);c===0?t+="1":c===1?t+="a":(t+="a^",t+=c)}i!==0&&(i===1?t+="x":(t+="x^",t+=i))}}return t}}class kr extends v{}kr.kind="ArithmeticException";class gt extends ki{constructor(t,i,a){super(),this.primitive=t,this.size=i,this.generatorBase=a;const c=new Int32Array(i);let u=1;for(let g=0;g<i;g++)c[g]=u,u*=2,u>=i&&(u^=t,u&=i-1);this.expTable=c;const d=new Int32Array(i);for(let g=0;g<i-1;g++)d[c[g]]=g;this.logTable=d,this.zero=new vn(this,Int32Array.from([0])),this.one=new vn(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(t,i){if(t<0)throw new R;if(i===0)return this.zero;const a=new Int32Array(t+1);return a[0]=i,new vn(this,a)}inverse(t){if(t===0)throw new kr;return this.expTable[this.size-this.logTable[t]-1]}multiply(t,i){return t===0||i===0?0:this.expTable[(this.logTable[t]+this.logTable[i])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+J.toHexString(this.primitive)+","+this.size+")"}equals(t){return t===this}}gt.AZTEC_DATA_12=new gt(4201,4096,1),gt.AZTEC_DATA_10=new gt(1033,1024,1),gt.AZTEC_DATA_6=new gt(67,64,1),gt.AZTEC_PARAM=new gt(19,16,1),gt.QR_CODE_FIELD_256=new gt(285,256,0),gt.DATA_MATRIX_FIELD_256=new gt(301,256,1),gt.AZTEC_DATA_8=gt.DATA_MATRIX_FIELD_256,gt.MAXICODE_FIELD_64=gt.AZTEC_DATA_6;class Xn extends v{}Xn.kind="ReedSolomonException";class Wn extends v{}Wn.kind="IllegalStateException";class ur{constructor(t){this.field=t}decode(t,i){const a=this.field,c=new vn(a,t),u=new Int32Array(i);let d=!0;for(let k=0;k<i;k++){const z=c.evaluateAt(a.exp(k+a.getGeneratorBase()));u[u.length-1-k]=z,z!==0&&(d=!1)}if(d)return;const g=new vn(a,u),x=this.runEuclideanAlgorithm(a.buildMonomial(i,1),g,i),A=x[0],_=x[1],O=this.findErrorLocations(A),D=this.findErrorMagnitudes(_,O);for(let k=0;k<O.length;k++){const z=t.length-1-a.log(O[k]);if(z<0)throw new Xn("Bad error location");t[z]=gt.addOrSubtract(t[z],D[k])}}runEuclideanAlgorithm(t,i,a){if(t.getDegree()<i.getDegree()){const k=t;t=i,i=k}const c=this.field;let u=t,d=i,g=c.getZero(),x=c.getOne();for(;d.getDegree()>=(a/2|0);){let k=u,z=g;if(u=d,g=x,u.isZero())throw new Xn("r_{i-1} was zero");d=k;let P=c.getZero();const q=u.getCoefficient(u.getDegree()),ie=c.inverse(q);for(;d.getDegree()>=u.getDegree()&&!d.isZero();){const ye=d.getDegree()-u.getDegree(),pe=c.multiply(d.getCoefficient(d.getDegree()),ie);P=P.addOrSubtract(c.buildMonomial(ye,pe)),d=d.addOrSubtract(u.multiplyByMonomial(ye,pe))}if(x=P.multiply(g).addOrSubtract(z),d.getDegree()>=u.getDegree())throw new Wn("Division algorithm failed to reduce polynomial?")}const A=x.getCoefficient(0);if(A===0)throw new Xn("sigmaTilde(0) was zero");const _=c.inverse(A),O=x.multiplyScalar(_),D=d.multiplyScalar(_);return[O,D]}findErrorLocations(t){const i=t.getDegree();if(i===1)return Int32Array.from([t.getCoefficient(1)]);const a=new Int32Array(i);let c=0;const u=this.field;for(let d=1;d<u.getSize()&&c<i;d++)t.evaluateAt(d)===0&&(a[c]=u.inverse(d),c++);if(c!==i)throw new Xn("Error locator degree does not match number of roots");return a}findErrorMagnitudes(t,i){const a=i.length,c=new Int32Array(a),u=this.field;for(let d=0;d<a;d++){const g=u.inverse(i[d]);let x=1;for(let A=0;A<a;A++)if(d!==A){const _=u.multiply(i[A],g),O=(_&1)===0?_|1:_&-2;x=u.multiply(x,O)}c[d]=u.multiply(t.evaluateAt(g),u.inverse(x)),u.getGeneratorBase()!==0&&(c[d]=u.multiply(c[d],g))}return c}}var bn;(function(N){N[N.UPPER=0]="UPPER",N[N.LOWER=1]="LOWER",N[N.MIXED=2]="MIXED",N[N.DIGIT=3]="DIGIT",N[N.PUNCT=4]="PUNCT",N[N.BINARY=5]="BINARY"})(bn||(bn={}));class Ct{decode(t){this.ddata=t;let i=t.getBits(),a=this.extractBits(i),c=this.correctBits(a),u=Ct.convertBoolArrayToByteArray(c),d=Ct.getEncodedData(c),g=new kt(u,d,null,null);return g.setNumBits(c.length),g}static highLevelDecode(t){return this.getEncodedData(t)}static getEncodedData(t){let i=t.length,a=bn.UPPER,c=bn.UPPER,u="",d=0;for(;d<i;)if(c===bn.BINARY){if(i-d<5)break;let g=Ct.readCode(t,d,5);if(d+=5,g===0){if(i-d<11)break;g=Ct.readCode(t,d,11)+31,d+=11}for(let x=0;x<g;x++){if(i-d<8){d=i;break}const A=Ct.readCode(t,d,8);u+=Ee.castAsNonUtf8Char(A),d+=8}c=a}else{let g=c===bn.DIGIT?4:5;if(i-d<g)break;let x=Ct.readCode(t,d,g);d+=g;let A=Ct.getCharacter(c,x);A.startsWith("CTRL_")?(a=c,c=Ct.getTable(A.charAt(5)),A.charAt(6)==="L"&&(a=c)):(u+=A,c=a)}return u}static getTable(t){switch(t){case"L":return bn.LOWER;case"P":return bn.PUNCT;case"M":return bn.MIXED;case"D":return bn.DIGIT;case"B":return bn.BINARY;default:return bn.UPPER}}static getCharacter(t,i){switch(t){case bn.UPPER:return Ct.UPPER_TABLE[i];case bn.LOWER:return Ct.LOWER_TABLE[i];case bn.MIXED:return Ct.MIXED_TABLE[i];case bn.PUNCT:return Ct.PUNCT_TABLE[i];case bn.DIGIT:return Ct.DIGIT_TABLE[i];default:throw new Wn("Bad table")}}correctBits(t){let i,a;this.ddata.getNbLayers()<=2?(a=6,i=gt.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(a=8,i=gt.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(a=10,i=gt.AZTEC_DATA_10):(a=12,i=gt.AZTEC_DATA_12);let c=this.ddata.getNbDatablocks(),u=t.length/a;if(u<c)throw new K;let d=t.length%a,g=new Int32Array(u);for(let D=0;D<u;D++,d+=a)g[D]=Ct.readCode(t,d,a);try{new ur(i).decode(g,u-c)}catch(D){throw new K(D)}let x=(1<<a)-1,A=0;for(let D=0;D<c;D++){let k=g[D];if(k===0||k===x)throw new K;(k===1||k===x-1)&&A++}let _=new Array(c*a-A),O=0;for(let D=0;D<c;D++){let k=g[D];if(k===1||k===x-1)_.fill(k>1,O,O+a-1),O+=a-1;else for(let z=a-1;z>=0;--z)_[O++]=(k&1<<z)!==0}return _}extractBits(t){let i=this.ddata.isCompact(),a=this.ddata.getNbLayers(),c=(i?11:14)+a*4,u=new Int32Array(c),d=new Array(this.totalBitsInLayer(a,i));if(i)for(let g=0;g<u.length;g++)u[g]=g;else{let g=c+1+2*J.truncDivision(J.truncDivision(c,2)-1,15),x=c/2,A=J.truncDivision(g,2);for(let _=0;_<x;_++){let O=_+J.truncDivision(_,15);u[x-_-1]=A-O-1,u[x+_]=A+O+1}}for(let g=0,x=0;g<a;g++){let A=(a-g)*4+(i?9:12),_=g*2,O=c-1-_;for(let D=0;D<A;D++){let k=D*2;for(let z=0;z<2;z++)d[x+k+z]=t.get(u[_+z],u[_+D]),d[x+2*A+k+z]=t.get(u[_+D],u[O-z]),d[x+4*A+k+z]=t.get(u[O-z],u[O-D]),d[x+6*A+k+z]=t.get(u[O-D],u[_+z])}x+=A*8}return d}static readCode(t,i,a){let c=0;for(let u=i;u<i+a;u++)c<<=1,t[u]&&(c|=1);return c}static readByte(t,i){let a=t.length-i;return a>=8?Ct.readCode(t,i,8):Ct.readCode(t,i,a)<<8-a}static convertBoolArrayToByteArray(t){let i=new Uint8Array((t.length+7)/8);for(let a=0;a<i.length;a++)i[a]=Ct.readByte(t,8*a);return i}totalBitsInLayer(t,i){return((i?88:112)+16*t)*t}}Ct.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Ct.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Ct.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Ct.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Ct.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class it{constructor(){}static round(t){return t===NaN?0:t<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:t>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:t+(t<0?-.5:.5)|0}static distance(t,i,a,c){const u=t-a,d=i-c;return Math.sqrt(u*u+d*d)}static sum(t){let i=0;for(let a=0,c=t.length;a!==c;a++){const u=t[a];i+=u}return i}}class jr{static floatToIntBits(t){return t}}jr.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Te{constructor(t,i){this.x=t,this.y=i}getX(){return this.x}getY(){return this.y}equals(t){if(t instanceof Te){const i=t;return this.x===i.x&&this.y===i.y}return!1}hashCode(){return 31*jr.floatToIntBits(this.x)+jr.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(t){const i=this.distance(t[0],t[1]),a=this.distance(t[1],t[2]),c=this.distance(t[0],t[2]);let u,d,g;if(a>=i&&a>=c?(d=t[0],u=t[1],g=t[2]):c>=a&&c>=i?(d=t[1],u=t[0],g=t[2]):(d=t[2],u=t[0],g=t[1]),this.crossProductZ(u,d,g)<0){const x=u;u=g,g=x}t[0]=u,t[1]=d,t[2]=g}static distance(t,i){return it.distance(t.x,t.y,i.x,i.y)}static crossProductZ(t,i,a){const c=i.x,u=i.y;return(a.x-c)*(t.y-u)-(a.y-u)*(t.x-c)}}class ts{constructor(t,i){this.bits=t,this.points=i}getBits(){return this.bits}getPoints(){return this.points}}class co extends ts{constructor(t,i,a,c,u){super(t,i),this.compact=a,this.nbDatablocks=c,this.nbLayers=u}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Kt{constructor(t,i,a,c){this.image=t,this.height=t.getHeight(),this.width=t.getWidth(),i==null&&(i=Kt.INIT_SIZE),a==null&&(a=t.getWidth()/2|0),c==null&&(c=t.getHeight()/2|0);const u=i/2|0;if(this.leftInit=a-u,this.rightInit=a+u,this.upInit=c-u,this.downInit=c+u,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new te}detect(){let t=this.leftInit,i=this.rightInit,a=this.upInit,c=this.downInit,u=!1,d=!0,g=!1,x=!1,A=!1,_=!1,O=!1;const D=this.width,k=this.height;for(;d;){d=!1;let z=!0;for(;(z||!x)&&i<D;)z=this.containsBlackPoint(a,c,i,!1),z?(i++,d=!0,x=!0):x||i++;if(i>=D){u=!0;break}let P=!0;for(;(P||!A)&&c<k;)P=this.containsBlackPoint(t,i,c,!0),P?(c++,d=!0,A=!0):A||c++;if(c>=k){u=!0;break}let q=!0;for(;(q||!_)&&t>=0;)q=this.containsBlackPoint(a,c,t,!1),q?(t--,d=!0,_=!0):_||t--;if(t<0){u=!0;break}let ie=!0;for(;(ie||!O)&&a>=0;)ie=this.containsBlackPoint(t,i,a,!0),ie?(a--,d=!0,O=!0):O||a--;if(a<0){u=!0;break}d&&(g=!0)}if(!u&&g){const z=i-t;let P=null;for(let pe=1;P===null&&pe<z;pe++)P=this.getBlackPointOnSegment(t,c-pe,t+pe,c);if(P==null)throw new te;let q=null;for(let pe=1;q===null&&pe<z;pe++)q=this.getBlackPointOnSegment(t,a+pe,t+pe,a);if(q==null)throw new te;let ie=null;for(let pe=1;ie===null&&pe<z;pe++)ie=this.getBlackPointOnSegment(i,a+pe,i-pe,a);if(ie==null)throw new te;let ye=null;for(let pe=1;ye===null&&pe<z;pe++)ye=this.getBlackPointOnSegment(i,c-pe,i-pe,c);if(ye==null)throw new te;return this.centerEdges(ye,P,ie,q)}else throw new te}getBlackPointOnSegment(t,i,a,c){const u=it.round(it.distance(t,i,a,c)),d=(a-t)/u,g=(c-i)/u,x=this.image;for(let A=0;A<u;A++){const _=it.round(t+A*d),O=it.round(i+A*g);if(x.get(_,O))return new Te(_,O)}return null}centerEdges(t,i,a,c){const u=t.getX(),d=t.getY(),g=i.getX(),x=i.getY(),A=a.getX(),_=a.getY(),O=c.getX(),D=c.getY(),k=Kt.CORR;return u<this.width/2?[new Te(O-k,D+k),new Te(g+k,x+k),new Te(A-k,_-k),new Te(u+k,d-k)]:[new Te(O+k,D+k),new Te(g+k,x-k),new Te(A-k,_+k),new Te(u-k,d-k)]}containsBlackPoint(t,i,a,c){const u=this.image;if(c){for(let d=t;d<=i;d++)if(u.get(d,a))return!0}else for(let d=t;d<=i;d++)if(u.get(a,d))return!0;return!1}}Kt.INIT_SIZE=10,Kt.CORR=1;class el{static checkAndNudgePoints(t,i){const a=t.getWidth(),c=t.getHeight();let u=!0;for(let d=0;d<i.length&&u;d+=2){const g=Math.floor(i[d]),x=Math.floor(i[d+1]);if(g<-1||g>a||x<-1||x>c)throw new te;u=!1,g===-1?(i[d]=0,u=!0):g===a&&(i[d]=a-1,u=!0),x===-1?(i[d+1]=0,u=!0):x===c&&(i[d+1]=c-1,u=!0)}u=!0;for(let d=i.length-2;d>=0&&u;d-=2){const g=Math.floor(i[d]),x=Math.floor(i[d+1]);if(g<-1||g>a||x<-1||x>c)throw new te;u=!1,g===-1?(i[d]=0,u=!0):g===a&&(i[d]=a-1,u=!0),x===-1?(i[d+1]=0,u=!0):x===c&&(i[d+1]=c-1,u=!0)}}}class Zn{constructor(t,i,a,c,u,d,g,x,A){this.a11=t,this.a21=i,this.a31=a,this.a12=c,this.a22=u,this.a32=d,this.a13=g,this.a23=x,this.a33=A}static quadrilateralToQuadrilateral(t,i,a,c,u,d,g,x,A,_,O,D,k,z,P,q){const ie=Zn.quadrilateralToSquare(t,i,a,c,u,d,g,x);return Zn.squareToQuadrilateral(A,_,O,D,k,z,P,q).times(ie)}transformPoints(t){const i=t.length,a=this.a11,c=this.a12,u=this.a13,d=this.a21,g=this.a22,x=this.a23,A=this.a31,_=this.a32,O=this.a33;for(let D=0;D<i;D+=2){const k=t[D],z=t[D+1],P=u*k+x*z+O;t[D]=(a*k+d*z+A)/P,t[D+1]=(c*k+g*z+_)/P}}transformPointsWithValues(t,i){const a=this.a11,c=this.a12,u=this.a13,d=this.a21,g=this.a22,x=this.a23,A=this.a31,_=this.a32,O=this.a33,D=t.length;for(let k=0;k<D;k++){const z=t[k],P=i[k],q=u*z+x*P+O;t[k]=(a*z+d*P+A)/q,i[k]=(c*z+g*P+_)/q}}static squareToQuadrilateral(t,i,a,c,u,d,g,x){const A=t-a+u-g,_=i-c+d-x;if(A===0&&_===0)return new Zn(a-t,u-a,t,c-i,d-c,i,0,0,1);{const O=a-u,D=g-u,k=c-d,z=x-d,P=O*z-D*k,q=(A*z-D*_)/P,ie=(O*_-A*k)/P;return new Zn(a-t+q*a,g-t+ie*g,t,c-i+q*c,x-i+ie*x,i,q,ie,1)}}static quadrilateralToSquare(t,i,a,c,u,d,g,x){return Zn.squareToQuadrilateral(t,i,a,c,u,d,g,x).buildAdjoint()}buildAdjoint(){return new Zn(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(t){return new Zn(this.a11*t.a11+this.a21*t.a12+this.a31*t.a13,this.a11*t.a21+this.a21*t.a22+this.a31*t.a23,this.a11*t.a31+this.a21*t.a32+this.a31*t.a33,this.a12*t.a11+this.a22*t.a12+this.a32*t.a13,this.a12*t.a21+this.a22*t.a22+this.a32*t.a23,this.a12*t.a31+this.a22*t.a32+this.a32*t.a33,this.a13*t.a11+this.a23*t.a12+this.a33*t.a13,this.a13*t.a21+this.a23*t.a22+this.a33*t.a23,this.a13*t.a31+this.a23*t.a32+this.a33*t.a33)}}class tl extends el{sampleGrid(t,i,a,c,u,d,g,x,A,_,O,D,k,z,P,q,ie,ye,pe){const me=Zn.quadrilateralToQuadrilateral(c,u,d,g,x,A,_,O,D,k,z,P,q,ie,ye,pe);return this.sampleGridWithTransform(t,i,a,me)}sampleGridWithTransform(t,i,a,c){if(i<=0||a<=0)throw new te;const u=new Ye(i,a),d=new Float32Array(2*i);for(let g=0;g<a;g++){const x=d.length,A=g+.5;for(let _=0;_<x;_+=2)d[_]=_/2+.5,d[_+1]=A;c.transformPoints(d),el.checkAndNudgePoints(t,d);try{for(let _=0;_<x;_+=2)t.get(Math.floor(d[_]),Math.floor(d[_+1]))&&u.set(_/2,g)}catch{throw new te}}return u}}class ai{static setGridSampler(t){ai.gridSampler=t}static getInstance(){return ai.gridSampler}}ai.gridSampler=new tl;class In{constructor(t,i){this.x=t,this.y=i}toResultPoint(){return new Te(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class nl{constructor(t){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=t}detect(){return this.detectMirror(!1)}detectMirror(t){let i=this.getMatrixCenter(),a=this.getBullsEyeCorners(i);if(t){let d=a[0];a[0]=a[2],a[2]=d}this.extractParameters(a);let c=this.sampleGrid(this.image,a[this.shift%4],a[(this.shift+1)%4],a[(this.shift+2)%4],a[(this.shift+3)%4]),u=this.getMatrixCornerPoints(a);return new co(c,u,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(t){if(!this.isValidPoint(t[0])||!this.isValidPoint(t[1])||!this.isValidPoint(t[2])||!this.isValidPoint(t[3]))throw new te;let i=2*this.nbCenterLayers,a=new Int32Array([this.sampleLine(t[0],t[1],i),this.sampleLine(t[1],t[2],i),this.sampleLine(t[2],t[3],i),this.sampleLine(t[3],t[0],i)]);this.shift=this.getRotation(a,i);let c=0;for(let d=0;d<4;d++){let g=a[(this.shift+d)%4];this.compact?(c<<=7,c+=g>>1&127):(c<<=10,c+=(g>>2&992)+(g>>1&31))}let u=this.getCorrectedParameterData(c,this.compact);this.compact?(this.nbLayers=(u>>6)+1,this.nbDataBlocks=(u&63)+1):(this.nbLayers=(u>>11)+1,this.nbDataBlocks=(u&2047)+1)}getRotation(t,i){let a=0;t.forEach((c,u,d)=>{let g=(c>>i-2<<1)+(c&1);a=(a<<3)+g}),a=((a&1)<<11)+(a>>1);for(let c=0;c<4;c++)if(J.bitCount(a^this.EXPECTED_CORNER_BITS[c])<=2)return c;throw new te}getCorrectedParameterData(t,i){let a,c;i?(a=7,c=2):(a=10,c=4);let u=a-c,d=new Int32Array(a);for(let x=a-1;x>=0;--x)d[x]=t&15,t>>=4;try{new ur(gt.AZTEC_PARAM).decode(d,u)}catch{throw new te}let g=0;for(let x=0;x<c;x++)g=(g<<4)+d[x];return g}getBullsEyeCorners(t){let i=t,a=t,c=t,u=t,d=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let O=this.getFirstDifferent(i,d,1,-1),D=this.getFirstDifferent(a,d,1,1),k=this.getFirstDifferent(c,d,-1,1),z=this.getFirstDifferent(u,d,-1,-1);if(this.nbCenterLayers>2){let P=this.distancePoint(z,O)*this.nbCenterLayers/(this.distancePoint(u,i)*(this.nbCenterLayers+2));if(P<.75||P>1.25||!this.isWhiteOrBlackRectangle(O,D,k,z))break}i=O,a=D,c=k,u=z,d=!d}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new te;this.compact=this.nbCenterLayers===5;let g=new Te(i.getX()+.5,i.getY()-.5),x=new Te(a.getX()+.5,a.getY()+.5),A=new Te(c.getX()-.5,c.getY()+.5),_=new Te(u.getX()-.5,u.getY()-.5);return this.expandSquare([g,x,A,_],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let t,i,a,c;try{let g=new Kt(this.image).detect();t=g[0],i=g[1],a=g[2],c=g[3]}catch{let x=this.image.getWidth()/2,A=this.image.getHeight()/2;t=this.getFirstDifferent(new In(x+7,A-7),!1,1,-1).toResultPoint(),i=this.getFirstDifferent(new In(x+7,A+7),!1,1,1).toResultPoint(),a=this.getFirstDifferent(new In(x-7,A+7),!1,-1,1).toResultPoint(),c=this.getFirstDifferent(new In(x-7,A-7),!1,-1,-1).toResultPoint()}let u=it.round((t.getX()+c.getX()+i.getX()+a.getX())/4),d=it.round((t.getY()+c.getY()+i.getY()+a.getY())/4);try{let g=new Kt(this.image,15,u,d).detect();t=g[0],i=g[1],a=g[2],c=g[3]}catch{t=this.getFirstDifferent(new In(u+7,d-7),!1,1,-1).toResultPoint(),i=this.getFirstDifferent(new In(u+7,d+7),!1,1,1).toResultPoint(),a=this.getFirstDifferent(new In(u-7,d+7),!1,-1,1).toResultPoint(),c=this.getFirstDifferent(new In(u-7,d-7),!1,-1,-1).toResultPoint()}return u=it.round((t.getX()+c.getX()+i.getX()+a.getX())/4),d=it.round((t.getY()+c.getY()+i.getY()+a.getY())/4),new In(u,d)}getMatrixCornerPoints(t){return this.expandSquare(t,2*this.nbCenterLayers,this.getDimension())}sampleGrid(t,i,a,c,u){let d=ai.getInstance(),g=this.getDimension(),x=g/2-this.nbCenterLayers,A=g/2+this.nbCenterLayers;return d.sampleGrid(t,g,g,x,x,A,x,A,A,x,A,i.getX(),i.getY(),a.getX(),a.getY(),c.getX(),c.getY(),u.getX(),u.getY())}sampleLine(t,i,a){let c=0,u=this.distanceResultPoint(t,i),d=u/a,g=t.getX(),x=t.getY(),A=d*(i.getX()-t.getX())/u,_=d*(i.getY()-t.getY())/u;for(let O=0;O<a;O++)this.image.get(it.round(g+O*A),it.round(x+O*_))&&(c|=1<<a-O-1);return c}isWhiteOrBlackRectangle(t,i,a,c){let u=3;t=new In(t.getX()-u,t.getY()+u),i=new In(i.getX()-u,i.getY()-u),a=new In(a.getX()+u,a.getY()-u),c=new In(c.getX()+u,c.getY()+u);let d=this.getColor(c,t);if(d===0)return!1;let g=this.getColor(t,i);return g!==d||(g=this.getColor(i,a),g!==d)?!1:(g=this.getColor(a,c),g===d)}getColor(t,i){let a=this.distancePoint(t,i),c=(i.getX()-t.getX())/a,u=(i.getY()-t.getY())/a,d=0,g=t.getX(),x=t.getY(),A=this.image.get(t.getX(),t.getY()),_=Math.ceil(a);for(let D=0;D<_;D++)g+=c,x+=u,this.image.get(it.round(g),it.round(x))!==A&&d++;let O=d/a;return O>.1&&O<.9?0:O<=.1===A?1:-1}getFirstDifferent(t,i,a,c){let u=t.getX()+a,d=t.getY()+c;for(;this.isValid(u,d)&&this.image.get(u,d)===i;)u+=a,d+=c;for(u-=a,d-=c;this.isValid(u,d)&&this.image.get(u,d)===i;)u+=a;for(u-=a;this.isValid(u,d)&&this.image.get(u,d)===i;)d+=c;return d-=c,new In(u,d)}expandSquare(t,i,a){let c=a/(2*i),u=t[0].getX()-t[2].getX(),d=t[0].getY()-t[2].getY(),g=(t[0].getX()+t[2].getX())/2,x=(t[0].getY()+t[2].getY())/2,A=new Te(g+c*u,x+c*d),_=new Te(g-c*u,x-c*d);u=t[1].getX()-t[3].getX(),d=t[1].getY()-t[3].getY(),g=(t[1].getX()+t[3].getX())/2,x=(t[1].getY()+t[3].getY())/2;let O=new Te(g+c*u,x+c*d),D=new Te(g-c*u,x-c*d);return[A,O,_,D]}isValid(t,i){return t>=0&&t<this.image.getWidth()&&i>0&&i<this.image.getHeight()}isValidPoint(t){let i=it.round(t.getX()),a=it.round(t.getY());return this.isValid(i,a)}distancePoint(t,i){return it.distance(t.getX(),t.getY(),i.getX(),i.getY())}distanceResultPoint(t,i){return it.distance(t.getX(),t.getY(),i.getX(),i.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(J.truncDivision(this.nbLayers-4,8)+1)+15}}class ns{decode(t,i=null){let a=null,c=new nl(t.getBlackMatrix()),u=null,d=null;try{let _=c.detectMirror(!1);u=_.getPoints(),this.reportFoundResultPoints(i,u),d=new Ct().decode(_)}catch(_){a=_}if(d==null)try{let _=c.detectMirror(!0);u=_.getPoints(),this.reportFoundResultPoints(i,u),d=new Ct().decode(_)}catch(_){throw a??_}let g=new Ae(d.getText(),d.getRawBytes(),d.getNumBits(),u,we.AZTEC,G.currentTimeMillis()),x=d.getByteSegments();x!=null&&g.putMetadata(dt.BYTE_SEGMENTS,x);let A=d.getECLevel();return A!=null&&g.putMetadata(dt.ERROR_CORRECTION_LEVEL,A),g}reportFoundResultPoints(t,i){if(t!=null){let a=t.get(ve.NEED_RESULT_POINT_CALLBACK);a!=null&&i.forEach((c,u,d)=>{a.foundPossibleResultPoint(c)})}}reset(){}}class qc extends be{constructor(t=500){super(new ns,t)}}class Ft{decode(t,i){try{return this.doDecode(t,i)}catch{if(i&&i.get(ve.TRY_HARDER)===!0&&t.isRotateSupported()){const u=t.rotateCounterClockwise(),d=this.doDecode(u,i),g=d.getResultMetadata();let x=270;g!==null&&g.get(dt.ORIENTATION)===!0&&(x=x+g.get(dt.ORIENTATION)%360),d.putMetadata(dt.ORIENTATION,x);const A=d.getResultPoints();if(A!==null){const _=u.getHeight();for(let O=0;O<A.length;O++)A[O]=new Te(_-A[O].getY()-1,A[O].getX())}return d}else throw new te}}reset(){}doDecode(t,i){const a=t.getWidth(),c=t.getHeight();let u=new $(a);const d=i&&i.get(ve.TRY_HARDER)===!0,g=Math.max(1,c>>(d?8:5));let x;d?x=c:x=15;const A=Math.trunc(c/2);for(let _=0;_<x;_++){const O=Math.trunc((_+1)/2),D=(_&1)===0,k=A+g*(D?O:-O);if(k<0||k>=c)break;try{u=t.getBlackRow(k,u)}catch{continue}for(let z=0;z<2;z++){if(z===1&&(u.reverse(),i&&i.get(ve.NEED_RESULT_POINT_CALLBACK)===!0)){const P=new Map;i.forEach((q,ie)=>P.set(ie,q)),P.delete(ve.NEED_RESULT_POINT_CALLBACK),i=P}try{const P=this.decodeRow(k,u,i);if(z===1){P.putMetadata(dt.ORIENTATION,180);const q=P.getResultPoints();q!==null&&(q[0]=new Te(a-q[0].getX()-1,q[0].getY()),q[1]=new Te(a-q[1].getX()-1,q[1].getY()))}return P}catch{}}}throw new te}static recordPattern(t,i,a){const c=a.length;for(let A=0;A<c;A++)a[A]=0;const u=t.getSize();if(i>=u)throw new te;let d=!t.get(i),g=0,x=i;for(;x<u;){if(t.get(x)!==d)a[g]++;else{if(++g===c)break;a[g]=1,d=!d}x++}if(!(g===c||g===c-1&&x===u))throw new te}static recordPatternInReverse(t,i,a){let c=a.length,u=t.get(i);for(;i>0&&c>=0;)t.get(--i)!==u&&(c--,u=!u);if(c>=0)throw new te;Ft.recordPattern(t,i+1,a)}static patternMatchVariance(t,i,a){const c=t.length;let u=0,d=0;for(let A=0;A<c;A++)u+=t[A],d+=i[A];if(u<d)return Number.POSITIVE_INFINITY;const g=u/d;a*=g;let x=0;for(let A=0;A<c;A++){const _=t[A],O=i[A]*g,D=_>O?_-O:O-_;if(D>a)return Number.POSITIVE_INFINITY;x+=D}return x/u}}class xe extends Ft{static findStartPattern(t){const i=t.getSize(),a=t.getNextSet(0);let c=0,u=Int32Array.from([0,0,0,0,0,0]),d=a,g=!1;const x=6;for(let A=a;A<i;A++)if(t.get(A)!==g)u[c]++;else{if(c===x-1){let _=xe.MAX_AVG_VARIANCE,O=-1;for(let D=xe.CODE_START_A;D<=xe.CODE_START_C;D++){const k=Ft.patternMatchVariance(u,xe.CODE_PATTERNS[D],xe.MAX_INDIVIDUAL_VARIANCE);k<_&&(_=k,O=D)}if(O>=0&&t.isRange(Math.max(0,d-(A-d)/2),d,!1))return Int32Array.from([d,A,O]);d+=u[0]+u[1],u=u.slice(2,u.length-1),u[c-1]=0,u[c]=0,c--}else c++;u[c]=1,g=!g}throw new te}static decodeCode(t,i,a){Ft.recordPattern(t,a,i);let c=xe.MAX_AVG_VARIANCE,u=-1;for(let d=0;d<xe.CODE_PATTERNS.length;d++){const g=xe.CODE_PATTERNS[d],x=this.patternMatchVariance(i,g,xe.MAX_INDIVIDUAL_VARIANCE);x<c&&(c=x,u=d)}if(u>=0)return u;throw new te}decodeRow(t,i,a){const c=a&&a.get(ve.ASSUME_GS1)===!0,u=xe.findStartPattern(i),d=u[2];let g=0;const x=new Uint8Array(20);x[g++]=d;let A;switch(d){case xe.CODE_START_A:A=xe.CODE_CODE_A;break;case xe.CODE_START_B:A=xe.CODE_CODE_B;break;case xe.CODE_START_C:A=xe.CODE_CODE_C;break;default:throw new K}let _=!1,O=!1,D="",k=u[0],z=u[1];const P=Int32Array.from([0,0,0,0,0,0]);let q=0,ie=0,ye=d,pe=0,me=!0,tt=!1,We=!1;for(;!_;){const yr=O;switch(O=!1,q=ie,ie=xe.decodeCode(i,P,z),x[g++]=ie,ie!==xe.CODE_STOP&&(me=!0),ie!==xe.CODE_STOP&&(pe++,ye+=pe*ie),k=z,z+=P.reduce((_o,gl)=>_o+gl,0),ie){case xe.CODE_START_A:case xe.CODE_START_B:case xe.CODE_START_C:throw new K}switch(A){case xe.CODE_CODE_A:if(ie<64)We===tt?D+=String.fromCharCode(32+ie):D+=String.fromCharCode(32+ie+128),We=!1;else if(ie<96)We===tt?D+=String.fromCharCode(ie-64):D+=String.fromCharCode(ie+64),We=!1;else switch(ie!==xe.CODE_STOP&&(me=!1),ie){case xe.CODE_FNC_1:c&&(D.length===0?D+="]C1":D+="");break;case xe.CODE_FNC_2:case xe.CODE_FNC_3:break;case xe.CODE_FNC_4_A:!tt&&We?(tt=!0,We=!1):tt&&We?(tt=!1,We=!1):We=!0;break;case xe.CODE_SHIFT:O=!0,A=xe.CODE_CODE_B;break;case xe.CODE_CODE_B:A=xe.CODE_CODE_B;break;case xe.CODE_CODE_C:A=xe.CODE_CODE_C;break;case xe.CODE_STOP:_=!0;break}break;case xe.CODE_CODE_B:if(ie<96)We===tt?D+=String.fromCharCode(32+ie):D+=String.fromCharCode(32+ie+128),We=!1;else switch(ie!==xe.CODE_STOP&&(me=!1),ie){case xe.CODE_FNC_1:c&&(D.length===0?D+="]C1":D+="");break;case xe.CODE_FNC_2:case xe.CODE_FNC_3:break;case xe.CODE_FNC_4_B:!tt&&We?(tt=!0,We=!1):tt&&We?(tt=!1,We=!1):We=!0;break;case xe.CODE_SHIFT:O=!0,A=xe.CODE_CODE_A;break;case xe.CODE_CODE_A:A=xe.CODE_CODE_A;break;case xe.CODE_CODE_C:A=xe.CODE_CODE_C;break;case xe.CODE_STOP:_=!0;break}break;case xe.CODE_CODE_C:if(ie<100)ie<10&&(D+="0"),D+=ie;else switch(ie!==xe.CODE_STOP&&(me=!1),ie){case xe.CODE_FNC_1:c&&(D.length===0?D+="]C1":D+="");break;case xe.CODE_CODE_A:A=xe.CODE_CODE_A;break;case xe.CODE_CODE_B:A=xe.CODE_CODE_B;break;case xe.CODE_STOP:_=!0;break}break}yr&&(A=A===xe.CODE_CODE_A?xe.CODE_CODE_B:xe.CODE_CODE_A)}const tn=z-k;if(z=i.getNextUnset(z),!i.isRange(z,Math.min(i.getSize(),z+(z-k)/2),!1))throw new te;if(ye-=pe*q,ye%103!==q)throw new j;const $n=D.length;if($n===0)throw new te;$n>0&&me&&(A===xe.CODE_CODE_C?D=D.substring(0,$n-2):D=D.substring(0,$n-1));const Dn=(u[1]+u[0])/2,_t=k+tn/2,_n=x.length,Yn=new Uint8Array(_n);for(let yr=0;yr<_n;yr++)Yn[yr]=x[yr];const Kr=[new Te(Dn,t),new Te(_t,t)];return new Ae(D,Yn,0,Kr,we.CODE_128,new Date().getTime())}}xe.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],xe.MAX_AVG_VARIANCE=.25,xe.MAX_INDIVIDUAL_VARIANCE=.7,xe.CODE_SHIFT=98,xe.CODE_CODE_C=99,xe.CODE_CODE_B=100,xe.CODE_CODE_A=101,xe.CODE_FNC_1=102,xe.CODE_FNC_2=97,xe.CODE_FNC_3=96,xe.CODE_FNC_4_A=101,xe.CODE_FNC_4_B=100,xe.CODE_START_A=103,xe.CODE_START_B=104,xe.CODE_START_C=105,xe.CODE_STOP=106;class Dt extends Ft{constructor(t=!1,i=!1){super(),this.usingCheckDigit=t,this.extendedMode=i,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(t,i,a){let c=this.counters;c.fill(0),this.decodeRowResult="";let u=Dt.findAsteriskPattern(i,c),d=i.getNextSet(u[1]),g=i.getSize(),x,A;do{Dt.recordPattern(i,d,c);let P=Dt.toNarrowWidePattern(c);if(P<0)throw new te;x=Dt.patternToChar(P),this.decodeRowResult+=x,A=d;for(let q of c)d+=q;d=i.getNextSet(d)}while(x!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let _=0;for(let P of c)_+=P;let O=d-A-_;if(d!==g&&O*2<_)throw new te;if(this.usingCheckDigit){let P=this.decodeRowResult.length-1,q=0;for(let ie=0;ie<P;ie++)q+=Dt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(ie));if(this.decodeRowResult.charAt(P)!==Dt.ALPHABET_STRING.charAt(q%43))throw new j;this.decodeRowResult=this.decodeRowResult.substring(0,P)}if(this.decodeRowResult.length===0)throw new te;let D;this.extendedMode?D=Dt.decodeExtended(this.decodeRowResult):D=this.decodeRowResult;let k=(u[1]+u[0])/2,z=A+_/2;return new Ae(D,null,0,[new Te(k,t),new Te(z,t)],we.CODE_39,new Date().getTime())}static findAsteriskPattern(t,i){let a=t.getSize(),c=t.getNextSet(0),u=0,d=c,g=!1,x=i.length;for(let A=c;A<a;A++)if(t.get(A)!==g)i[u]++;else{if(u===x-1){if(this.toNarrowWidePattern(i)===Dt.ASTERISK_ENCODING&&t.isRange(Math.max(0,d-Math.floor((A-d)/2)),d,!1))return[d,A];d+=i[0]+i[1],i.copyWithin(0,2,2+u-1),i[u-1]=0,i[u]=0,u--}else u++;i[u]=1,g=!g}throw new te}static toNarrowWidePattern(t){let i=t.length,a=0,c;do{let u=2147483647;for(let x of t)x<u&&x>a&&(u=x);a=u,c=0;let d=0,g=0;for(let x=0;x<i;x++){let A=t[x];A>a&&(g|=1<<i-1-x,c++,d+=A)}if(c===3){for(let x=0;x<i&&c>0;x++){let A=t[x];if(A>a&&(c--,A*2>=d))return-1}return g}}while(c>3);return-1}static patternToChar(t){for(let i=0;i<Dt.CHARACTER_ENCODINGS.length;i++)if(Dt.CHARACTER_ENCODINGS[i]===t)return Dt.ALPHABET_STRING.charAt(i);if(t===Dt.ASTERISK_ENCODING)return"*";throw new te}static decodeExtended(t){let i=t.length,a="";for(let c=0;c<i;c++){let u=t.charAt(c);if(u==="+"||u==="$"||u==="%"||u==="/"){let d=t.charAt(c+1),g="\0";switch(u){case"+":if(d>="A"&&d<="Z")g=String.fromCharCode(d.charCodeAt(0)+32);else throw new K;break;case"$":if(d>="A"&&d<="Z")g=String.fromCharCode(d.charCodeAt(0)-64);else throw new K;break;case"%":if(d>="A"&&d<="E")g=String.fromCharCode(d.charCodeAt(0)-38);else if(d>="F"&&d<="J")g=String.fromCharCode(d.charCodeAt(0)-11);else if(d>="K"&&d<="O")g=String.fromCharCode(d.charCodeAt(0)+16);else if(d>="P"&&d<="T")g=String.fromCharCode(d.charCodeAt(0)+43);else if(d==="U")g="\0";else if(d==="V")g="@";else if(d==="W")g="`";else if(d==="X"||d==="Y"||d==="Z")g="";else throw new K;break;case"/":if(d>="A"&&d<="O")g=String.fromCharCode(d.charCodeAt(0)-32);else if(d==="Z")g=":";else throw new K;break}a+=g,c++}else a+=u}return a}}Dt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Dt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Dt.ASTERISK_ENCODING=148;class Je extends Ft{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(t,i,a){let c=this.decodeStart(i),u=this.decodeEnd(i),d=new Be;Je.decodeMiddle(i,c[1],u[0],d);let g=d.toString(),x=null;a!=null&&(x=a.get(ve.ALLOWED_LENGTHS)),x==null&&(x=Je.DEFAULT_ALLOWED_LENGTHS);let A=g.length,_=!1,O=0;for(let z of x){if(A===z){_=!0;break}z>O&&(O=z)}if(!_&&A>O&&(_=!0),!_)throw new K;const D=[new Te(c[1],t),new Te(u[0],t)];return new Ae(g,null,0,D,we.ITF,new Date().getTime())}static decodeMiddle(t,i,a,c){let u=new Int32Array(10),d=new Int32Array(5),g=new Int32Array(5);for(u.fill(0),d.fill(0),g.fill(0);i<a;){Ft.recordPattern(t,i,u);for(let A=0;A<5;A++){let _=2*A;d[A]=u[_],g[A]=u[_+1]}let x=Je.decodeDigit(d);c.append(x.toString()),x=this.decodeDigit(g),c.append(x.toString()),u.forEach(function(A){i+=A})}}decodeStart(t){let i=Je.skipWhiteSpace(t),a=Je.findGuardPattern(t,i,Je.START_PATTERN);return this.narrowLineWidth=(a[1]-a[0])/4,this.validateQuietZone(t,a[0]),a}validateQuietZone(t,i){let a=this.narrowLineWidth*10;a=a<i?a:i;for(let c=i-1;a>0&&c>=0&&!t.get(c);c--)a--;if(a!==0)throw new te}static skipWhiteSpace(t){const i=t.getSize(),a=t.getNextSet(0);if(a===i)throw new te;return a}decodeEnd(t){t.reverse();try{let i=Je.skipWhiteSpace(t),a;try{a=Je.findGuardPattern(t,i,Je.END_PATTERN_REVERSED[0])}catch(u){u instanceof te&&(a=Je.findGuardPattern(t,i,Je.END_PATTERN_REVERSED[1]))}this.validateQuietZone(t,a[0]);let c=a[0];return a[0]=t.getSize()-a[1],a[1]=t.getSize()-c,a}finally{t.reverse()}}static findGuardPattern(t,i,a){let c=a.length,u=new Int32Array(c),d=t.getSize(),g=!1,x=0,A=i;u.fill(0);for(let _=i;_<d;_++)if(t.get(_)!==g)u[x]++;else{if(x===c-1){if(Ft.patternMatchVariance(u,a,Je.MAX_INDIVIDUAL_VARIANCE)<Je.MAX_AVG_VARIANCE)return[A,_];A+=u[0]+u[1],G.arraycopy(u,2,u,0,x-1),u[x-1]=0,u[x]=0,x--}else x++;u[x]=1,g=!g}throw new te}static decodeDigit(t){let i=Je.MAX_AVG_VARIANCE,a=-1,c=Je.PATTERNS.length;for(let u=0;u<c;u++){let d=Je.PATTERNS[u],g=Ft.patternMatchVariance(t,d,Je.MAX_INDIVIDUAL_VARIANCE);g<i?(i=g,a=u):g===i&&(a=-1)}if(a>=0)return a%10;throw new te}}Je.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Je.MAX_AVG_VARIANCE=.38,Je.MAX_INDIVIDUAL_VARIANCE=.5,Je.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Je.START_PATTERN=Int32Array.from([1,1,1,1]),Je.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Wt extends Ft{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(t){let i=!1,a,c=0,u=Int32Array.from([0,0,0]);for(;!i;){u=Int32Array.from([0,0,0]),a=Wt.findGuardPattern(t,c,!1,this.START_END_PATTERN,u);let d=a[0];c=a[1];let g=d-(c-d);g>=0&&(i=t.isRange(g,d,!1))}return a}static checkChecksum(t){return Wt.checkStandardUPCEANChecksum(t)}static checkStandardUPCEANChecksum(t){let i=t.length;if(i===0)return!1;let a=parseInt(t.charAt(i-1),10);return Wt.getStandardUPCEANChecksum(t.substring(0,i-1))===a}static getStandardUPCEANChecksum(t){let i=t.length,a=0;for(let c=i-1;c>=0;c-=2){let u=t.charAt(c).charCodeAt(0)-48;if(u<0||u>9)throw new K;a+=u}a*=3;for(let c=i-2;c>=0;c-=2){let u=t.charAt(c).charCodeAt(0)-48;if(u<0||u>9)throw new K;a+=u}return(1e3-a)%10}static decodeEnd(t,i){return Wt.findGuardPattern(t,i,!1,Wt.START_END_PATTERN,new Int32Array(Wt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(t,i,a,c){return this.findGuardPattern(t,i,a,c,new Int32Array(c.length))}static findGuardPattern(t,i,a,c,u){let d=t.getSize();i=a?t.getNextUnset(i):t.getNextSet(i);let g=0,x=i,A=c.length,_=a;for(let O=i;O<d;O++)if(t.get(O)!==_)u[g]++;else{if(g===A-1){if(Ft.patternMatchVariance(u,c,Wt.MAX_INDIVIDUAL_VARIANCE)<Wt.MAX_AVG_VARIANCE)return Int32Array.from([x,O]);x+=u[0]+u[1];let D=u.slice(2,u.length-1);for(let k=0;k<g-1;k++)u[k]=D[k];u[g-1]=0,u[g]=0,g--}else g++;u[g]=1,_=!_}throw new te}static decodeDigit(t,i,a,c){this.recordPattern(t,a,i);let u=this.MAX_AVG_VARIANCE,d=-1,g=c.length;for(let x=0;x<g;x++){let A=c[x],_=Ft.patternMatchVariance(i,A,Wt.MAX_INDIVIDUAL_VARIANCE);_<u&&(u=_,d=x)}if(d>=0)return d;throw new te}}Wt.MAX_AVG_VARIANCE=.48,Wt.MAX_INDIVIDUAL_VARIANCE=.7,Wt.START_END_PATTERN=Int32Array.from([1,1,1]),Wt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Wt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Wt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Sa{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(t,i,a){let c=this.decodeRowStringBuffer,u=this.decodeMiddle(i,a,c),d=c.toString(),g=Sa.parseExtensionString(d),x=[new Te((a[0]+a[1])/2,t),new Te(u,t)],A=new Ae(d,null,0,x,we.UPC_EAN_EXTENSION,new Date().getTime());return g!=null&&A.putAllMetadata(g),A}decodeMiddle(t,i,a){let c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let u=t.getSize(),d=i[1],g=0;for(let A=0;A<5&&d<u;A++){let _=Wt.decodeDigit(t,c,d,Wt.L_AND_G_PATTERNS);a+=String.fromCharCode(48+_%10);for(let O of c)d+=O;_>=10&&(g|=1<<4-A),A!==4&&(d=t.getNextSet(d),d=t.getNextUnset(d))}if(a.length!==5)throw new te;let x=this.determineCheckDigit(g);if(Sa.extensionChecksum(a.toString())!==x)throw new te;return d}static extensionChecksum(t){let i=t.length,a=0;for(let c=i-2;c>=0;c-=2)a+=t.charAt(c).charCodeAt(0)-48;a*=3;for(let c=i-1;c>=0;c-=2)a+=t.charAt(c).charCodeAt(0)-48;return a*=3,a%10}determineCheckDigit(t){for(let i=0;i<10;i++)if(t===this.CHECK_DIGIT_ENCODINGS[i])return i;throw new te}static parseExtensionString(t){if(t.length!==5)return null;let i=Sa.parseExtension5String(t);return i==null?null:new Map([[dt.SUGGESTED_PRICE,i]])}static parseExtension5String(t){let i;switch(t.charAt(0)){case"0":i="";break;case"5":i="$";break;case"9":switch(t){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}i="";break;default:i="";break}let a=parseInt(t.substring(1)),c=(a/100).toString(),u=a%100,d=u<10?"0"+u:u.toString();return i+c+"."+d}}class il{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(t,i,a){let c=this.decodeRowStringBuffer,u=this.decodeMiddle(i,a,c),d=c.toString(),g=il.parseExtensionString(d),x=[new Te((a[0]+a[1])/2,t),new Te(u,t)],A=new Ae(d,null,0,x,we.UPC_EAN_EXTENSION,new Date().getTime());return g!=null&&A.putAllMetadata(g),A}decodeMiddle(t,i,a){let c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let u=t.getSize(),d=i[1],g=0;for(let x=0;x<2&&d<u;x++){let A=Wt.decodeDigit(t,c,d,Wt.L_AND_G_PATTERNS);a+=String.fromCharCode(48+A%10);for(let _ of c)d+=_;A>=10&&(g|=1<<1-x),x!==1&&(d=t.getNextSet(d),d=t.getNextUnset(d))}if(a.length!==2)throw new te;if(parseInt(a.toString())%4!==g)throw new te;return d}static parseExtensionString(t){return t.length!==2?null:new Map([[dt.ISSUE_NUMBER,parseInt(t)]])}}class _a{static decodeRow(t,i,a){let c=Wt.findGuardPattern(i,a,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Sa().decodeRow(t,i,c)}catch{return new il().decodeRow(t,i,c)}}}_a.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class lt extends Wt{constructor(){super(),this.decodeRowStringBuffer="",lt.L_AND_G_PATTERNS=lt.L_PATTERNS.map(t=>Int32Array.from(t));for(let t=10;t<20;t++){let i=lt.L_PATTERNS[t-10],a=new Int32Array(i.length);for(let c=0;c<i.length;c++)a[c]=i[i.length-c-1];lt.L_AND_G_PATTERNS[t]=a}}decodeRow(t,i,a){let c=lt.findStartGuardPattern(i),u=a==null?null:a.get(ve.NEED_RESULT_POINT_CALLBACK);if(u!=null){const me=new Te((c[0]+c[1])/2,t);u.foundPossibleResultPoint(me)}let d=this.decodeMiddle(i,c,this.decodeRowStringBuffer),g=d.rowOffset,x=d.resultString;if(u!=null){const me=new Te(g,t);u.foundPossibleResultPoint(me)}let A=this.decodeEnd(i,g);if(u!=null){const me=new Te((A[0]+A[1])/2,t);u.foundPossibleResultPoint(me)}let _=A[1],O=_+(_-A[0]);if(O>=i.getSize()||!i.isRange(_,O,!1))throw new te;let D=x.toString();if(D.length<8)throw new K;if(!lt.checkChecksum(D))throw new j;let k=(c[1]+c[0])/2,z=(A[1]+A[0])/2,P=this.getBarcodeFormat(),q=[new Te(k,t),new Te(z,t)],ie=new Ae(D,null,0,q,P,new Date().getTime()),ye=0;try{let me=_a.decodeRow(t,i,A[1]);ie.putMetadata(dt.UPC_EAN_EXTENSION,me.getText()),ie.putAllMetadata(me.getResultMetadata()),ie.addResultPoints(me.getResultPoints()),ye=me.getText().length}catch{}let pe=a==null?null:a.get(ve.ALLOWED_EAN_EXTENSIONS);if(pe!=null){let me=!1;for(let tt in pe)if(ye.toString()===tt){me=!0;break}if(!me)throw new te}return ie}decodeEnd(t,i){return lt.findGuardPattern(t,i,!1,lt.START_END_PATTERN,new Int32Array(lt.START_END_PATTERN.length).fill(0))}static checkChecksum(t){return lt.checkStandardUPCEANChecksum(t)}static checkStandardUPCEANChecksum(t){let i=t.length;if(i===0)return!1;let a=parseInt(t.charAt(i-1),10);return lt.getStandardUPCEANChecksum(t.substring(0,i-1))===a}static getStandardUPCEANChecksum(t){let i=t.length,a=0;for(let c=i-1;c>=0;c-=2){let u=t.charAt(c).charCodeAt(0)-48;if(u<0||u>9)throw new K;a+=u}a*=3;for(let c=i-2;c>=0;c-=2){let u=t.charAt(c).charCodeAt(0)-48;if(u<0||u>9)throw new K;a+=u}return(1e3-a)%10}}class Ei extends lt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(t,i,a){let c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let u=t.getSize(),d=i[1],g=0;for(let A=0;A<6&&d<u;A++){let _=lt.decodeDigit(t,c,d,lt.L_AND_G_PATTERNS);a+=String.fromCharCode(48+_%10);for(let O of c)d+=O;_>=10&&(g|=1<<5-A)}a=Ei.determineFirstDigit(a,g),d=lt.findGuardPattern(t,d,!0,lt.MIDDLE_PATTERN,new Int32Array(lt.MIDDLE_PATTERN.length).fill(0))[1];for(let A=0;A<6&&d<u;A++){let _=lt.decodeDigit(t,c,d,lt.L_PATTERNS);a+=String.fromCharCode(48+_);for(let O of c)d+=O}return{rowOffset:d,resultString:a}}getBarcodeFormat(){return we.EAN_13}static determineFirstDigit(t,i){for(let a=0;a<10;a++)if(i===this.FIRST_DIGIT_ENCODINGS[a])return t=String.fromCharCode(48+a)+t,t;throw new te}}Ei.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Ki extends lt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(t,i,a){const c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let u=t.getSize(),d=i[1];for(let x=0;x<4&&d<u;x++){let A=lt.decodeDigit(t,c,d,lt.L_PATTERNS);a+=String.fromCharCode(48+A);for(let _ of c)d+=_}d=lt.findGuardPattern(t,d,!0,lt.MIDDLE_PATTERN,new Int32Array(lt.MIDDLE_PATTERN.length).fill(0))[1];for(let x=0;x<4&&d<u;x++){let A=lt.decodeDigit(t,c,d,lt.L_PATTERNS);a+=String.fromCharCode(48+A);for(let _ of c)d+=_}return{rowOffset:d,resultString:a}}getBarcodeFormat(){return we.EAN_8}}class Ca extends lt{constructor(){super(...arguments),this.ean13Reader=new Ei}getBarcodeFormat(){return we.UPC_A}decode(t,i){return this.maybeReturnResult(this.ean13Reader.decode(t))}decodeRow(t,i,a){return this.maybeReturnResult(this.ean13Reader.decodeRow(t,i,a))}decodeMiddle(t,i,a){return this.ean13Reader.decodeMiddle(t,i,a)}maybeReturnResult(t){let i=t.getText();if(i.charAt(0)==="0"){let a=new Ae(i.substring(1),null,null,t.getResultPoints(),we.UPC_A);return t.getResultMetadata()!=null&&a.putAllMetadata(t.getResultMetadata()),a}else throw new te}reset(){this.ean13Reader.reset()}}class Rn extends lt{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(t,i,a){const c=this.decodeMiddleCounters.map(A=>A);c[0]=0,c[1]=0,c[2]=0,c[3]=0;const u=t.getSize();let d=i[1],g=0;for(let A=0;A<6&&d<u;A++){const _=Rn.decodeDigit(t,c,d,Rn.L_AND_G_PATTERNS);a+=String.fromCharCode(48+_%10);for(let O of c)d+=O;_>=10&&(g|=1<<5-A)}let x=Rn.determineNumSysAndCheckDigit(a,g);return{rowOffset:d,resultString:x}}decodeEnd(t,i){return Rn.findGuardPatternWithoutCounters(t,i,!0,Rn.MIDDLE_END_PATTERN)}checkChecksum(t){return lt.checkChecksum(Rn.convertUPCEtoUPCA(t))}static determineNumSysAndCheckDigit(t,i){for(let a=0;a<=1;a++)for(let c=0;c<10;c++)if(i===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[a][c]){let u=String.fromCharCode(48+a),d=String.fromCharCode(48+c);return u+t+d}throw te.getNotFoundInstance()}getBarcodeFormat(){return we.UPC_E}static convertUPCEtoUPCA(t){const i=t.slice(1,7).split("").map(u=>u.charCodeAt(0)),a=new Be;a.append(t.charAt(0));let c=i[5];switch(c){case 0:case 1:case 2:a.appendChars(i,0,2),a.append(c),a.append("0000"),a.appendChars(i,2,3);break;case 3:a.appendChars(i,0,3),a.append("00000"),a.appendChars(i,3,2);break;case 4:a.appendChars(i,0,4),a.append("00000"),a.append(i[4]);break;default:a.appendChars(i,0,5),a.append("0000"),a.append(c);break}return t.length>=8&&a.append(t.charAt(7)),a.toString()}}Rn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Rn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class rl extends Ft{constructor(t){super();let i=t==null?null:t.get(ve.POSSIBLE_FORMATS),a=[];f(i)?(a.push(new Ei),a.push(new Ca),a.push(new Ki),a.push(new Rn)):(i.indexOf(we.EAN_13)>-1&&a.push(new Ei),i.indexOf(we.UPC_A)>-1&&a.push(new Ca),i.indexOf(we.EAN_8)>-1&&a.push(new Ki),i.indexOf(we.UPC_E)>-1&&a.push(new Rn)),this.readers=a}decodeRow(t,i,a){for(let c of this.readers)try{const u=c.decodeRow(t,i,a),d=u.getBarcodeFormat()===we.EAN_13&&u.getText().charAt(0)==="0",g=a==null?null:a.get(ve.POSSIBLE_FORMATS),x=g==null||g.includes(we.UPC_A);if(d&&x){const A=u.getRawBytes(),_=new Ae(u.getText().substring(1),A,A?A.length:null,u.getResultPoints(),we.UPC_A);return _.putAllMetadata(u.getResultMetadata()),_}return u}catch{}throw new te}reset(){for(let t of this.readers)t.reset()}}class An extends Ft{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(t,i){for(let a=0;a<i.length;a++)if(Ft.patternMatchVariance(t,i[a],An.MAX_INDIVIDUAL_VARIANCE)<An.MAX_AVG_VARIANCE)return a;throw new te}static count(t){return it.sum(new Int32Array(t))}static increment(t,i){let a=0,c=i[0];for(let u=1;u<t.length;u++)i[u]>c&&(c=i[u],a=u);t[a]++}static decrement(t,i){let a=0,c=i[0];for(let u=1;u<t.length;u++)i[u]<c&&(c=i[u],a=u);t[a]--}static isFinderPattern(t){let i=t[0]+t[1],a=i+t[2]+t[3],c=i/a;if(c>=An.MIN_FINDER_PATTERN_RATIO&&c<=An.MAX_FINDER_PATTERN_RATIO){let u=Number.MAX_SAFE_INTEGER,d=Number.MIN_SAFE_INTEGER;for(let g of t)g>d&&(d=g),g<u&&(u=g);return d<10*u}return!1}}An.MAX_AVG_VARIANCE=.2,An.MAX_INDIVIDUAL_VARIANCE=.45,An.MIN_FINDER_PATTERN_RATIO=9.5/12,An.MAX_FINDER_PATTERN_RATIO=12.5/14;class Ji{constructor(t,i){this.value=t,this.checksumPortion=i}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(t){if(!(t instanceof Ji))return!1;const i=t;return this.value===i.value&&this.checksumPortion===i.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class $i{constructor(t,i,a,c,u){this.value=t,this.startEnd=i,this.value=t,this.startEnd=i,this.resultPoints=new Array,this.resultPoints.push(new Te(a,u)),this.resultPoints.push(new Te(c,u))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(t){if(!(t instanceof $i))return!1;const i=t;return this.value===i.value}hashCode(){return this.value}}class Si{constructor(){}static getRSSvalue(t,i,a){let c=0;for(let x of t)c+=x;let u=0,d=0,g=t.length;for(let x=0;x<g-1;x++){let A;for(A=1,d|=1<<x;A<t[x];A++,d&=~(1<<x)){let _=Si.combins(c-A-1,g-x-2);if(a&&d===0&&c-A-(g-x-1)>=g-x-1&&(_-=Si.combins(c-A-(g-x),g-x-2)),g-x-1>1){let O=0;for(let D=c-A-(g-x-2);D>i;D--)O+=Si.combins(c-A-D-1,g-x-3);_-=O*(g-1-x)}else c-A>i&&_--;u+=_}c-=A}return u}static combins(t,i){let a,c;t-i>i?(c=i,a=t-i):(c=t-i,a=i);let u=1,d=1;for(let g=t;g>a;g--)u*=g,d<=c&&(u/=d,d++);for(;d<=c;)u/=d,d++;return u}}class uo{static buildBitArray(t){let i=t.length*2-1;t[t.length-1].getRightChar()==null&&(i-=1);let a=12*i,c=new $(a),u=0,g=t[0].getRightChar().getValue();for(let x=11;x>=0;--x)(g&1<<x)!=0&&c.set(u),u++;for(let x=1;x<t.length;++x){let A=t[x],_=A.getLeftChar().getValue();for(let O=11;O>=0;--O)(_&1<<O)!=0&&c.set(u),u++;if(A.getRightChar()!=null){let O=A.getRightChar().getValue();for(let D=11;D>=0;--D)(O&1<<D)!=0&&c.set(u),u++}}return c}}class er{constructor(t,i){i?this.decodedInformation=null:(this.finished=t,this.decodedInformation=i)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class is{constructor(t){this.newPosition=t}getNewPosition(){return this.newPosition}}class Nn extends is{constructor(t,i){super(t),this.value=i}getValue(){return this.value}isFNC1(){return this.value===Nn.FNC1}}Nn.FNC1="$";class ji extends is{constructor(t,i,a){super(t),a?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=i}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Pn extends is{constructor(t,i,a){if(super(t),i<0||i>10||a<0||a>10)throw new K;this.firstDigit=i,this.secondDigit=a}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Pn.FNC1}isSecondDigitFNC1(){return this.secondDigit===Pn.FNC1}isAnyFNC1(){return this.firstDigit===Pn.FNC1||this.secondDigit===Pn.FNC1}}Pn.FNC1=10;class _e{constructor(){}static parseFieldsInGeneralPurpose(t){if(!t)return null;if(t.length<2)throw new te;let i=t.substring(0,2);for(let u of _e.TWO_DIGIT_DATA_LENGTH)if(u[0]===i)return u[1]===_e.VARIABLE_LENGTH?_e.processVariableAI(2,u[2],t):_e.processFixedAI(2,u[1],t);if(t.length<3)throw new te;let a=t.substring(0,3);for(let u of _e.THREE_DIGIT_DATA_LENGTH)if(u[0]===a)return u[1]===_e.VARIABLE_LENGTH?_e.processVariableAI(3,u[2],t):_e.processFixedAI(3,u[1],t);for(let u of _e.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(u[0]===a)return u[1]===_e.VARIABLE_LENGTH?_e.processVariableAI(4,u[2],t):_e.processFixedAI(4,u[1],t);if(t.length<4)throw new te;let c=t.substring(0,4);for(let u of _e.FOUR_DIGIT_DATA_LENGTH)if(u[0]===c)return u[1]===_e.VARIABLE_LENGTH?_e.processVariableAI(4,u[2],t):_e.processFixedAI(4,u[1],t);throw new te}static processFixedAI(t,i,a){if(a.length<t)throw new te;let c=a.substring(0,t);if(a.length<t+i)throw new te;let u=a.substring(t,t+i),d=a.substring(t+i),g="("+c+")"+u,x=_e.parseFieldsInGeneralPurpose(d);return x==null?g:g+x}static processVariableAI(t,i,a){let c=a.substring(0,t),u;a.length<t+i?u=a.length:u=t+i;let d=a.substring(t,u),g=a.substring(u),x="("+c+")"+d,A=_e.parseFieldsInGeneralPurpose(g);return A==null?x:x+A}}_e.VARIABLE_LENGTH=[],_e.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",_e.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",_e.VARIABLE_LENGTH,20],["22",_e.VARIABLE_LENGTH,29],["30",_e.VARIABLE_LENGTH,8],["37",_e.VARIABLE_LENGTH,8],["90",_e.VARIABLE_LENGTH,30],["91",_e.VARIABLE_LENGTH,30],["92",_e.VARIABLE_LENGTH,30],["93",_e.VARIABLE_LENGTH,30],["94",_e.VARIABLE_LENGTH,30],["95",_e.VARIABLE_LENGTH,30],["96",_e.VARIABLE_LENGTH,30],["97",_e.VARIABLE_LENGTH,3],["98",_e.VARIABLE_LENGTH,30],["99",_e.VARIABLE_LENGTH,30]],_e.THREE_DIGIT_DATA_LENGTH=[["240",_e.VARIABLE_LENGTH,30],["241",_e.VARIABLE_LENGTH,30],["242",_e.VARIABLE_LENGTH,6],["250",_e.VARIABLE_LENGTH,30],["251",_e.VARIABLE_LENGTH,30],["253",_e.VARIABLE_LENGTH,17],["254",_e.VARIABLE_LENGTH,20],["400",_e.VARIABLE_LENGTH,30],["401",_e.VARIABLE_LENGTH,30],["402",17],["403",_e.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",_e.VARIABLE_LENGTH,20],["421",_e.VARIABLE_LENGTH,15],["422",3],["423",_e.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],_e.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",_e.VARIABLE_LENGTH,15],["391",_e.VARIABLE_LENGTH,18],["392",_e.VARIABLE_LENGTH,15],["393",_e.VARIABLE_LENGTH,18],["703",_e.VARIABLE_LENGTH,30]],_e.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",_e.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",_e.VARIABLE_LENGTH,20],["8003",_e.VARIABLE_LENGTH,30],["8004",_e.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",_e.VARIABLE_LENGTH,30],["8008",_e.VARIABLE_LENGTH,12],["8018",18],["8020",_e.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",_e.VARIABLE_LENGTH,70],["8200",_e.VARIABLE_LENGTH,70]];class Fn{constructor(t){this.buffer=new Be,this.information=t}decodeAllCodes(t,i){let a=i,c=null;do{let u=this.decodeGeneralPurposeField(a,c),d=_e.parseFieldsInGeneralPurpose(u.getNewString());if(d!=null&&t.append(d),u.isRemaining()?c=""+u.getRemainingValue():c=null,a===u.getNewPosition())break;a=u.getNewPosition()}while(!0);return t.toString()}isStillNumeric(t){if(t+7>this.information.getSize())return t+4<=this.information.getSize();for(let i=t;i<t+3;++i)if(this.information.get(i))return!0;return this.information.get(t+3)}decodeNumeric(t){if(t+7>this.information.getSize()){let u=this.extractNumericValueFromBitArray(t,4);return u===0?new Pn(this.information.getSize(),Pn.FNC1,Pn.FNC1):new Pn(this.information.getSize(),u-1,Pn.FNC1)}let i=this.extractNumericValueFromBitArray(t,7),a=(i-8)/11,c=(i-8)%11;return new Pn(t+7,a,c)}extractNumericValueFromBitArray(t,i){return Fn.extractNumericValueFromBitArray(this.information,t,i)}static extractNumericValueFromBitArray(t,i,a){let c=0;for(let u=0;u<a;++u)t.get(i+u)&&(c|=1<<a-u-1);return c}decodeGeneralPurposeField(t,i){this.buffer.setLengthToZero(),i!=null&&this.buffer.append(i),this.current.setPosition(t);let a=this.parseBlocks();return a!=null&&a.isRemaining()?new ji(this.current.getPosition(),this.buffer.toString(),a.getRemainingValue()):new ji(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let t,i;do{let a=this.current.getPosition();if(this.current.isAlpha()?(i=this.parseAlphaBlock(),t=i.isFinished()):this.current.isIsoIec646()?(i=this.parseIsoIec646Block(),t=i.isFinished()):(i=this.parseNumericBlock(),t=i.isFinished()),!(a!==this.current.getPosition())&&!t)break}while(!t);return i.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let t=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFirstDigitFNC1()){let i;return t.isSecondDigitFNC1()?i=new ji(this.current.getPosition(),this.buffer.toString()):i=new ji(this.current.getPosition(),this.buffer.toString(),t.getSecondDigit()),new er(!0,i)}if(this.buffer.append(t.getFirstDigit()),t.isSecondDigitFNC1()){let i=new ji(this.current.getPosition(),this.buffer.toString());return new er(!0,i)}this.buffer.append(t.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new er(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let t=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){let i=new ji(this.current.getPosition(),this.buffer.toString());return new er(!0,i)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new er(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let t=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){let i=new ji(this.current.getPosition(),this.buffer.toString());return new er(!0,i)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new er(!1)}isStillIsoIec646(t){if(t+5>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(t,5);if(i>=5&&i<16)return!0;if(t+7>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(t,7);if(a>=64&&a<116)return!0;if(t+8>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(t,8);return c>=232&&c<253}decodeIsoIec646(t){let i=this.extractNumericValueFromBitArray(t,5);if(i===15)return new Nn(t+5,Nn.FNC1);if(i>=5&&i<15)return new Nn(t+5,"0"+(i-5));let a=this.extractNumericValueFromBitArray(t,7);if(a>=64&&a<90)return new Nn(t+7,""+(a+1));if(a>=90&&a<116)return new Nn(t+7,""+(a+7));let c=this.extractNumericValueFromBitArray(t,8),u;switch(c){case 232:u="!";break;case 233:u='"';break;case 234:u="%";break;case 235:u="&";break;case 236:u="'";break;case 237:u="(";break;case 238:u=")";break;case 239:u="*";break;case 240:u="+";break;case 241:u=",";break;case 242:u="-";break;case 243:u=".";break;case 244:u="/";break;case 245:u=":";break;case 246:u=";";break;case 247:u="<";break;case 248:u="=";break;case 249:u=">";break;case 250:u="?";break;case 251:u="_";break;case 252:u=" ";break;default:throw new K}return new Nn(t+8,u)}isStillAlpha(t){if(t+5>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(t,5);if(i>=5&&i<16)return!0;if(t+6>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(t,6);return a>=16&&a<63}decodeAlphanumeric(t){let i=this.extractNumericValueFromBitArray(t,5);if(i===15)return new Nn(t+5,Nn.FNC1);if(i>=5&&i<15)return new Nn(t+5,"0"+(i-5));let a=this.extractNumericValueFromBitArray(t,6);if(a>=32&&a<58)return new Nn(t+6,""+(a+33));let c;switch(a){case 58:c="*";break;case 59:c=",";break;case 60:c="-";break;case 61:c=".";break;case 62:c="/";break;default:throw new Wn("Decoding invalid alphanumeric value: "+a)}return new Nn(t+6,c)}isAlphaTo646ToAlphaLatch(t){if(t+1>this.information.getSize())return!1;for(let i=0;i<5&&i+t<this.information.getSize();++i)if(i===2){if(!this.information.get(t+2))return!1}else if(this.information.get(t+i))return!1;return!0}isAlphaOr646ToNumericLatch(t){if(t+3>this.information.getSize())return!1;for(let i=t;i<t+3;++i)if(this.information.get(i))return!1;return!0}isNumericToAlphaNumericLatch(t){if(t+1>this.information.getSize())return!1;for(let i=0;i<4&&i+t<this.information.getSize();++i)if(this.information.get(t+i))return!1;return!0}}class ln{constructor(t){this.information=t,this.generalDecoder=new Fn(t)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Tt extends ln{constructor(t){super(t)}encodeCompressedGtin(t,i){t.append("(01)");let a=t.length();t.append("9"),this.encodeCompressedGtinWithoutAI(t,i,a)}encodeCompressedGtinWithoutAI(t,i,a){for(let c=0;c<4;++c){let u=this.getGeneralDecoder().extractNumericValueFromBitArray(i+10*c,10);u/100===0&&t.append("0"),u/10===0&&t.append("0"),t.append(u)}Tt.appendCheckDigit(t,a)}static appendCheckDigit(t,i){let a=0;for(let c=0;c<13;c++){let u=t.charAt(c+i).charCodeAt(0)-48;a+=(c&1)===0?3*u:u}a=10-a%10,a===10&&(a=0),t.append(a)}}Tt.GTIN_SIZE=40;class si extends Tt{constructor(t){super(t)}parseInformation(){let t=new Be;t.append("(01)");let i=t.length(),a=this.getGeneralDecoder().extractNumericValueFromBitArray(si.HEADER_SIZE,4);return t.append(a),this.encodeCompressedGtinWithoutAI(t,si.HEADER_SIZE+4,i),this.getGeneralDecoder().decodeAllCodes(t,si.HEADER_SIZE+44)}}si.HEADER_SIZE=4;class Ur extends ln{constructor(t){super(t)}parseInformation(){let t=new Be;return this.getGeneralDecoder().decodeAllCodes(t,Ur.HEADER_SIZE)}}Ur.HEADER_SIZE=5;class rs extends Tt{constructor(t){super(t)}encodeCompressedWeight(t,i,a){let c=this.getGeneralDecoder().extractNumericValueFromBitArray(i,a);this.addWeightCode(t,c);let u=this.checkWeight(c),d=1e5;for(let g=0;g<5;++g)u/d===0&&t.append("0"),d/=10;t.append(u)}}class _i extends rs{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()!=_i.HEADER_SIZE+rs.GTIN_SIZE+_i.WEIGHT_SIZE)throw new te;let t=new Be;return this.encodeCompressedGtin(t,_i.HEADER_SIZE),this.encodeCompressedWeight(t,_i.HEADER_SIZE+rs.GTIN_SIZE,_i.WEIGHT_SIZE),t.toString()}}_i.HEADER_SIZE=5,_i.WEIGHT_SIZE=15;class ho extends _i{constructor(t){super(t)}addWeightCode(t,i){t.append("(3103)")}checkWeight(t){return t}}class Ta extends _i{constructor(t){super(t)}addWeightCode(t,i){i<1e4?t.append("(3202)"):t.append("(3203)")}checkWeight(t){return t<1e4?t:t-1e4}}class Qn extends Tt{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()<Qn.HEADER_SIZE+Tt.GTIN_SIZE)throw new te;let t=new Be;this.encodeCompressedGtin(t,Qn.HEADER_SIZE);let i=this.getGeneralDecoder().extractNumericValueFromBitArray(Qn.HEADER_SIZE+Tt.GTIN_SIZE,Qn.LAST_DIGIT_SIZE);t.append("(392"),t.append(i),t.append(")");let a=this.getGeneralDecoder().decodeGeneralPurposeField(Qn.HEADER_SIZE+Tt.GTIN_SIZE+Qn.LAST_DIGIT_SIZE,null);return t.append(a.getNewString()),t.toString()}}Qn.HEADER_SIZE=8,Qn.LAST_DIGIT_SIZE=2;class $t extends Tt{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()<$t.HEADER_SIZE+Tt.GTIN_SIZE)throw new te;let t=new Be;this.encodeCompressedGtin(t,$t.HEADER_SIZE);let i=this.getGeneralDecoder().extractNumericValueFromBitArray($t.HEADER_SIZE+Tt.GTIN_SIZE,$t.LAST_DIGIT_SIZE);t.append("(393"),t.append(i),t.append(")");let a=this.getGeneralDecoder().extractNumericValueFromBitArray($t.HEADER_SIZE+Tt.GTIN_SIZE+$t.LAST_DIGIT_SIZE,$t.FIRST_THREE_DIGITS_SIZE);a/100==0&&t.append("0"),a/10==0&&t.append("0"),t.append(a);let c=this.getGeneralDecoder().decodeGeneralPurposeField($t.HEADER_SIZE+Tt.GTIN_SIZE+$t.LAST_DIGIT_SIZE+$t.FIRST_THREE_DIGITS_SIZE,null);return t.append(c.getNewString()),t.toString()}}$t.HEADER_SIZE=8,$t.LAST_DIGIT_SIZE=2,$t.FIRST_THREE_DIGITS_SIZE=10;class vt extends rs{constructor(t,i,a){super(t),this.dateCode=a,this.firstAIdigits=i}parseInformation(){if(this.getInformation().getSize()!=vt.HEADER_SIZE+vt.GTIN_SIZE+vt.WEIGHT_SIZE+vt.DATE_SIZE)throw new te;let t=new Be;return this.encodeCompressedGtin(t,vt.HEADER_SIZE),this.encodeCompressedWeight(t,vt.HEADER_SIZE+vt.GTIN_SIZE,vt.WEIGHT_SIZE),this.encodeCompressedDate(t,vt.HEADER_SIZE+vt.GTIN_SIZE+vt.WEIGHT_SIZE),t.toString()}encodeCompressedDate(t,i){let a=this.getGeneralDecoder().extractNumericValueFromBitArray(i,vt.DATE_SIZE);if(a==38400)return;t.append("("),t.append(this.dateCode),t.append(")");let c=a%32;a/=32;let u=a%12+1;a/=12;let d=a;d/10==0&&t.append("0"),t.append(d),u/10==0&&t.append("0"),t.append(u),c/10==0&&t.append("0"),t.append(c)}addWeightCode(t,i){t.append("("),t.append(this.firstAIdigits),t.append(i/1e5),t.append(")")}checkWeight(t){return t%1e5}}vt.HEADER_SIZE=8,vt.WEIGHT_SIZE=20,vt.DATE_SIZE=16;function zr(N){try{if(N.get(1))return new si(N);if(!N.get(2))return new Ur(N);switch(Fn.extractNumericValueFromBitArray(N,1,4)){case 4:return new ho(N);case 5:return new Ta(N)}switch(Fn.extractNumericValueFromBitArray(N,1,5)){case 12:return new Qn(N);case 13:return new $t(N)}switch(Fn.extractNumericValueFromBitArray(N,1,7)){case 56:return new vt(N,"310","11");case 57:return new vt(N,"320","11");case 58:return new vt(N,"310","13");case 59:return new vt(N,"320","13");case 60:return new vt(N,"310","15");case 61:return new vt(N,"320","15");case 62:return new vt(N,"310","17");case 63:return new vt(N,"320","17")}}catch(t){throw console.log(t),new Wn("unknown decoder: "+N)}}class Hn{constructor(t,i,a,c){this.leftchar=t,this.rightchar=i,this.finderpattern=a,this.maybeLast=c}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(t,i){return t instanceof Hn?Hn.equalsOrNull(t.leftchar,i.leftchar)&&Hn.equalsOrNull(t.rightchar,i.rightchar)&&Hn.equalsOrNull(t.finderpattern,i.finderpattern):!1}static equalsOrNull(t,i){return t===null?i===null:Hn.equals(t,i)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class en{constructor(t,i,a){this.pairs=t,this.rowNumber=i,this.wasReversed=a}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(t){return this.checkEqualitity(this,t)}toString(){return"{ "+this.pairs+" }"}equals(t,i){return t instanceof en?this.checkEqualitity(t,i)&&t.wasReversed===i.wasReversed:!1}checkEqualitity(t,i){if(!t||!i)return;let a;return t.forEach((c,u)=>{i.forEach(d=>{c.getLeftChar().getValue()===d.getLeftChar().getValue()&&c.getRightChar().getValue()===d.getRightChar().getValue()&&c.getFinderPatter().getValue()===d.getFinderPatter().getValue()&&(a=!0)})}),a}}class ge extends An{constructor(t){super(...arguments),this.pairs=new Array(ge.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=t===!0}decodeRow(t,i,a){this.pairs.length=0,this.startFromEven=!1;try{return ge.constructResult(this.decodeRow2pairs(t,i))}catch(c){this.verbose&&console.log(c)}return this.pairs.length=0,this.startFromEven=!0,ge.constructResult(this.decodeRow2pairs(t,i))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(t,i){let a=!1;for(;!a;)try{this.pairs.push(this.retrieveNextPair(i,this.pairs,t))}catch(u){if(u instanceof te){if(!this.pairs.length)throw new te;a=!0}}if(this.checkChecksum())return this.pairs;let c;if(this.rows.length?c=!0:c=!1,this.storeRow(t,!1),c){let u=this.checkRowsBoolean(!1);if(u!=null||(u=this.checkRowsBoolean(!0),u!=null))return u}throw new te}checkRowsBoolean(t){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,t&&(this.rows=this.rows.reverse());let i=null;try{i=this.checkRows(new Array,0)}catch(a){this.verbose&&console.log(a)}return t&&(this.rows=this.rows.reverse()),i}checkRows(t,i){for(let a=i;a<this.rows.length;a++){let c=this.rows[a];this.pairs.length=0;for(let d of t)this.pairs.push(d.getPairs());if(this.pairs.push(c.getPairs()),!ge.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let u=new Array(t);u.push(c);try{return this.checkRows(u,a+1)}catch(d){this.verbose&&console.log(d)}}throw new te}static isValidSequence(t){for(let i of ge.FINDER_PATTERN_SEQUENCES){if(t.length>i.length)continue;let a=!0;for(let c=0;c<t.length;c++)if(t[c].getFinderPattern().getValue()!=i[c]){a=!1;break}if(a)return!0}return!1}storeRow(t,i){let a=0,c=!1,u=!1;for(;a<this.rows.length;){let d=this.rows[a];if(d.getRowNumber()>t){u=d.isEquivalent(this.pairs);break}c=d.isEquivalent(this.pairs),a++}u||c||ge.isPartialRow(this.pairs,this.rows)||(this.rows.push(a,new en(this.pairs,t,i)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(t,i){for(let a of i)if(a.getPairs().length!==t.length){for(let c of a.getPairs())for(let u of t)if(Hn.equals(c,u))break}}static isPartialRow(t,i){for(let a of i){let c=!0;for(let u of t){let d=!1;for(let g of a.getPairs())if(u.equals(g)){d=!0;break}if(!d){c=!1;break}}if(c)return!0}return!1}getRows(){return this.rows}static constructResult(t){let i=uo.buildBitArray(t),c=zr(i).parseInformation(),u=t[0].getFinderPattern().getResultPoints(),d=t[t.length-1].getFinderPattern().getResultPoints(),g=[u[0],u[1],d[0],d[1]];return new Ae(c,null,null,g,we.RSS_EXPANDED,null)}checkChecksum(){let t=this.pairs.get(0),i=t.getLeftChar(),a=t.getRightChar();if(a==null)return!1;let c=a.getChecksumPortion(),u=2;for(let g=1;g<this.pairs.size();++g){let x=this.pairs.get(g);c+=x.getLeftChar().getChecksumPortion(),u++;let A=x.getRightChar();A!=null&&(c+=A.getChecksumPortion(),u++)}return c%=211,211*(u-4)+c==i.getValue()}static getNextSecondBar(t,i){let a;return t.get(i)?(a=t.getNextUnset(i),a=t.getNextSet(a)):(a=t.getNextSet(i),a=t.getNextUnset(a)),a}retrieveNextPair(t,i,a){let c=i.length%2==0;this.startFromEven&&(c=!c);let u,d=!0,g=-1;do this.findNextPair(t,i,g),u=this.parseFoundFinderPattern(t,a,c),u==null?g=ge.getNextSecondBar(t,this.startEnd[0]):d=!1;while(d);let x=this.decodeDataCharacter(t,u,c,!0);if(!this.isEmptyPair(i)&&i[i.length-1].mustBeLast())throw new te;let A;try{A=this.decodeDataCharacter(t,u,c,!1)}catch(_){A=null,this.verbose&&console.log(_)}return new Hn(x,A,u,!0)}isEmptyPair(t){return t.length===0}findNextPair(t,i,a){let c=this.getDecodeFinderCounters();c[0]=0,c[1]=0,c[2]=0,c[3]=0;let u=t.getSize(),d;a>=0?d=a:this.isEmptyPair(i)?d=0:d=i[i.length-1].getFinderPattern().getStartEnd()[1];let g=i.length%2!=0;this.startFromEven&&(g=!g);let x=!1;for(;d<u&&(x=!t.get(d),!!x);)d++;let A=0,_=d;for(let O=d;O<u;O++)if(t.get(O)!=x)c[A]++;else{if(A==3){if(g&&ge.reverseCounters(c),ge.isFinderPattern(c)){this.startEnd[0]=_,this.startEnd[1]=O;return}g&&ge.reverseCounters(c),_+=c[0]+c[1],c[0]=c[2],c[1]=c[3],c[2]=0,c[3]=0,A--}else A++;c[A]=1,x=!x}throw new te}static reverseCounters(t){let i=t.length;for(let a=0;a<i/2;++a){let c=t[a];t[a]=t[i-a-1],t[i-a-1]=c}}parseFoundFinderPattern(t,i,a){let c,u,d;if(a){let A=this.startEnd[0]-1;for(;A>=0&&!t.get(A);)A--;A++,c=this.startEnd[0]-A,u=A,d=this.startEnd[1]}else u=this.startEnd[0],d=t.getNextUnset(this.startEnd[1]+1),c=d-this.startEnd[1];let g=this.getDecodeFinderCounters();G.arraycopy(g,0,g,1,g.length-1),g[0]=c;let x;try{x=this.parseFinderValue(g,ge.FINDER_PATTERNS)}catch{return null}return new $i(x,[u,d],u,d,i)}decodeDataCharacter(t,i,a,c){let u=this.getDataCharacterCounters();for(let _t=0;_t<u.length;_t++)u[_t]=0;if(c)ge.recordPatternInReverse(t,i.getStartEnd()[0],u);else{ge.recordPattern(t,i.getStartEnd()[1],u);for(let _t=0,_n=u.length-1;_t<_n;_t++,_n--){let Yn=u[_t];u[_t]=u[_n],u[_n]=Yn}}let d=17,g=it.sum(new Int32Array(u))/d,x=(i.getStartEnd()[1]-i.getStartEnd()[0])/15;if(Math.abs(g-x)/x>.3)throw new te;let A=this.getOddCounts(),_=this.getEvenCounts(),O=this.getOddRoundingErrors(),D=this.getEvenRoundingErrors();for(let _t=0;_t<u.length;_t++){let _n=1*u[_t]/g,Yn=_n+.5;if(Yn<1){if(_n<.3)throw new te;Yn=1}else if(Yn>8){if(_n>8.7)throw new te;Yn=8}let Kr=_t/2;(_t&1)==0?(A[Kr]=Yn,O[Kr]=_n-Yn):(_[Kr]=Yn,D[Kr]=_n-Yn)}this.adjustOddEvenCounts(d);let k=4*i.getValue()+(a?0:2)+(c?0:1)-1,z=0,P=0;for(let _t=A.length-1;_t>=0;_t--){if(ge.isNotA1left(i,a,c)){let _n=ge.WEIGHTS[k][2*_t];P+=A[_t]*_n}z+=A[_t]}let q=0;for(let _t=_.length-1;_t>=0;_t--)if(ge.isNotA1left(i,a,c)){let _n=ge.WEIGHTS[k][2*_t+1];q+=_[_t]*_n}let ie=P+q;if((z&1)!=0||z>13||z<4)throw new te;let ye=(13-z)/2,pe=ge.SYMBOL_WIDEST[ye],me=9-pe,tt=Si.getRSSvalue(A,pe,!0),We=Si.getRSSvalue(_,me,!1),tn=ge.EVEN_TOTAL_SUBSET[ye],$n=ge.GSUM[ye],Dn=tt*tn+We+$n;return new Ji(Dn,ie)}static isNotA1left(t,i,a){return!(t.getValue()==0&&i&&a)}adjustOddEvenCounts(t){let i=it.sum(new Int32Array(this.getOddCounts())),a=it.sum(new Int32Array(this.getEvenCounts())),c=!1,u=!1;i>13?u=!0:i<4&&(c=!0);let d=!1,g=!1;a>13?g=!0:a<4&&(d=!0);let x=i+a-t,A=(i&1)==1,_=(a&1)==0;if(x==1)if(A){if(_)throw new te;u=!0}else{if(!_)throw new te;g=!0}else if(x==-1)if(A){if(_)throw new te;c=!0}else{if(!_)throw new te;d=!0}else if(x==0){if(A){if(!_)throw new te;i<a?(c=!0,g=!0):(u=!0,d=!0)}else if(_)throw new te}else throw new te;if(c){if(u)throw new te;ge.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(u&&ge.decrement(this.getOddCounts(),this.getOddRoundingErrors()),d){if(g)throw new te;ge.increment(this.getEvenCounts(),this.getOddRoundingErrors())}g&&ge.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}ge.SYMBOL_WIDEST=[7,5,4,3,1],ge.EVEN_TOTAL_SUBSET=[4,20,52,104,204],ge.GSUM=[0,348,1388,2948,3988],ge.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],ge.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],ge.FINDER_PAT_A=0,ge.FINDER_PAT_B=1,ge.FINDER_PAT_C=2,ge.FINDER_PAT_D=3,ge.FINDER_PAT_E=4,ge.FINDER_PAT_F=5,ge.FINDER_PATTERN_SEQUENCES=[[ge.FINDER_PAT_A,ge.FINDER_PAT_A],[ge.FINDER_PAT_A,ge.FINDER_PAT_B,ge.FINDER_PAT_B],[ge.FINDER_PAT_A,ge.FINDER_PAT_C,ge.FINDER_PAT_B,ge.FINDER_PAT_D],[ge.FINDER_PAT_A,ge.FINDER_PAT_E,ge.FINDER_PAT_B,ge.FINDER_PAT_D,ge.FINDER_PAT_C],[ge.FINDER_PAT_A,ge.FINDER_PAT_E,ge.FINDER_PAT_B,ge.FINDER_PAT_D,ge.FINDER_PAT_D,ge.FINDER_PAT_F],[ge.FINDER_PAT_A,ge.FINDER_PAT_E,ge.FINDER_PAT_B,ge.FINDER_PAT_D,ge.FINDER_PAT_E,ge.FINDER_PAT_F,ge.FINDER_PAT_F],[ge.FINDER_PAT_A,ge.FINDER_PAT_A,ge.FINDER_PAT_B,ge.FINDER_PAT_B,ge.FINDER_PAT_C,ge.FINDER_PAT_C,ge.FINDER_PAT_D,ge.FINDER_PAT_D],[ge.FINDER_PAT_A,ge.FINDER_PAT_A,ge.FINDER_PAT_B,ge.FINDER_PAT_B,ge.FINDER_PAT_C,ge.FINDER_PAT_C,ge.FINDER_PAT_D,ge.FINDER_PAT_E,ge.FINDER_PAT_E],[ge.FINDER_PAT_A,ge.FINDER_PAT_A,ge.FINDER_PAT_B,ge.FINDER_PAT_B,ge.FINDER_PAT_C,ge.FINDER_PAT_C,ge.FINDER_PAT_D,ge.FINDER_PAT_E,ge.FINDER_PAT_F,ge.FINDER_PAT_F],[ge.FINDER_PAT_A,ge.FINDER_PAT_A,ge.FINDER_PAT_B,ge.FINDER_PAT_B,ge.FINDER_PAT_C,ge.FINDER_PAT_D,ge.FINDER_PAT_D,ge.FINDER_PAT_E,ge.FINDER_PAT_E,ge.FINDER_PAT_F,ge.FINDER_PAT_F]],ge.MAX_PAIRS=11;class fo extends Ji{constructor(t,i,a){super(t,i),this.count=0,this.finderPattern=a}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Et extends An{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(t,i,a){const c=this.decodePair(i,!1,t,a);Et.addOrTally(this.possibleLeftPairs,c),i.reverse();let u=this.decodePair(i,!0,t,a);Et.addOrTally(this.possibleRightPairs,u),i.reverse();for(let d of this.possibleLeftPairs)if(d.getCount()>1){for(let g of this.possibleRightPairs)if(g.getCount()>1&&Et.checkChecksum(d,g))return Et.constructResult(d,g)}throw new te}static addOrTally(t,i){if(i==null)return;let a=!1;for(let c of t)if(c.getValue()===i.getValue()){c.incrementCount(),a=!0;break}a||t.push(i)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(t,i){let a=4537077*t.getValue()+i.getValue(),c=new String(a).toString(),u=new Be;for(let A=13-c.length;A>0;A--)u.append("0");u.append(c);let d=0;for(let A=0;A<13;A++){let _=u.charAt(A).charCodeAt(0)-48;d+=(A&1)===0?3*_:_}d=10-d%10,d===10&&(d=0),u.append(d.toString());let g=t.getFinderPattern().getResultPoints(),x=i.getFinderPattern().getResultPoints();return new Ae(u.toString(),null,0,[g[0],g[1],x[0],x[1]],we.RSS_14,new Date().getTime())}static checkChecksum(t,i){let a=(t.getChecksumPortion()+16*i.getChecksumPortion())%79,c=9*t.getFinderPattern().getValue()+i.getFinderPattern().getValue();return c>72&&c--,c>8&&c--,a===c}decodePair(t,i,a,c){try{let u=this.findFinderPattern(t,i),d=this.parseFoundFinderPattern(t,a,i,u),g=c==null?null:c.get(ve.NEED_RESULT_POINT_CALLBACK);if(g!=null){let _=(u[0]+u[1])/2;i&&(_=t.getSize()-1-_),g.foundPossibleResultPoint(new Te(_,a))}let x=this.decodeDataCharacter(t,d,!0),A=this.decodeDataCharacter(t,d,!1);return new fo(1597*x.getValue()+A.getValue(),x.getChecksumPortion()+4*A.getChecksumPortion(),d)}catch{return null}}decodeDataCharacter(t,i,a){let c=this.getDataCharacterCounters();for(let q=0;q<c.length;q++)c[q]=0;if(a)Ft.recordPatternInReverse(t,i.getStartEnd()[0],c);else{Ft.recordPattern(t,i.getStartEnd()[1]+1,c);for(let q=0,ie=c.length-1;q<ie;q++,ie--){let ye=c[q];c[q]=c[ie],c[ie]=ye}}let u=a?16:15,d=it.sum(new Int32Array(c))/u,g=this.getOddCounts(),x=this.getEvenCounts(),A=this.getOddRoundingErrors(),_=this.getEvenRoundingErrors();for(let q=0;q<c.length;q++){let ie=c[q]/d,ye=Math.floor(ie+.5);ye<1?ye=1:ye>8&&(ye=8);let pe=Math.floor(q/2);(q&1)===0?(g[pe]=ye,A[pe]=ie-ye):(x[pe]=ye,_[pe]=ie-ye)}this.adjustOddEvenCounts(a,u);let O=0,D=0;for(let q=g.length-1;q>=0;q--)D*=9,D+=g[q],O+=g[q];let k=0,z=0;for(let q=x.length-1;q>=0;q--)k*=9,k+=x[q],z+=x[q];let P=D+3*k;if(a){if((O&1)!==0||O>12||O<4)throw new te;let q=(12-O)/2,ie=Et.OUTSIDE_ODD_WIDEST[q],ye=9-ie,pe=Si.getRSSvalue(g,ie,!1),me=Si.getRSSvalue(x,ye,!0),tt=Et.OUTSIDE_EVEN_TOTAL_SUBSET[q],We=Et.OUTSIDE_GSUM[q];return new Ji(pe*tt+me+We,P)}else{if((z&1)!==0||z>10||z<4)throw new te;let q=(10-z)/2,ie=Et.INSIDE_ODD_WIDEST[q],ye=9-ie,pe=Si.getRSSvalue(g,ie,!0),me=Si.getRSSvalue(x,ye,!1),tt=Et.INSIDE_ODD_TOTAL_SUBSET[q],We=Et.INSIDE_GSUM[q];return new Ji(me*tt+pe+We,P)}}findFinderPattern(t,i){let a=this.getDecodeFinderCounters();a[0]=0,a[1]=0,a[2]=0,a[3]=0;let c=t.getSize(),u=!1,d=0;for(;d<c&&(u=!t.get(d),i!==u);)d++;let g=0,x=d;for(let A=d;A<c;A++)if(t.get(A)!==u)a[g]++;else{if(g===3){if(An.isFinderPattern(a))return[x,A];x+=a[0]+a[1],a[0]=a[2],a[1]=a[3],a[2]=0,a[3]=0,g--}else g++;a[g]=1,u=!u}throw new te}parseFoundFinderPattern(t,i,a,c){let u=t.get(c[0]),d=c[0]-1;for(;d>=0&&u!==t.get(d);)d--;d++;const g=c[0]-d,x=this.getDecodeFinderCounters(),A=new Int32Array(x.length);G.arraycopy(x,0,A,1,x.length-1),A[0]=g;const _=this.parseFinderValue(A,Et.FINDER_PATTERNS);let O=d,D=c[1];return a&&(O=t.getSize()-1-O,D=t.getSize()-1-D),new $i(_,[d,c[1]],O,D,i)}adjustOddEvenCounts(t,i){let a=it.sum(new Int32Array(this.getOddCounts())),c=it.sum(new Int32Array(this.getEvenCounts())),u=!1,d=!1,g=!1,x=!1;t?(a>12?d=!0:a<4&&(u=!0),c>12?x=!0:c<4&&(g=!0)):(a>11?d=!0:a<5&&(u=!0),c>10?x=!0:c<4&&(g=!0));let A=a+c-i,_=(a&1)===(t?1:0),O=(c&1)===1;if(A===1)if(_){if(O)throw new te;d=!0}else{if(!O)throw new te;x=!0}else if(A===-1)if(_){if(O)throw new te;u=!0}else{if(!O)throw new te;g=!0}else if(A===0){if(_){if(!O)throw new te;a<c?(u=!0,x=!0):(d=!0,g=!0)}else if(O)throw new te}else throw new te;if(u){if(d)throw new te;An.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(d&&An.decrement(this.getOddCounts(),this.getOddRoundingErrors()),g){if(x)throw new te;An.increment(this.getEvenCounts(),this.getOddRoundingErrors())}x&&An.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Et.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Et.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Et.OUTSIDE_GSUM=[0,161,961,2015,2715],Et.INSIDE_GSUM=[0,336,1036,1516],Et.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Et.INSIDE_ODD_WIDEST=[2,4,6,8],Et.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class li extends Ft{constructor(t,i){super(),this.readers=[],this.verbose=i===!0;const a=t?t.get(ve.POSSIBLE_FORMATS):null,c=t&&t.get(ve.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;a?((a.includes(we.EAN_13)||a.includes(we.UPC_A)||a.includes(we.EAN_8)||a.includes(we.UPC_E))&&this.readers.push(new rl(t)),a.includes(we.CODE_39)&&this.readers.push(new Dt(c)),a.includes(we.CODE_128)&&this.readers.push(new xe),a.includes(we.ITF)&&this.readers.push(new Je),a.includes(we.RSS_14)&&this.readers.push(new Et),a.includes(we.RSS_EXPANDED)&&this.readers.push(new ge(this.verbose))):(this.readers.push(new rl(t)),this.readers.push(new Dt),this.readers.push(new rl(t)),this.readers.push(new xe),this.readers.push(new Je),this.readers.push(new Et),this.readers.push(new ge(this.verbose)))}decodeRow(t,i,a){for(let c=0;c<this.readers.length;c++)try{return this.readers[c].decodeRow(t,i,a)}catch{}throw new te}reset(){this.readers.forEach(t=>t.reset())}}class Xc extends be{constructor(t=500,i){super(new li(i),t,i)}}class pt{constructor(t,i,a){this.ecCodewords=t,this.ecBlocks=[i],a&&this.ecBlocks.push(a)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class mt{constructor(t,i){this.count=t,this.dataCodewords=i}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class rt{constructor(t,i,a,c,u,d){this.versionNumber=t,this.symbolSizeRows=i,this.symbolSizeColumns=a,this.dataRegionSizeRows=c,this.dataRegionSizeColumns=u,this.ecBlocks=d;let g=0;const x=d.getECCodewords(),A=d.getECBlocks();for(let _ of A)g+=_.getCount()*(_.getDataCodewords()+x);this.totalCodewords=g}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(t,i){if((t&1)!==0||(i&1)!==0)throw new K;for(let a of rt.VERSIONS)if(a.symbolSizeRows===t&&a.symbolSizeColumns===i)return a;throw new K}toString(){return""+this.versionNumber}static buildVersions(){return[new rt(1,10,10,8,8,new pt(5,new mt(1,3))),new rt(2,12,12,10,10,new pt(7,new mt(1,5))),new rt(3,14,14,12,12,new pt(10,new mt(1,8))),new rt(4,16,16,14,14,new pt(12,new mt(1,12))),new rt(5,18,18,16,16,new pt(14,new mt(1,18))),new rt(6,20,20,18,18,new pt(18,new mt(1,22))),new rt(7,22,22,20,20,new pt(20,new mt(1,30))),new rt(8,24,24,22,22,new pt(24,new mt(1,36))),new rt(9,26,26,24,24,new pt(28,new mt(1,44))),new rt(10,32,32,14,14,new pt(36,new mt(1,62))),new rt(11,36,36,16,16,new pt(42,new mt(1,86))),new rt(12,40,40,18,18,new pt(48,new mt(1,114))),new rt(13,44,44,20,20,new pt(56,new mt(1,144))),new rt(14,48,48,22,22,new pt(68,new mt(1,174))),new rt(15,52,52,24,24,new pt(42,new mt(2,102))),new rt(16,64,64,14,14,new pt(56,new mt(2,140))),new rt(17,72,72,16,16,new pt(36,new mt(4,92))),new rt(18,80,80,18,18,new pt(48,new mt(4,114))),new rt(19,88,88,20,20,new pt(56,new mt(4,144))),new rt(20,96,96,22,22,new pt(68,new mt(4,174))),new rt(21,104,104,24,24,new pt(56,new mt(6,136))),new rt(22,120,120,18,18,new pt(68,new mt(6,175))),new rt(23,132,132,20,20,new pt(62,new mt(8,163))),new rt(24,144,144,22,22,new pt(62,new mt(8,156),new mt(2,155))),new rt(25,8,18,6,16,new pt(7,new mt(1,5))),new rt(26,8,32,6,14,new pt(11,new mt(1,10))),new rt(27,12,26,10,24,new pt(14,new mt(1,16))),new rt(28,12,36,10,16,new pt(18,new mt(1,22))),new rt(29,16,36,14,16,new pt(24,new mt(1,32))),new rt(30,16,48,14,22,new pt(28,new mt(1,49)))]}}rt.VERSIONS=rt.buildVersions();class Pr{constructor(t){const i=t.getHeight();if(i<8||i>144||(i&1)!==0)throw new K;this.version=Pr.readVersion(t),this.mappingBitMatrix=this.extractDataRegion(t),this.readMappingMatrix=new Ye(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(t){const i=t.getHeight(),a=t.getWidth();return rt.getVersionForDimensions(i,a)}readCodewords(){const t=new Int8Array(this.version.getTotalCodewords());let i=0,a=4,c=0;const u=this.mappingBitMatrix.getHeight(),d=this.mappingBitMatrix.getWidth();let g=!1,x=!1,A=!1,_=!1;do if(a===u&&c===0&&!g)t[i++]=this.readCorner1(u,d)&255,a-=2,c+=2,g=!0;else if(a===u-2&&c===0&&(d&3)!==0&&!x)t[i++]=this.readCorner2(u,d)&255,a-=2,c+=2,x=!0;else if(a===u+4&&c===2&&(d&7)===0&&!A)t[i++]=this.readCorner3(u,d)&255,a-=2,c+=2,A=!0;else if(a===u-2&&c===0&&(d&7)===4&&!_)t[i++]=this.readCorner4(u,d)&255,a-=2,c+=2,_=!0;else{do a<u&&c>=0&&!this.readMappingMatrix.get(c,a)&&(t[i++]=this.readUtah(a,c,u,d)&255),a-=2,c+=2;while(a>=0&&c<d);a+=1,c+=3;do a>=0&&c<d&&!this.readMappingMatrix.get(c,a)&&(t[i++]=this.readUtah(a,c,u,d)&255),a+=2,c-=2;while(a<u&&c>=0);a+=3,c+=1}while(a<u||c<d);if(i!==this.version.getTotalCodewords())throw new K;return t}readModule(t,i,a,c){return t<0&&(t+=a,i+=4-(a+4&7)),i<0&&(i+=c,t+=4-(c+4&7)),this.readMappingMatrix.set(i,t),this.mappingBitMatrix.get(i,t)}readUtah(t,i,a,c){let u=0;return this.readModule(t-2,i-2,a,c)&&(u|=1),u<<=1,this.readModule(t-2,i-1,a,c)&&(u|=1),u<<=1,this.readModule(t-1,i-2,a,c)&&(u|=1),u<<=1,this.readModule(t-1,i-1,a,c)&&(u|=1),u<<=1,this.readModule(t-1,i,a,c)&&(u|=1),u<<=1,this.readModule(t,i-2,a,c)&&(u|=1),u<<=1,this.readModule(t,i-1,a,c)&&(u|=1),u<<=1,this.readModule(t,i,a,c)&&(u|=1),u}readCorner1(t,i){let a=0;return this.readModule(t-1,0,t,i)&&(a|=1),a<<=1,this.readModule(t-1,1,t,i)&&(a|=1),a<<=1,this.readModule(t-1,2,t,i)&&(a|=1),a<<=1,this.readModule(0,i-2,t,i)&&(a|=1),a<<=1,this.readModule(0,i-1,t,i)&&(a|=1),a<<=1,this.readModule(1,i-1,t,i)&&(a|=1),a<<=1,this.readModule(2,i-1,t,i)&&(a|=1),a<<=1,this.readModule(3,i-1,t,i)&&(a|=1),a}readCorner2(t,i){let a=0;return this.readModule(t-3,0,t,i)&&(a|=1),a<<=1,this.readModule(t-2,0,t,i)&&(a|=1),a<<=1,this.readModule(t-1,0,t,i)&&(a|=1),a<<=1,this.readModule(0,i-4,t,i)&&(a|=1),a<<=1,this.readModule(0,i-3,t,i)&&(a|=1),a<<=1,this.readModule(0,i-2,t,i)&&(a|=1),a<<=1,this.readModule(0,i-1,t,i)&&(a|=1),a<<=1,this.readModule(1,i-1,t,i)&&(a|=1),a}readCorner3(t,i){let a=0;return this.readModule(t-1,0,t,i)&&(a|=1),a<<=1,this.readModule(t-1,i-1,t,i)&&(a|=1),a<<=1,this.readModule(0,i-3,t,i)&&(a|=1),a<<=1,this.readModule(0,i-2,t,i)&&(a|=1),a<<=1,this.readModule(0,i-1,t,i)&&(a|=1),a<<=1,this.readModule(1,i-3,t,i)&&(a|=1),a<<=1,this.readModule(1,i-2,t,i)&&(a|=1),a<<=1,this.readModule(1,i-1,t,i)&&(a|=1),a}readCorner4(t,i){let a=0;return this.readModule(t-3,0,t,i)&&(a|=1),a<<=1,this.readModule(t-2,0,t,i)&&(a|=1),a<<=1,this.readModule(t-1,0,t,i)&&(a|=1),a<<=1,this.readModule(0,i-2,t,i)&&(a|=1),a<<=1,this.readModule(0,i-1,t,i)&&(a|=1),a<<=1,this.readModule(1,i-1,t,i)&&(a|=1),a<<=1,this.readModule(2,i-1,t,i)&&(a|=1),a<<=1,this.readModule(3,i-1,t,i)&&(a|=1),a}extractDataRegion(t){const i=this.version.getSymbolSizeRows(),a=this.version.getSymbolSizeColumns();if(t.getHeight()!==i)throw new R("Dimension of bitMatrix must match the version size");const c=this.version.getDataRegionSizeRows(),u=this.version.getDataRegionSizeColumns(),d=i/c|0,g=a/u|0,x=d*c,A=g*u,_=new Ye(A,x);for(let O=0;O<d;++O){const D=O*c;for(let k=0;k<g;++k){const z=k*u;for(let P=0;P<c;++P){const q=O*(c+2)+1+P,ie=D+P;for(let ye=0;ye<u;++ye){const pe=k*(u+2)+1+ye;if(t.get(pe,q)){const me=z+ye;_.set(me,ie)}}}}}return _}}class Fr{constructor(t,i){this.numDataCodewords=t,this.codewords=i}static getDataBlocks(t,i){const a=i.getECBlocks();let c=0;const u=a.getECBlocks();for(let P of u)c+=P.getCount();const d=new Array(c);let g=0;for(let P of u)for(let q=0;q<P.getCount();q++){const ie=P.getDataCodewords(),ye=a.getECCodewords()+ie;d[g++]=new Fr(ie,new Uint8Array(ye))}const A=d[0].codewords.length-a.getECCodewords(),_=A-1;let O=0;for(let P=0;P<_;P++)for(let q=0;q<g;q++)d[q].codewords[P]=t[O++];const D=i.getVersionNumber()===24,k=D?8:g;for(let P=0;P<k;P++)d[P].codewords[A-1]=t[O++];const z=d[0].codewords.length;for(let P=A;P<z;P++)for(let q=0;q<g;q++){const ie=D?(q+8)%g:q,ye=D&&ie>7?P-1:P;d[ie].codewords[ye]=t[O++]}if(O!==t.length)throw new R;return d}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class oi{constructor(t){this.bytes=t,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(t){if(t<1||t>32||t>this.available())throw new R(""+t);let i=0,a=this.bitOffset,c=this.byteOffset;const u=this.bytes;if(a>0){const d=8-a,g=t<d?t:d,x=d-g,A=255>>8-g<<x;i=(u[c]&A)>>x,t-=g,a+=g,a===8&&(a=0,c++)}if(t>0){for(;t>=8;)i=i<<8|u[c]&255,c++,t-=8;if(t>0){const d=8-t,g=255>>d<<d;i=i<<t|(u[c]&g)>>d,a+=t}}return this.bitOffset=a,this.byteOffset=c,i}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var yt;(function(N){N[N.PAD_ENCODE=0]="PAD_ENCODE",N[N.ASCII_ENCODE=1]="ASCII_ENCODE",N[N.C40_ENCODE=2]="C40_ENCODE",N[N.TEXT_ENCODE=3]="TEXT_ENCODE",N[N.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",N[N.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",N[N.BASE256_ENCODE=6]="BASE256_ENCODE"})(yt||(yt={}));class Ui{static decode(t){const i=new oi(t),a=new Be,c=new Be,u=new Array;let d=yt.ASCII_ENCODE;do if(d===yt.ASCII_ENCODE)d=this.decodeAsciiSegment(i,a,c);else{switch(d){case yt.C40_ENCODE:this.decodeC40Segment(i,a);break;case yt.TEXT_ENCODE:this.decodeTextSegment(i,a);break;case yt.ANSIX12_ENCODE:this.decodeAnsiX12Segment(i,a);break;case yt.EDIFACT_ENCODE:this.decodeEdifactSegment(i,a);break;case yt.BASE256_ENCODE:this.decodeBase256Segment(i,a,u);break;default:throw new K}d=yt.ASCII_ENCODE}while(d!==yt.PAD_ENCODE&&i.available()>0);return c.length()>0&&a.append(c.toString()),new kt(t,a.toString(),u.length===0?null:u,null)}static decodeAsciiSegment(t,i,a){let c=!1;do{let u=t.readBits(8);if(u===0)throw new K;if(u<=128)return c&&(u+=128),i.append(String.fromCharCode(u-1)),yt.ASCII_ENCODE;if(u===129)return yt.PAD_ENCODE;if(u<=229){const d=u-130;d<10&&i.append("0"),i.append(""+d)}else switch(u){case 230:return yt.C40_ENCODE;case 231:return yt.BASE256_ENCODE;case 232:i.append("");break;case 233:case 234:break;case 235:c=!0;break;case 236:i.append("[)>05"),a.insert(0,"");break;case 237:i.append("[)>06"),a.insert(0,"");break;case 238:return yt.ANSIX12_ENCODE;case 239:return yt.TEXT_ENCODE;case 240:return yt.EDIFACT_ENCODE;case 241:break;default:if(u!==254||t.available()!==0)throw new K;break}}while(t.available()>0);return yt.ASCII_ENCODE}static decodeC40Segment(t,i){let a=!1;const c=[];let u=0;do{if(t.available()===8)return;const d=t.readBits(8);if(d===254)return;this.parseTwoBytes(d,t.readBits(8),c);for(let g=0;g<3;g++){const x=c[g];switch(u){case 0:if(x<3)u=x+1;else if(x<this.C40_BASIC_SET_CHARS.length){const A=this.C40_BASIC_SET_CHARS[x];a?(i.append(String.fromCharCode(A.charCodeAt(0)+128)),a=!1):i.append(A)}else throw new K;break;case 1:a?(i.append(String.fromCharCode(x+128)),a=!1):i.append(String.fromCharCode(x)),u=0;break;case 2:if(x<this.C40_SHIFT2_SET_CHARS.length){const A=this.C40_SHIFT2_SET_CHARS[x];a?(i.append(String.fromCharCode(A.charCodeAt(0)+128)),a=!1):i.append(A)}else switch(x){case 27:i.append("");break;case 30:a=!0;break;default:throw new K}u=0;break;case 3:a?(i.append(String.fromCharCode(x+224)),a=!1):i.append(String.fromCharCode(x+96)),u=0;break;default:throw new K}}}while(t.available()>0)}static decodeTextSegment(t,i){let a=!1,c=[],u=0;do{if(t.available()===8)return;const d=t.readBits(8);if(d===254)return;this.parseTwoBytes(d,t.readBits(8),c);for(let g=0;g<3;g++){const x=c[g];switch(u){case 0:if(x<3)u=x+1;else if(x<this.TEXT_BASIC_SET_CHARS.length){const A=this.TEXT_BASIC_SET_CHARS[x];a?(i.append(String.fromCharCode(A.charCodeAt(0)+128)),a=!1):i.append(A)}else throw new K;break;case 1:a?(i.append(String.fromCharCode(x+128)),a=!1):i.append(String.fromCharCode(x)),u=0;break;case 2:if(x<this.TEXT_SHIFT2_SET_CHARS.length){const A=this.TEXT_SHIFT2_SET_CHARS[x];a?(i.append(String.fromCharCode(A.charCodeAt(0)+128)),a=!1):i.append(A)}else switch(x){case 27:i.append("");break;case 30:a=!0;break;default:throw new K}u=0;break;case 3:if(x<this.TEXT_SHIFT3_SET_CHARS.length){const A=this.TEXT_SHIFT3_SET_CHARS[x];a?(i.append(String.fromCharCode(A.charCodeAt(0)+128)),a=!1):i.append(A),u=0}else throw new K;break;default:throw new K}}}while(t.available()>0)}static decodeAnsiX12Segment(t,i){const a=[];do{if(t.available()===8)return;const c=t.readBits(8);if(c===254)return;this.parseTwoBytes(c,t.readBits(8),a);for(let u=0;u<3;u++){const d=a[u];switch(d){case 0:i.append("\r");break;case 1:i.append("*");break;case 2:i.append(">");break;case 3:i.append(" ");break;default:if(d<14)i.append(String.fromCharCode(d+44));else if(d<40)i.append(String.fromCharCode(d+51));else throw new K;break}}}while(t.available()>0)}static parseTwoBytes(t,i,a){let c=(t<<8)+i-1,u=Math.floor(c/1600);a[0]=u,c-=u*1600,u=Math.floor(c/40),a[1]=u,a[2]=c-u*40}static decodeEdifactSegment(t,i){do{if(t.available()<=16)return;for(let a=0;a<4;a++){let c=t.readBits(6);if(c===31){const u=8-t.getBitOffset();u!==8&&t.readBits(u);return}(c&32)===0&&(c|=64),i.append(String.fromCharCode(c))}}while(t.available()>0)}static decodeBase256Segment(t,i,a){let c=1+t.getByteOffset();const u=this.unrandomize255State(t.readBits(8),c++);let d;if(u===0?d=t.available()/8|0:u<250?d=u:d=250*(u-249)+this.unrandomize255State(t.readBits(8),c++),d<0)throw new K;const g=new Uint8Array(d);for(let x=0;x<d;x++){if(t.available()<8)throw new K;g[x]=this.unrandomize255State(t.readBits(8),c++)}a.push(g);try{i.append(Ue.decode(g,Ee.ISO88591))}catch(x){throw new Wn("Platform does not support required encoding: "+x.message)}}static unrandomize255State(t,i){const a=149*i%255+1,c=t-a;return c>=0?c:c+256}}Ui.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Ui.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Ui.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Ui.TEXT_SHIFT2_SET_CHARS=Ui.C40_SHIFT2_SET_CHARS,Ui.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class Wc{constructor(){this.rsDecoder=new ur(gt.DATA_MATRIX_FIELD_256)}decode(t){const i=new Pr(t),a=i.getVersion(),c=i.readCodewords(),u=Fr.getDataBlocks(c,a);let d=0;for(let A of u)d+=A.getNumDataCodewords();const g=new Uint8Array(d),x=u.length;for(let A=0;A<x;A++){const _=u[A],O=_.getCodewords(),D=_.getNumDataCodewords();this.correctErrors(O,D);for(let k=0;k<D;k++)g[k*x+A]=O[k]}return Ui.decode(g)}correctErrors(t,i){const a=new Int32Array(t);try{this.rsDecoder.decode(a,t.length-i)}catch{throw new j}for(let c=0;c<i;c++)t[c]=a[c]}}class Gt{constructor(t){this.image=t,this.rectangleDetector=new Kt(this.image)}detect(){const t=this.rectangleDetector.detect();let i=this.detectSolid1(t);if(i=this.detectSolid2(i),i[3]=this.correctTopRight(i),!i[3])throw new te;i=this.shiftToModuleCenter(i);const a=i[0],c=i[1],u=i[2],d=i[3];let g=this.transitionsBetween(a,d)+1,x=this.transitionsBetween(u,d)+1;(g&1)===1&&(g+=1),(x&1)===1&&(x+=1),4*g<7*x&&4*x<7*g&&(g=x=Math.max(g,x));let A=Gt.sampleGrid(this.image,a,c,u,d,g,x);return new ts(A,[a,c,u,d])}static shiftPoint(t,i,a){let c=(i.getX()-t.getX())/(a+1),u=(i.getY()-t.getY())/(a+1);return new Te(t.getX()+c,t.getY()+u)}static moveAway(t,i,a){let c=t.getX(),u=t.getY();return c<i?c-=1:c+=1,u<a?u-=1:u+=1,new Te(c,u)}detectSolid1(t){let i=t[0],a=t[1],c=t[3],u=t[2],d=this.transitionsBetween(i,a),g=this.transitionsBetween(a,c),x=this.transitionsBetween(c,u),A=this.transitionsBetween(u,i),_=d,O=[u,i,a,c];return _>g&&(_=g,O[0]=i,O[1]=a,O[2]=c,O[3]=u),_>x&&(_=x,O[0]=a,O[1]=c,O[2]=u,O[3]=i),_>A&&(O[0]=c,O[1]=u,O[2]=i,O[3]=a),O}detectSolid2(t){let i=t[0],a=t[1],c=t[2],u=t[3],d=this.transitionsBetween(i,u),g=Gt.shiftPoint(a,c,(d+1)*4),x=Gt.shiftPoint(c,a,(d+1)*4),A=this.transitionsBetween(g,i),_=this.transitionsBetween(x,u);return A<_?(t[0]=i,t[1]=a,t[2]=c,t[3]=u):(t[0]=a,t[1]=c,t[2]=u,t[3]=i),t}correctTopRight(t){let i=t[0],a=t[1],c=t[2],u=t[3],d=this.transitionsBetween(i,u),g=this.transitionsBetween(a,u),x=Gt.shiftPoint(i,a,(g+1)*4),A=Gt.shiftPoint(c,a,(d+1)*4);d=this.transitionsBetween(x,u),g=this.transitionsBetween(A,u);let _=new Te(u.getX()+(c.getX()-a.getX())/(d+1),u.getY()+(c.getY()-a.getY())/(d+1)),O=new Te(u.getX()+(i.getX()-a.getX())/(g+1),u.getY()+(i.getY()-a.getY())/(g+1));if(!this.isValid(_))return this.isValid(O)?O:null;if(!this.isValid(O))return _;let D=this.transitionsBetween(x,_)+this.transitionsBetween(A,_),k=this.transitionsBetween(x,O)+this.transitionsBetween(A,O);return D>k?_:O}shiftToModuleCenter(t){let i=t[0],a=t[1],c=t[2],u=t[3],d=this.transitionsBetween(i,u)+1,g=this.transitionsBetween(c,u)+1,x=Gt.shiftPoint(i,a,g*4),A=Gt.shiftPoint(c,a,d*4);d=this.transitionsBetween(x,u)+1,g=this.transitionsBetween(A,u)+1,(d&1)===1&&(d+=1),(g&1)===1&&(g+=1);let _=(i.getX()+a.getX()+c.getX()+u.getX())/4,O=(i.getY()+a.getY()+c.getY()+u.getY())/4;i=Gt.moveAway(i,_,O),a=Gt.moveAway(a,_,O),c=Gt.moveAway(c,_,O),u=Gt.moveAway(u,_,O);let D,k;return x=Gt.shiftPoint(i,a,g*4),x=Gt.shiftPoint(x,u,d*4),D=Gt.shiftPoint(a,i,g*4),D=Gt.shiftPoint(D,c,d*4),A=Gt.shiftPoint(c,u,g*4),A=Gt.shiftPoint(A,a,d*4),k=Gt.shiftPoint(u,c,g*4),k=Gt.shiftPoint(k,i,d*4),[x,D,A,k]}isValid(t){return t.getX()>=0&&t.getX()<this.image.getWidth()&&t.getY()>0&&t.getY()<this.image.getHeight()}static sampleGrid(t,i,a,c,u,d,g){return ai.getInstance().sampleGrid(t,d,g,.5,.5,d-.5,.5,d-.5,g-.5,.5,g-.5,i.getX(),i.getY(),u.getX(),u.getY(),c.getX(),c.getY(),a.getX(),a.getY())}transitionsBetween(t,i){let a=Math.trunc(t.getX()),c=Math.trunc(t.getY()),u=Math.trunc(i.getX()),d=Math.trunc(i.getY()),g=Math.abs(d-c)>Math.abs(u-a);if(g){let P=a;a=c,c=P,P=u,u=d,d=P}let x=Math.abs(u-a),A=Math.abs(d-c),_=-x/2,O=c<d?1:-1,D=a<u?1:-1,k=0,z=this.image.get(g?c:a,g?a:c);for(let P=a,q=c;P!==u;P+=D){let ie=this.image.get(g?q:P,g?P:q);if(ie!==z&&(k++,z=ie),_+=A,_>0){if(q===d)break;q+=O,_-=x}}return k}}class zi{constructor(){this.decoder=new Wc}decode(t,i=null){let a,c;if(i!=null&&i.has(ve.PURE_BARCODE)){const A=zi.extractPureBits(t.getBlackMatrix());a=this.decoder.decode(A),c=zi.NO_POINTS}else{const A=new Gt(t.getBlackMatrix()).detect();a=this.decoder.decode(A.getBits()),c=A.getPoints()}const u=a.getRawBytes(),d=new Ae(a.getText(),u,8*u.length,c,we.DATA_MATRIX,G.currentTimeMillis()),g=a.getByteSegments();g!=null&&d.putMetadata(dt.BYTE_SEGMENTS,g);const x=a.getECLevel();return x!=null&&d.putMetadata(dt.ERROR_CORRECTION_LEVEL,x),d}reset(){}static extractPureBits(t){const i=t.getTopLeftOnBit(),a=t.getBottomRightOnBit();if(i==null||a==null)throw new te;const c=this.moduleSize(i,t);let u=i[1];const d=a[1];let g=i[0];const A=(a[0]-g+1)/c,_=(d-u+1)/c;if(A<=0||_<=0)throw new te;const O=c/2;u+=O,g+=O;const D=new Ye(A,_);for(let k=0;k<_;k++){const z=u+k*c;for(let P=0;P<A;P++)t.get(g+P*c,z)&&D.set(P,k)}return D}static moduleSize(t,i){const a=i.getWidth();let c=t[0];const u=t[1];for(;c<a&&i.get(c,u);)c++;if(c===a)throw new te;const d=c-t[0];if(d===0)throw new te;return d}}zi.NO_POINTS=[];class as extends be{constructor(t=500){super(new zi,t)}}var Hr;(function(N){N[N.L=0]="L",N[N.M=1]="M",N[N.Q=2]="Q",N[N.H=3]="H"})(Hr||(Hr={}));class nt{constructor(t,i,a){this.value=t,this.stringValue=i,this.bits=a,nt.FOR_BITS.set(a,this),nt.FOR_VALUE.set(t,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(t){switch(t){case"L":return nt.L;case"M":return nt.M;case"Q":return nt.Q;case"H":return nt.H;default:throw new T(t+"not available")}}toString(){return this.stringValue}equals(t){if(!(t instanceof nt))return!1;const i=t;return this.value===i.value}static forBits(t){if(t<0||t>=nt.FOR_BITS.size)throw new R;return nt.FOR_BITS.get(t)}}nt.FOR_BITS=new Map,nt.FOR_VALUE=new Map,nt.L=new nt(Hr.L,"L",1),nt.M=new nt(Hr.M,"M",0),nt.Q=new nt(Hr.Q,"Q",3),nt.H=new nt(Hr.H,"H",2);class fn{constructor(t){this.errorCorrectionLevel=nt.forBits(t>>3&3),this.dataMask=t&7}static numBitsDiffering(t,i){return J.bitCount(t^i)}static decodeFormatInformation(t,i){const a=fn.doDecodeFormatInformation(t,i);return a!==null?a:fn.doDecodeFormatInformation(t^fn.FORMAT_INFO_MASK_QR,i^fn.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(t,i){let a=Number.MAX_SAFE_INTEGER,c=0;for(const u of fn.FORMAT_INFO_DECODE_LOOKUP){const d=u[0];if(d===t||d===i)return new fn(u[1]);let g=fn.numBitsDiffering(t,d);g<a&&(c=u[1],a=g),t!==i&&(g=fn.numBitsDiffering(i,d),g<a&&(c=u[1],a=g))}return a<=3?new fn(c):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(t){if(!(t instanceof fn))return!1;const i=t;return this.errorCorrectionLevel===i.errorCorrectionLevel&&this.dataMask===i.dataMask}}fn.FORMAT_INFO_MASK_QR=21522,fn.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class X{constructor(t,...i){this.ecCodewordsPerBlock=t,this.ecBlocks=i}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let t=0;const i=this.ecBlocks;for(const a of i)t+=a.getCount();return t}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class B{constructor(t,i){this.count=t,this.dataCodewords=i}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Ie{constructor(t,i,...a){this.versionNumber=t,this.alignmentPatternCenters=i,this.ecBlocks=a;let c=0;const u=a[0].getECCodewordsPerBlock(),d=a[0].getECBlocks();for(const g of d)c+=g.getCount()*(g.getDataCodewords()+u);this.totalCodewords=c}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(t){return this.ecBlocks[t.getValue()]}static getProvisionalVersionForDimension(t){if(t%4!==1)throw new K;try{return this.getVersionForNumber((t-17)/4)}catch{throw new K}}static getVersionForNumber(t){if(t<1||t>40)throw new R;return Ie.VERSIONS[t-1]}static decodeVersionInformation(t){let i=Number.MAX_SAFE_INTEGER,a=0;for(let c=0;c<Ie.VERSION_DECODE_INFO.length;c++){const u=Ie.VERSION_DECODE_INFO[c];if(u===t)return Ie.getVersionForNumber(c+7);const d=fn.numBitsDiffering(t,u);d<i&&(a=c+7,i=d)}return i<=3?Ie.getVersionForNumber(a):null}buildFunctionPattern(){const t=this.getDimensionForVersion(),i=new Ye(t);i.setRegion(0,0,9,9),i.setRegion(t-8,0,8,9),i.setRegion(0,t-8,9,8);const a=this.alignmentPatternCenters.length;for(let c=0;c<a;c++){const u=this.alignmentPatternCenters[c]-2;for(let d=0;d<a;d++)c===0&&(d===0||d===a-1)||c===a-1&&d===0||i.setRegion(this.alignmentPatternCenters[d]-2,u,5,5)}return i.setRegion(6,9,1,t-17),i.setRegion(9,6,t-17,1),this.versionNumber>6&&(i.setRegion(t-11,0,3,6),i.setRegion(0,t-11,6,3)),i}toString(){return""+this.versionNumber}}Ie.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Ie.VERSIONS=[new Ie(1,new Int32Array(0),new X(7,new B(1,19)),new X(10,new B(1,16)),new X(13,new B(1,13)),new X(17,new B(1,9))),new Ie(2,Int32Array.from([6,18]),new X(10,new B(1,34)),new X(16,new B(1,28)),new X(22,new B(1,22)),new X(28,new B(1,16))),new Ie(3,Int32Array.from([6,22]),new X(15,new B(1,55)),new X(26,new B(1,44)),new X(18,new B(2,17)),new X(22,new B(2,13))),new Ie(4,Int32Array.from([6,26]),new X(20,new B(1,80)),new X(18,new B(2,32)),new X(26,new B(2,24)),new X(16,new B(4,9))),new Ie(5,Int32Array.from([6,30]),new X(26,new B(1,108)),new X(24,new B(2,43)),new X(18,new B(2,15),new B(2,16)),new X(22,new B(2,11),new B(2,12))),new Ie(6,Int32Array.from([6,34]),new X(18,new B(2,68)),new X(16,new B(4,27)),new X(24,new B(4,19)),new X(28,new B(4,15))),new Ie(7,Int32Array.from([6,22,38]),new X(20,new B(2,78)),new X(18,new B(4,31)),new X(18,new B(2,14),new B(4,15)),new X(26,new B(4,13),new B(1,14))),new Ie(8,Int32Array.from([6,24,42]),new X(24,new B(2,97)),new X(22,new B(2,38),new B(2,39)),new X(22,new B(4,18),new B(2,19)),new X(26,new B(4,14),new B(2,15))),new Ie(9,Int32Array.from([6,26,46]),new X(30,new B(2,116)),new X(22,new B(3,36),new B(2,37)),new X(20,new B(4,16),new B(4,17)),new X(24,new B(4,12),new B(4,13))),new Ie(10,Int32Array.from([6,28,50]),new X(18,new B(2,68),new B(2,69)),new X(26,new B(4,43),new B(1,44)),new X(24,new B(6,19),new B(2,20)),new X(28,new B(6,15),new B(2,16))),new Ie(11,Int32Array.from([6,30,54]),new X(20,new B(4,81)),new X(30,new B(1,50),new B(4,51)),new X(28,new B(4,22),new B(4,23)),new X(24,new B(3,12),new B(8,13))),new Ie(12,Int32Array.from([6,32,58]),new X(24,new B(2,92),new B(2,93)),new X(22,new B(6,36),new B(2,37)),new X(26,new B(4,20),new B(6,21)),new X(28,new B(7,14),new B(4,15))),new Ie(13,Int32Array.from([6,34,62]),new X(26,new B(4,107)),new X(22,new B(8,37),new B(1,38)),new X(24,new B(8,20),new B(4,21)),new X(22,new B(12,11),new B(4,12))),new Ie(14,Int32Array.from([6,26,46,66]),new X(30,new B(3,115),new B(1,116)),new X(24,new B(4,40),new B(5,41)),new X(20,new B(11,16),new B(5,17)),new X(24,new B(11,12),new B(5,13))),new Ie(15,Int32Array.from([6,26,48,70]),new X(22,new B(5,87),new B(1,88)),new X(24,new B(5,41),new B(5,42)),new X(30,new B(5,24),new B(7,25)),new X(24,new B(11,12),new B(7,13))),new Ie(16,Int32Array.from([6,26,50,74]),new X(24,new B(5,98),new B(1,99)),new X(28,new B(7,45),new B(3,46)),new X(24,new B(15,19),new B(2,20)),new X(30,new B(3,15),new B(13,16))),new Ie(17,Int32Array.from([6,30,54,78]),new X(28,new B(1,107),new B(5,108)),new X(28,new B(10,46),new B(1,47)),new X(28,new B(1,22),new B(15,23)),new X(28,new B(2,14),new B(17,15))),new Ie(18,Int32Array.from([6,30,56,82]),new X(30,new B(5,120),new B(1,121)),new X(26,new B(9,43),new B(4,44)),new X(28,new B(17,22),new B(1,23)),new X(28,new B(2,14),new B(19,15))),new Ie(19,Int32Array.from([6,30,58,86]),new X(28,new B(3,113),new B(4,114)),new X(26,new B(3,44),new B(11,45)),new X(26,new B(17,21),new B(4,22)),new X(26,new B(9,13),new B(16,14))),new Ie(20,Int32Array.from([6,34,62,90]),new X(28,new B(3,107),new B(5,108)),new X(26,new B(3,41),new B(13,42)),new X(30,new B(15,24),new B(5,25)),new X(28,new B(15,15),new B(10,16))),new Ie(21,Int32Array.from([6,28,50,72,94]),new X(28,new B(4,116),new B(4,117)),new X(26,new B(17,42)),new X(28,new B(17,22),new B(6,23)),new X(30,new B(19,16),new B(6,17))),new Ie(22,Int32Array.from([6,26,50,74,98]),new X(28,new B(2,111),new B(7,112)),new X(28,new B(17,46)),new X(30,new B(7,24),new B(16,25)),new X(24,new B(34,13))),new Ie(23,Int32Array.from([6,30,54,78,102]),new X(30,new B(4,121),new B(5,122)),new X(28,new B(4,47),new B(14,48)),new X(30,new B(11,24),new B(14,25)),new X(30,new B(16,15),new B(14,16))),new Ie(24,Int32Array.from([6,28,54,80,106]),new X(30,new B(6,117),new B(4,118)),new X(28,new B(6,45),new B(14,46)),new X(30,new B(11,24),new B(16,25)),new X(30,new B(30,16),new B(2,17))),new Ie(25,Int32Array.from([6,32,58,84,110]),new X(26,new B(8,106),new B(4,107)),new X(28,new B(8,47),new B(13,48)),new X(30,new B(7,24),new B(22,25)),new X(30,new B(22,15),new B(13,16))),new Ie(26,Int32Array.from([6,30,58,86,114]),new X(28,new B(10,114),new B(2,115)),new X(28,new B(19,46),new B(4,47)),new X(28,new B(28,22),new B(6,23)),new X(30,new B(33,16),new B(4,17))),new Ie(27,Int32Array.from([6,34,62,90,118]),new X(30,new B(8,122),new B(4,123)),new X(28,new B(22,45),new B(3,46)),new X(30,new B(8,23),new B(26,24)),new X(30,new B(12,15),new B(28,16))),new Ie(28,Int32Array.from([6,26,50,74,98,122]),new X(30,new B(3,117),new B(10,118)),new X(28,new B(3,45),new B(23,46)),new X(30,new B(4,24),new B(31,25)),new X(30,new B(11,15),new B(31,16))),new Ie(29,Int32Array.from([6,30,54,78,102,126]),new X(30,new B(7,116),new B(7,117)),new X(28,new B(21,45),new B(7,46)),new X(30,new B(1,23),new B(37,24)),new X(30,new B(19,15),new B(26,16))),new Ie(30,Int32Array.from([6,26,52,78,104,130]),new X(30,new B(5,115),new B(10,116)),new X(28,new B(19,47),new B(10,48)),new X(30,new B(15,24),new B(25,25)),new X(30,new B(23,15),new B(25,16))),new Ie(31,Int32Array.from([6,30,56,82,108,134]),new X(30,new B(13,115),new B(3,116)),new X(28,new B(2,46),new B(29,47)),new X(30,new B(42,24),new B(1,25)),new X(30,new B(23,15),new B(28,16))),new Ie(32,Int32Array.from([6,34,60,86,112,138]),new X(30,new B(17,115)),new X(28,new B(10,46),new B(23,47)),new X(30,new B(10,24),new B(35,25)),new X(30,new B(19,15),new B(35,16))),new Ie(33,Int32Array.from([6,30,58,86,114,142]),new X(30,new B(17,115),new B(1,116)),new X(28,new B(14,46),new B(21,47)),new X(30,new B(29,24),new B(19,25)),new X(30,new B(11,15),new B(46,16))),new Ie(34,Int32Array.from([6,34,62,90,118,146]),new X(30,new B(13,115),new B(6,116)),new X(28,new B(14,46),new B(23,47)),new X(30,new B(44,24),new B(7,25)),new X(30,new B(59,16),new B(1,17))),new Ie(35,Int32Array.from([6,30,54,78,102,126,150]),new X(30,new B(12,121),new B(7,122)),new X(28,new B(12,47),new B(26,48)),new X(30,new B(39,24),new B(14,25)),new X(30,new B(22,15),new B(41,16))),new Ie(36,Int32Array.from([6,24,50,76,102,128,154]),new X(30,new B(6,121),new B(14,122)),new X(28,new B(6,47),new B(34,48)),new X(30,new B(46,24),new B(10,25)),new X(30,new B(2,15),new B(64,16))),new Ie(37,Int32Array.from([6,28,54,80,106,132,158]),new X(30,new B(17,122),new B(4,123)),new X(28,new B(29,46),new B(14,47)),new X(30,new B(49,24),new B(10,25)),new X(30,new B(24,15),new B(46,16))),new Ie(38,Int32Array.from([6,32,58,84,110,136,162]),new X(30,new B(4,122),new B(18,123)),new X(28,new B(13,46),new B(32,47)),new X(30,new B(48,24),new B(14,25)),new X(30,new B(42,15),new B(32,16))),new Ie(39,Int32Array.from([6,26,54,82,110,138,166]),new X(30,new B(20,117),new B(4,118)),new X(28,new B(40,47),new B(7,48)),new X(30,new B(43,24),new B(22,25)),new X(30,new B(10,15),new B(67,16))),new Ie(40,Int32Array.from([6,30,58,86,114,142,170]),new X(30,new B(19,118),new B(6,119)),new X(28,new B(18,47),new B(31,48)),new X(30,new B(34,24),new B(34,25)),new X(30,new B(20,15),new B(61,16)))];var on;(function(N){N[N.DATA_MASK_000=0]="DATA_MASK_000",N[N.DATA_MASK_001=1]="DATA_MASK_001",N[N.DATA_MASK_010=2]="DATA_MASK_010",N[N.DATA_MASK_011=3]="DATA_MASK_011",N[N.DATA_MASK_100=4]="DATA_MASK_100",N[N.DATA_MASK_101=5]="DATA_MASK_101",N[N.DATA_MASK_110=6]="DATA_MASK_110",N[N.DATA_MASK_111=7]="DATA_MASK_111"})(on||(on={}));class Vn{constructor(t,i){this.value=t,this.isMasked=i}unmaskBitMatrix(t,i){for(let a=0;a<i;a++)for(let c=0;c<i;c++)this.isMasked(a,c)&&t.flip(c,a)}}Vn.values=new Map([[on.DATA_MASK_000,new Vn(on.DATA_MASK_000,(N,t)=>(N+t&1)===0)],[on.DATA_MASK_001,new Vn(on.DATA_MASK_001,(N,t)=>(N&1)===0)],[on.DATA_MASK_010,new Vn(on.DATA_MASK_010,(N,t)=>t%3===0)],[on.DATA_MASK_011,new Vn(on.DATA_MASK_011,(N,t)=>(N+t)%3===0)],[on.DATA_MASK_100,new Vn(on.DATA_MASK_100,(N,t)=>(Math.floor(N/2)+Math.floor(t/3)&1)===0)],[on.DATA_MASK_101,new Vn(on.DATA_MASK_101,(N,t)=>N*t%6===0)],[on.DATA_MASK_110,new Vn(on.DATA_MASK_110,(N,t)=>N*t%6<3)],[on.DATA_MASK_111,new Vn(on.DATA_MASK_111,(N,t)=>(N+t+N*t%3&1)===0)]]);class Vr{constructor(t){const i=t.getHeight();if(i<21||(i&3)!==1)throw new K;this.bitMatrix=t}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let t=0;for(let u=0;u<6;u++)t=this.copyBit(u,8,t);t=this.copyBit(7,8,t),t=this.copyBit(8,8,t),t=this.copyBit(8,7,t);for(let u=5;u>=0;u--)t=this.copyBit(8,u,t);const i=this.bitMatrix.getHeight();let a=0;const c=i-7;for(let u=i-1;u>=c;u--)a=this.copyBit(8,u,a);for(let u=i-8;u<i;u++)a=this.copyBit(u,8,a);if(this.parsedFormatInfo=fn.decodeFormatInformation(t,a),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new K}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const t=this.bitMatrix.getHeight(),i=Math.floor((t-17)/4);if(i<=6)return Ie.getVersionForNumber(i);let a=0;const c=t-11;for(let d=5;d>=0;d--)for(let g=t-9;g>=c;g--)a=this.copyBit(g,d,a);let u=Ie.decodeVersionInformation(a);if(u!==null&&u.getDimensionForVersion()===t)return this.parsedVersion=u,u;a=0;for(let d=5;d>=0;d--)for(let g=t-9;g>=c;g--)a=this.copyBit(d,g,a);if(u=Ie.decodeVersionInformation(a),u!==null&&u.getDimensionForVersion()===t)return this.parsedVersion=u,u;throw new K}copyBit(t,i,a){return(this.isMirror?this.bitMatrix.get(i,t):this.bitMatrix.get(t,i))?a<<1|1:a<<1}readCodewords(){const t=this.readFormatInformation(),i=this.readVersion(),a=Vn.values.get(t.getDataMask()),c=this.bitMatrix.getHeight();a.unmaskBitMatrix(this.bitMatrix,c);const u=i.buildFunctionPattern();let d=!0;const g=new Uint8Array(i.getTotalCodewords());let x=0,A=0,_=0;for(let O=c-1;O>0;O-=2){O===6&&O--;for(let D=0;D<c;D++){const k=d?c-1-D:D;for(let z=0;z<2;z++)u.get(O-z,k)||(_++,A<<=1,this.bitMatrix.get(O-z,k)&&(A|=1),_===8&&(g[x++]=A,_=0,A=0))}d=!d}if(x!==i.getTotalCodewords())throw new K;return g}remask(){if(this.parsedFormatInfo===null)return;const t=Vn.values[this.parsedFormatInfo.getDataMask()],i=this.bitMatrix.getHeight();t.unmaskBitMatrix(this.bitMatrix,i)}setMirror(t){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=t}mirror(){const t=this.bitMatrix;for(let i=0,a=t.getWidth();i<a;i++)for(let c=i+1,u=t.getHeight();c<u;c++)t.get(i,c)!==t.get(c,i)&&(t.flip(c,i),t.flip(i,c))}}class al{constructor(t,i){this.numDataCodewords=t,this.codewords=i}static getDataBlocks(t,i,a){if(t.length!==i.getTotalCodewords())throw new R;const c=i.getECBlocksForLevel(a);let u=0;const d=c.getECBlocks();for(const z of d)u+=z.getCount();const g=new Array(u);let x=0;for(const z of d)for(let P=0;P<z.getCount();P++){const q=z.getDataCodewords(),ie=c.getECCodewordsPerBlock()+q;g[x++]=new al(q,new Uint8Array(ie))}const A=g[0].codewords.length;let _=g.length-1;for(;_>=0&&g[_].codewords.length!==A;)_--;_++;const O=A-c.getECCodewordsPerBlock();let D=0;for(let z=0;z<O;z++)for(let P=0;P<x;P++)g[P].codewords[z]=t[D++];for(let z=_;z<x;z++)g[z].codewords[O]=t[D++];const k=g[0].codewords.length;for(let z=O;z<k;z++)for(let P=0;P<x;P++){const q=P<_?z:z+1;g[P].codewords[q]=t[D++]}return g}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Gn;(function(N){N[N.TERMINATOR=0]="TERMINATOR",N[N.NUMERIC=1]="NUMERIC",N[N.ALPHANUMERIC=2]="ALPHANUMERIC",N[N.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",N[N.BYTE=4]="BYTE",N[N.ECI=5]="ECI",N[N.KANJI=6]="KANJI",N[N.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",N[N.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",N[N.HANZI=9]="HANZI"})(Gn||(Gn={}));class Le{constructor(t,i,a,c){this.value=t,this.stringValue=i,this.characterCountBitsForVersions=a,this.bits=c,Le.FOR_BITS.set(c,this),Le.FOR_VALUE.set(t,this)}static forBits(t){const i=Le.FOR_BITS.get(t);if(i===void 0)throw new R;return i}getCharacterCountBits(t){const i=t.getVersionNumber();let a;return i<=9?a=0:i<=26?a=1:a=2,this.characterCountBitsForVersions[a]}getValue(){return this.value}getBits(){return this.bits}equals(t){if(!(t instanceof Le))return!1;const i=t;return this.value===i.value}toString(){return this.stringValue}}Le.FOR_BITS=new Map,Le.FOR_VALUE=new Map,Le.TERMINATOR=new Le(Gn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Le.NUMERIC=new Le(Gn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Le.ALPHANUMERIC=new Le(Gn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Le.STRUCTURED_APPEND=new Le(Gn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Le.BYTE=new Le(Gn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Le.ECI=new Le(Gn.ECI,"ECI",Int32Array.from([0,0,0]),7),Le.KANJI=new Le(Gn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Le.FNC1_FIRST_POSITION=new Le(Gn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Le.FNC1_SECOND_POSITION=new Le(Gn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Le.HANZI=new Le(Gn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class jt{static decode(t,i,a,c){const u=new oi(t);let d=new Be;const g=new Array;let x=-1,A=-1;try{let _=null,O=!1,D;do{if(u.available()<4)D=Le.TERMINATOR;else{const k=u.readBits(4);D=Le.forBits(k)}switch(D){case Le.TERMINATOR:break;case Le.FNC1_FIRST_POSITION:case Le.FNC1_SECOND_POSITION:O=!0;break;case Le.STRUCTURED_APPEND:if(u.available()<16)throw new K;x=u.readBits(8),A=u.readBits(8);break;case Le.ECI:const k=jt.parseECIValue(u);if(_=he.getCharacterSetECIByValue(k),_===null)throw new K;break;case Le.HANZI:const z=u.readBits(4),P=u.readBits(D.getCharacterCountBits(i));z===jt.GB2312_SUBSET&&jt.decodeHanziSegment(u,d,P);break;default:const q=u.readBits(D.getCharacterCountBits(i));switch(D){case Le.NUMERIC:jt.decodeNumericSegment(u,d,q);break;case Le.ALPHANUMERIC:jt.decodeAlphanumericSegment(u,d,q,O);break;case Le.BYTE:jt.decodeByteSegment(u,d,q,_,g,c);break;case Le.KANJI:jt.decodeKanjiSegment(u,d,q);break;default:throw new K}break}}while(D!==Le.TERMINATOR)}catch{throw new K}return new kt(t,d.toString(),g.length===0?null:g,a===null?null:a.toString(),x,A)}static decodeHanziSegment(t,i,a){if(a*13>t.available())throw new K;const c=new Uint8Array(2*a);let u=0;for(;a>0;){const d=t.readBits(13);let g=d/96<<8&4294967295|d%96;g<959?g+=41377:g+=42657,c[u]=g>>8&255,c[u+1]=g&255,u+=2,a--}try{i.append(Ue.decode(c,Ee.GB2312))}catch(d){throw new K(d)}}static decodeKanjiSegment(t,i,a){if(a*13>t.available())throw new K;const c=new Uint8Array(2*a);let u=0;for(;a>0;){const d=t.readBits(13);let g=d/192<<8&4294967295|d%192;g<7936?g+=33088:g+=49472,c[u]=g>>8,c[u+1]=g,u+=2,a--}try{i.append(Ue.decode(c,Ee.SHIFT_JIS))}catch(d){throw new K(d)}}static decodeByteSegment(t,i,a,c,u,d){if(8*a>t.available())throw new K;const g=new Uint8Array(a);for(let A=0;A<a;A++)g[A]=t.readBits(8);let x;c===null?x=Ee.guessEncoding(g,d):x=c.getName();try{i.append(Ue.decode(g,x))}catch(A){throw new K(A)}u.push(g)}static toAlphaNumericChar(t){if(t>=jt.ALPHANUMERIC_CHARS.length)throw new K;return jt.ALPHANUMERIC_CHARS[t]}static decodeAlphanumericSegment(t,i,a,c){const u=i.length();for(;a>1;){if(t.available()<11)throw new K;const d=t.readBits(11);i.append(jt.toAlphaNumericChar(Math.floor(d/45))),i.append(jt.toAlphaNumericChar(d%45)),a-=2}if(a===1){if(t.available()<6)throw new K;i.append(jt.toAlphaNumericChar(t.readBits(6)))}if(c)for(let d=u;d<i.length();d++)i.charAt(d)==="%"&&(d<i.length()-1&&i.charAt(d+1)==="%"?i.deleteCharAt(d+1):i.setCharAt(d,""))}static decodeNumericSegment(t,i,a){for(;a>=3;){if(t.available()<10)throw new K;const c=t.readBits(10);if(c>=1e3)throw new K;i.append(jt.toAlphaNumericChar(Math.floor(c/100))),i.append(jt.toAlphaNumericChar(Math.floor(c/10)%10)),i.append(jt.toAlphaNumericChar(c%10)),a-=3}if(a===2){if(t.available()<7)throw new K;const c=t.readBits(7);if(c>=100)throw new K;i.append(jt.toAlphaNumericChar(Math.floor(c/10))),i.append(jt.toAlphaNumericChar(c%10))}else if(a===1){if(t.available()<4)throw new K;const c=t.readBits(4);if(c>=10)throw new K;i.append(jt.toAlphaNumericChar(c))}}static parseECIValue(t){const i=t.readBits(8);if((i&128)===0)return i&127;if((i&192)===128){const a=t.readBits(8);return(i&63)<<8&4294967295|a}if((i&224)===192){const a=t.readBits(16);return(i&31)<<16&4294967295|a}throw new K}}jt.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",jt.GB2312_SUBSET=1;class go{constructor(t){this.mirrored=t}isMirrored(){return this.mirrored}applyMirroredCorrection(t){if(!this.mirrored||t===null||t.length<3)return;const i=t[0];t[0]=t[2],t[2]=i}}class Zc{constructor(){this.rsDecoder=new ur(gt.QR_CODE_FIELD_256)}decodeBooleanArray(t,i){return this.decodeBitMatrix(Ye.parseFromBooleanArray(t),i)}decodeBitMatrix(t,i){const a=new Vr(t);let c=null;try{return this.decodeBitMatrixParser(a,i)}catch(u){c=u}try{a.remask(),a.setMirror(!0),a.readVersion(),a.readFormatInformation(),a.mirror();const u=this.decodeBitMatrixParser(a,i);return u.setOther(new go(!0)),u}catch(u){throw c!==null?c:u}}decodeBitMatrixParser(t,i){const a=t.readVersion(),c=t.readFormatInformation().getErrorCorrectionLevel(),u=t.readCodewords(),d=al.getDataBlocks(u,a,c);let g=0;for(const _ of d)g+=_.getNumDataCodewords();const x=new Uint8Array(g);let A=0;for(const _ of d){const O=_.getCodewords(),D=_.getNumDataCodewords();this.correctErrors(O,D);for(let k=0;k<D;k++)x[A++]=O[k]}return jt.decode(x,a,c,i)}correctErrors(t,i){const a=new Int32Array(t);try{this.rsDecoder.decode(a,t.length-i)}catch{throw new j}for(let c=0;c<i;c++)t[c]=a[c]}}class Gr extends Te{constructor(t,i,a){super(t,i),this.estimatedModuleSize=a}aboutEquals(t,i,a){if(Math.abs(i-this.getY())<=t&&Math.abs(a-this.getX())<=t){const c=Math.abs(t-this.estimatedModuleSize);return c<=1||c<=this.estimatedModuleSize}return!1}combineEstimate(t,i,a){const c=(this.getX()+i)/2,u=(this.getY()+t)/2,d=(this.estimatedModuleSize+a)/2;return new Gr(c,u,d)}}class Kn{constructor(t,i,a,c,u,d,g){this.image=t,this.startX=i,this.startY=a,this.width=c,this.height=u,this.moduleSize=d,this.resultPointCallback=g,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const t=this.startX,i=this.height,a=this.width,c=t+a,u=this.startY+i/2,d=new Int32Array(3),g=this.image;for(let x=0;x<i;x++){const A=u+((x&1)===0?Math.floor((x+1)/2):-Math.floor((x+1)/2));d[0]=0,d[1]=0,d[2]=0;let _=t;for(;_<c&&!g.get(_,A);)_++;let O=0;for(;_<c;){if(g.get(_,A))if(O===1)d[1]++;else if(O===2){if(this.foundPatternCross(d)){const D=this.handlePossibleCenter(d,A,_);if(D!==null)return D}d[0]=d[2],d[1]=1,d[2]=0,O=1}else d[++O]++;else O===1&&O++,d[O]++;_++}if(this.foundPatternCross(d)){const D=this.handlePossibleCenter(d,A,c);if(D!==null)return D}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new te}static centerFromEnd(t,i){return i-t[2]-t[1]/2}foundPatternCross(t){const i=this.moduleSize,a=i/2;for(let c=0;c<3;c++)if(Math.abs(i-t[c])>=a)return!1;return!0}crossCheckVertical(t,i,a,c){const u=this.image,d=u.getHeight(),g=this.crossCheckStateCount;g[0]=0,g[1]=0,g[2]=0;let x=t;for(;x>=0&&u.get(i,x)&&g[1]<=a;)g[1]++,x--;if(x<0||g[1]>a)return NaN;for(;x>=0&&!u.get(i,x)&&g[0]<=a;)g[0]++,x--;if(g[0]>a)return NaN;for(x=t+1;x<d&&u.get(i,x)&&g[1]<=a;)g[1]++,x++;if(x===d||g[1]>a)return NaN;for(;x<d&&!u.get(i,x)&&g[2]<=a;)g[2]++,x++;if(g[2]>a)return NaN;const A=g[0]+g[1]+g[2];return 5*Math.abs(A-c)>=2*c?NaN:this.foundPatternCross(g)?Kn.centerFromEnd(g,x):NaN}handlePossibleCenter(t,i,a){const c=t[0]+t[1]+t[2],u=Kn.centerFromEnd(t,a),d=this.crossCheckVertical(i,u,2*t[1],c);if(!isNaN(d)){const g=(t[0]+t[1]+t[2])/3;for(const A of this.possibleCenters)if(A.aboutEquals(g,d,u))return A.combineEstimate(d,u,g);const x=new Gr(u,d,g);this.possibleCenters.push(x),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(x)}return null}}class Na extends Te{constructor(t,i,a,c){super(t,i),this.estimatedModuleSize=a,this.count=c,c===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(t,i,a){if(Math.abs(i-this.getY())<=t&&Math.abs(a-this.getX())<=t){const c=Math.abs(t-this.estimatedModuleSize);return c<=1||c<=this.estimatedModuleSize}return!1}combineEstimate(t,i,a){const c=this.count+1,u=(this.count*this.getX()+i)/c,d=(this.count*this.getY()+t)/c,g=(this.count*this.estimatedModuleSize+a)/c;return new Na(u,d,g,c)}}class sl{constructor(t){this.bottomLeft=t[0],this.topLeft=t[1],this.topRight=t[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Yt{constructor(t,i){this.image=t,this.resultPointCallback=i,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=i}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(t){const i=t!=null&&t.get(ve.TRY_HARDER)!==void 0,a=t!=null&&t.get(ve.PURE_BARCODE)!==void 0,c=this.image,u=c.getHeight(),d=c.getWidth();let g=Math.floor(3*u/(4*Yt.MAX_MODULES));(g<Yt.MIN_SKIP||i)&&(g=Yt.MIN_SKIP);let x=!1;const A=new Int32Array(5);for(let O=g-1;O<u&&!x;O+=g){A[0]=0,A[1]=0,A[2]=0,A[3]=0,A[4]=0;let D=0;for(let k=0;k<d;k++)if(c.get(k,O))(D&1)===1&&D++,A[D]++;else if((D&1)===0)if(D===4)if(Yt.foundPatternCross(A)){if(this.handlePossibleCenter(A,O,k,a)===!0)if(g=2,this.hasSkipped===!0)x=this.haveMultiplyConfirmedCenters();else{const P=this.findRowSkip();P>A[2]&&(O+=P-A[2]-g,k=d-1)}else{A[0]=A[2],A[1]=A[3],A[2]=A[4],A[3]=1,A[4]=0,D=3;continue}D=0,A[0]=0,A[1]=0,A[2]=0,A[3]=0,A[4]=0}else A[0]=A[2],A[1]=A[3],A[2]=A[4],A[3]=1,A[4]=0,D=3;else A[++D]++;else A[D]++;Yt.foundPatternCross(A)&&this.handlePossibleCenter(A,O,d,a)===!0&&(g=A[0],this.hasSkipped&&(x=this.haveMultiplyConfirmedCenters()))}const _=this.selectBestPatterns();return Te.orderBestPatterns(_),new sl(_)}static centerFromEnd(t,i){return i-t[4]-t[3]-t[2]/2}static foundPatternCross(t){let i=0;for(let u=0;u<5;u++){const d=t[u];if(d===0)return!1;i+=d}if(i<7)return!1;const a=i/7,c=a/2;return Math.abs(a-t[0])<c&&Math.abs(a-t[1])<c&&Math.abs(3*a-t[2])<3*c&&Math.abs(a-t[3])<c&&Math.abs(a-t[4])<c}getCrossCheckStateCount(){const t=this.crossCheckStateCount;return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t}crossCheckDiagonal(t,i,a,c){const u=this.getCrossCheckStateCount();let d=0;const g=this.image;for(;t>=d&&i>=d&&g.get(i-d,t-d);)u[2]++,d++;if(t<d||i<d)return!1;for(;t>=d&&i>=d&&!g.get(i-d,t-d)&&u[1]<=a;)u[1]++,d++;if(t<d||i<d||u[1]>a)return!1;for(;t>=d&&i>=d&&g.get(i-d,t-d)&&u[0]<=a;)u[0]++,d++;if(u[0]>a)return!1;const x=g.getHeight(),A=g.getWidth();for(d=1;t+d<x&&i+d<A&&g.get(i+d,t+d);)u[2]++,d++;if(t+d>=x||i+d>=A)return!1;for(;t+d<x&&i+d<A&&!g.get(i+d,t+d)&&u[3]<a;)u[3]++,d++;if(t+d>=x||i+d>=A||u[3]>=a)return!1;for(;t+d<x&&i+d<A&&g.get(i+d,t+d)&&u[4]<a;)u[4]++,d++;if(u[4]>=a)return!1;const _=u[0]+u[1]+u[2]+u[3]+u[4];return Math.abs(_-c)<2*c&&Yt.foundPatternCross(u)}crossCheckVertical(t,i,a,c){const u=this.image,d=u.getHeight(),g=this.getCrossCheckStateCount();let x=t;for(;x>=0&&u.get(i,x);)g[2]++,x--;if(x<0)return NaN;for(;x>=0&&!u.get(i,x)&&g[1]<=a;)g[1]++,x--;if(x<0||g[1]>a)return NaN;for(;x>=0&&u.get(i,x)&&g[0]<=a;)g[0]++,x--;if(g[0]>a)return NaN;for(x=t+1;x<d&&u.get(i,x);)g[2]++,x++;if(x===d)return NaN;for(;x<d&&!u.get(i,x)&&g[3]<a;)g[3]++,x++;if(x===d||g[3]>=a)return NaN;for(;x<d&&u.get(i,x)&&g[4]<a;)g[4]++,x++;if(g[4]>=a)return NaN;const A=g[0]+g[1]+g[2]+g[3]+g[4];return 5*Math.abs(A-c)>=2*c?NaN:Yt.foundPatternCross(g)?Yt.centerFromEnd(g,x):NaN}crossCheckHorizontal(t,i,a,c){const u=this.image,d=u.getWidth(),g=this.getCrossCheckStateCount();let x=t;for(;x>=0&&u.get(x,i);)g[2]++,x--;if(x<0)return NaN;for(;x>=0&&!u.get(x,i)&&g[1]<=a;)g[1]++,x--;if(x<0||g[1]>a)return NaN;for(;x>=0&&u.get(x,i)&&g[0]<=a;)g[0]++,x--;if(g[0]>a)return NaN;for(x=t+1;x<d&&u.get(x,i);)g[2]++,x++;if(x===d)return NaN;for(;x<d&&!u.get(x,i)&&g[3]<a;)g[3]++,x++;if(x===d||g[3]>=a)return NaN;for(;x<d&&u.get(x,i)&&g[4]<a;)g[4]++,x++;if(g[4]>=a)return NaN;const A=g[0]+g[1]+g[2]+g[3]+g[4];return 5*Math.abs(A-c)>=c?NaN:Yt.foundPatternCross(g)?Yt.centerFromEnd(g,x):NaN}handlePossibleCenter(t,i,a,c){const u=t[0]+t[1]+t[2]+t[3]+t[4];let d=Yt.centerFromEnd(t,a),g=this.crossCheckVertical(i,Math.floor(d),t[2],u);if(!isNaN(g)&&(d=this.crossCheckHorizontal(Math.floor(d),Math.floor(g),t[2],u),!isNaN(d)&&(!c||this.crossCheckDiagonal(Math.floor(g),Math.floor(d),t[2],u)))){const x=u/7;let A=!1;const _=this.possibleCenters;for(let O=0,D=_.length;O<D;O++){const k=_[O];if(k.aboutEquals(x,g,d)){_[O]=k.combineEstimate(g,d,x),A=!0;break}}if(!A){const O=new Na(d,g,x);_.push(O),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(O)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let i=null;for(const a of this.possibleCenters)if(a.getCount()>=Yt.CENTER_QUORUM)if(i==null)i=a;else return this.hasSkipped=!0,Math.floor((Math.abs(i.getX()-a.getX())-Math.abs(i.getY()-a.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let t=0,i=0;const a=this.possibleCenters.length;for(const d of this.possibleCenters)d.getCount()>=Yt.CENTER_QUORUM&&(t++,i+=d.getEstimatedModuleSize());if(t<3)return!1;const c=i/a;let u=0;for(const d of this.possibleCenters)u+=Math.abs(d.getEstimatedModuleSize()-c);return u<=.05*i}selectBestPatterns(){const t=this.possibleCenters.length;if(t<3)throw new te;const i=this.possibleCenters;let a;if(t>3){let c=0,u=0;for(const x of this.possibleCenters){const A=x.getEstimatedModuleSize();c+=A,u+=A*A}a=c/t;let d=Math.sqrt(u/t-a*a);i.sort((x,A)=>{const _=Math.abs(A.getEstimatedModuleSize()-a),O=Math.abs(x.getEstimatedModuleSize()-a);return _<O?-1:_>O?1:0});const g=Math.max(.2*a,d);for(let x=0;x<i.length&&i.length>3;x++){const A=i[x];Math.abs(A.getEstimatedModuleSize()-a)>g&&(i.splice(x,1),x--)}}if(i.length>3){let c=0;for(const u of i)c+=u.getEstimatedModuleSize();a=c/i.length,i.sort((u,d)=>{if(d.getCount()===u.getCount()){const g=Math.abs(d.getEstimatedModuleSize()-a),x=Math.abs(u.getEstimatedModuleSize()-a);return g<x?1:g>x?-1:0}else return d.getCount()-u.getCount()}),i.splice(3)}return[i[0],i[1],i[2]]}}Yt.CENTER_QUORUM=2,Yt.MIN_SKIP=3,Yt.MAX_MODULES=57;class Ci{constructor(t){this.image=t}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(t){this.resultPointCallback=t==null?null:t.get(ve.NEED_RESULT_POINT_CALLBACK);const a=new Yt(this.image,this.resultPointCallback).find(t);return this.processFinderPatternInfo(a)}processFinderPatternInfo(t){const i=t.getTopLeft(),a=t.getTopRight(),c=t.getBottomLeft(),u=this.calculateModuleSize(i,a,c);if(u<1)throw new te("No pattern found in proccess finder.");const d=Ci.computeDimension(i,a,c,u),g=Ie.getProvisionalVersionForDimension(d),x=g.getDimensionForVersion()-7;let A=null;if(g.getAlignmentPatternCenters().length>0){const k=a.getX()-i.getX()+c.getX(),z=a.getY()-i.getY()+c.getY(),P=1-3/x,q=Math.floor(i.getX()+P*(k-i.getX())),ie=Math.floor(i.getY()+P*(z-i.getY()));for(let ye=4;ye<=16;ye<<=1)try{A=this.findAlignmentInRegion(u,q,ie,ye);break}catch(pe){if(!(pe instanceof te))throw pe}}const _=Ci.createTransform(i,a,c,A,d),O=Ci.sampleGrid(this.image,_,d);let D;return A===null?D=[c,i,a]:D=[c,i,a,A],new ts(O,D)}static createTransform(t,i,a,c,u){const d=u-3.5;let g,x,A,_;return c!==null?(g=c.getX(),x=c.getY(),A=d-3,_=A):(g=i.getX()-t.getX()+a.getX(),x=i.getY()-t.getY()+a.getY(),A=d,_=d),Zn.quadrilateralToQuadrilateral(3.5,3.5,d,3.5,A,_,3.5,d,t.getX(),t.getY(),i.getX(),i.getY(),g,x,a.getX(),a.getY())}static sampleGrid(t,i,a){return ai.getInstance().sampleGridWithTransform(t,a,a,i)}static computeDimension(t,i,a,c){const u=it.round(Te.distance(t,i)/c),d=it.round(Te.distance(t,a)/c);let g=Math.floor((u+d)/2)+7;switch(g&3){case 0:g++;break;case 2:g--;break;case 3:throw new te("Dimensions could be not found.")}return g}calculateModuleSize(t,i,a){return(this.calculateModuleSizeOneWay(t,i)+this.calculateModuleSizeOneWay(t,a))/2}calculateModuleSizeOneWay(t,i){const a=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(i.getX()),Math.floor(i.getY())),c=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(i.getX()),Math.floor(i.getY()),Math.floor(t.getX()),Math.floor(t.getY()));return isNaN(a)?c/7:isNaN(c)?a/7:(a+c)/14}sizeOfBlackWhiteBlackRunBothWays(t,i,a,c){let u=this.sizeOfBlackWhiteBlackRun(t,i,a,c),d=1,g=t-(a-t);g<0?(d=t/(t-g),g=0):g>=this.image.getWidth()&&(d=(this.image.getWidth()-1-t)/(g-t),g=this.image.getWidth()-1);let x=Math.floor(i-(c-i)*d);return d=1,x<0?(d=i/(i-x),x=0):x>=this.image.getHeight()&&(d=(this.image.getHeight()-1-i)/(x-i),x=this.image.getHeight()-1),g=Math.floor(t+(g-t)*d),u+=this.sizeOfBlackWhiteBlackRun(t,i,g,x),u-1}sizeOfBlackWhiteBlackRun(t,i,a,c){const u=Math.abs(c-i)>Math.abs(a-t);if(u){let k=t;t=i,i=k,k=a,a=c,c=k}const d=Math.abs(a-t),g=Math.abs(c-i);let x=-d/2;const A=t<a?1:-1,_=i<c?1:-1;let O=0;const D=a+A;for(let k=t,z=i;k!==D;k+=A){const P=u?z:k,q=u?k:z;if(O===1===this.image.get(P,q)){if(O===2)return it.distance(k,z,t,i);O++}if(x+=g,x>0){if(z===c)break;z+=_,x-=d}}return O===2?it.distance(a+A,c,t,i):NaN}findAlignmentInRegion(t,i,a,c){const u=Math.floor(c*t),d=Math.max(0,i-u),g=Math.min(this.image.getWidth()-1,i+u);if(g-d<t*3)throw new te("Alignment top exceeds estimated module size.");const x=Math.max(0,a-u),A=Math.min(this.image.getHeight()-1,a+u);if(A-x<t*3)throw new te("Alignment bottom exceeds estimated module size.");return new Kn(this.image,d,x,g-d,A-x,t,this.resultPointCallback).find()}}class Pi{constructor(){this.decoder=new Zc}getDecoder(){return this.decoder}decode(t,i){let a,c;if(i!=null&&i.get(ve.PURE_BARCODE)!==void 0){const x=Pi.extractPureBits(t.getBlackMatrix());a=this.decoder.decodeBitMatrix(x,i),c=Pi.NO_POINTS}else{const x=new Ci(t.getBlackMatrix()).detect(i);a=this.decoder.decodeBitMatrix(x.getBits(),i),c=x.getPoints()}a.getOther()instanceof go&&a.getOther().applyMirroredCorrection(c);const u=new Ae(a.getText(),a.getRawBytes(),void 0,c,we.QR_CODE,void 0),d=a.getByteSegments();d!==null&&u.putMetadata(dt.BYTE_SEGMENTS,d);const g=a.getECLevel();return g!==null&&u.putMetadata(dt.ERROR_CORRECTION_LEVEL,g),a.hasStructuredAppend()&&(u.putMetadata(dt.STRUCTURED_APPEND_SEQUENCE,a.getStructuredAppendSequenceNumber()),u.putMetadata(dt.STRUCTURED_APPEND_PARITY,a.getStructuredAppendParity())),u}reset(){}static extractPureBits(t){const i=t.getTopLeftOnBit(),a=t.getBottomRightOnBit();if(i===null||a===null)throw new te;const c=this.moduleSize(i,t);let u=i[1],d=a[1],g=i[0],x=a[0];if(g>=x||u>=d)throw new te;if(d-u!==x-g&&(x=g+(d-u),x>=t.getWidth()))throw new te;const A=Math.round((x-g+1)/c),_=Math.round((d-u+1)/c);if(A<=0||_<=0)throw new te;if(_!==A)throw new te;const O=Math.floor(c/2);u+=O,g+=O;const D=g+Math.floor((A-1)*c)-x;if(D>0){if(D>O)throw new te;g-=D}const k=u+Math.floor((_-1)*c)-d;if(k>0){if(k>O)throw new te;u-=k}const z=new Ye(A,_);for(let P=0;P<_;P++){const q=u+Math.floor(P*c);for(let ie=0;ie<A;ie++)t.get(g+Math.floor(ie*c),q)&&z.set(ie,P)}return z}static moduleSize(t,i){const a=i.getHeight(),c=i.getWidth();let u=t[0],d=t[1],g=!0,x=0;for(;u<c&&d<a;){if(g!==i.get(u,d)){if(++x===5)break;g=!g}u++,d++}if(u===c||d===a)throw new te;return(u-t[0])/7}}Pi.NO_POINTS=new Array;class ze{PDF417Common(){}static getBitCountSum(t){return it.sum(t)}static toIntArray(t){if(t==null||!t.length)return ze.EMPTY_INT_ARRAY;const i=new Int32Array(t.length);let a=0;for(const c of t)i[a++]=c;return i}static getCodeword(t){const i=ae.binarySearch(ze.SYMBOL_TABLE,t&262143);return i<0?-1:(ze.CODEWORD_TABLE[i]-1)%ze.NUMBER_OF_CODEWORDS}}ze.NUMBER_OF_CODEWORDS=929,ze.MAX_CODEWORDS_IN_BARCODE=ze.NUMBER_OF_CODEWORDS-1,ze.MIN_ROWS_IN_BARCODE=3,ze.MAX_ROWS_IN_BARCODE=90,ze.MODULES_IN_CODEWORD=17,ze.MODULES_IN_STOP_PATTERN=18,ze.BARS_IN_MODULE=8,ze.EMPTY_INT_ARRAY=new Int32Array([]),ze.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),ze.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class mo{constructor(t,i){this.bits=t,this.points=i}getBits(){return this.bits}getPoints(){return this.points}}class qe{static detectMultiple(t,i,a){let c=t.getBlackMatrix(),u=qe.detect(a,c);return u.length||(c=c.clone(),c.rotate180(),u=qe.detect(a,c)),new mo(c,u)}static detect(t,i){const a=new Array;let c=0,u=0,d=!1;for(;c<i.getHeight();){const g=qe.findVertices(i,c,u);if(g[0]==null&&g[3]==null){if(!d)break;d=!1,u=0;for(const x of a)x[1]!=null&&(c=Math.trunc(Math.max(c,x[1].getY()))),x[3]!=null&&(c=Math.max(c,Math.trunc(x[3].getY())));c+=qe.ROW_STEP;continue}if(d=!0,a.push(g),!t)break;g[2]!=null?(u=Math.trunc(g[2].getX()),c=Math.trunc(g[2].getY())):(u=Math.trunc(g[4].getX()),c=Math.trunc(g[4].getY()))}return a}static findVertices(t,i,a){const c=t.getHeight(),u=t.getWidth(),d=new Array(8);return qe.copyToResult(d,qe.findRowsWithPattern(t,c,u,i,a,qe.START_PATTERN),qe.INDEXES_START_PATTERN),d[4]!=null&&(a=Math.trunc(d[4].getX()),i=Math.trunc(d[4].getY())),qe.copyToResult(d,qe.findRowsWithPattern(t,c,u,i,a,qe.STOP_PATTERN),qe.INDEXES_STOP_PATTERN),d}static copyToResult(t,i,a){for(let c=0;c<a.length;c++)t[a[c]]=i[c]}static findRowsWithPattern(t,i,a,c,u,d){const g=new Array(4);let x=!1;const A=new Int32Array(d.length);for(;c<i;c+=qe.ROW_STEP){let O=qe.findGuardPattern(t,u,c,a,!1,d,A);if(O!=null){for(;c>0;){const D=qe.findGuardPattern(t,u,--c,a,!1,d,A);if(D!=null)O=D;else{c++;break}}g[0]=new Te(O[0],c),g[1]=new Te(O[1],c),x=!0;break}}let _=c+1;if(x){let O=0,D=Int32Array.from([Math.trunc(g[0].getX()),Math.trunc(g[1].getX())]);for(;_<i;_++){const k=qe.findGuardPattern(t,D[0],_,a,!1,d,A);if(k!=null&&Math.abs(D[0]-k[0])<qe.MAX_PATTERN_DRIFT&&Math.abs(D[1]-k[1])<qe.MAX_PATTERN_DRIFT)D=k,O=0;else{if(O>qe.SKIPPED_ROW_COUNT_MAX)break;O++}}_-=O+1,g[2]=new Te(D[0],_),g[3]=new Te(D[1],_)}return _-c<qe.BARCODE_MIN_HEIGHT&&ae.fill(g,null),g}static findGuardPattern(t,i,a,c,u,d,g){ae.fillWithin(g,0,g.length,0);let x=i,A=0;for(;t.get(x,a)&&x>0&&A++<qe.MAX_PIXEL_DRIFT;)x--;let _=x,O=0,D=d.length;for(let k=u;_<c;_++)if(t.get(_,a)!==k)g[O]++;else{if(O===D-1){if(qe.patternMatchVariance(g,d,qe.MAX_INDIVIDUAL_VARIANCE)<qe.MAX_AVG_VARIANCE)return new Int32Array([x,_]);x+=g[0]+g[1],G.arraycopy(g,2,g,0,O-1),g[O-1]=0,g[O]=0,O--}else O++;g[O]=1,k=!k}return O===D-1&&qe.patternMatchVariance(g,d,qe.MAX_INDIVIDUAL_VARIANCE)<qe.MAX_AVG_VARIANCE?new Int32Array([x,_-1]):null}static patternMatchVariance(t,i,a){let c=t.length,u=0,d=0;for(let A=0;A<c;A++)u+=t[A],d+=i[A];if(u<d)return 1/0;let g=u/d;a*=g;let x=0;for(let A=0;A<c;A++){let _=t[A],O=i[A]*g,D=_>O?_-O:O-_;if(D>a)return 1/0;x+=D}return x/u}}qe.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),qe.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),qe.MAX_AVG_VARIANCE=.42,qe.MAX_INDIVIDUAL_VARIANCE=.8,qe.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),qe.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),qe.MAX_PIXEL_DRIFT=3,qe.MAX_PATTERN_DRIFT=5,qe.SKIPPED_ROW_COUNT_MAX=25,qe.ROW_STEP=5,qe.BARCODE_MIN_HEIGHT=10;class Ut{constructor(t,i){if(i.length===0)throw new R;this.field=t;let a=i.length;if(a>1&&i[0]===0){let c=1;for(;c<a&&i[c]===0;)c++;c===a?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(a-c),G.arraycopy(i,c,this.coefficients,0,this.coefficients.length))}else this.coefficients=i}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}evaluateAt(t){if(t===0)return this.getCoefficient(0);if(t===1){let c=0;for(let u of this.coefficients)c=this.field.add(c,u);return c}let i=this.coefficients[0],a=this.coefficients.length;for(let c=1;c<a;c++)i=this.field.add(this.field.multiply(t,i),this.coefficients[c]);return i}add(t){if(!this.field.equals(t.field))throw new R("ModulusPolys do not have same ModulusGF field");if(this.isZero())return t;if(t.isZero())return this;let i=this.coefficients,a=t.coefficients;if(i.length>a.length){let d=i;i=a,a=d}let c=new Int32Array(a.length),u=a.length-i.length;G.arraycopy(a,0,c,0,u);for(let d=u;d<a.length;d++)c[d]=this.field.add(i[d-u],a[d]);return new Ut(this.field,c)}subtract(t){if(!this.field.equals(t.field))throw new R("ModulusPolys do not have same ModulusGF field");return t.isZero()?this:this.add(t.negative())}multiply(t){return t instanceof Ut?this.multiplyOther(t):this.multiplyScalar(t)}multiplyOther(t){if(!this.field.equals(t.field))throw new R("ModulusPolys do not have same ModulusGF field");if(this.isZero()||t.isZero())return new Ut(this.field,new Int32Array([0]));let i=this.coefficients,a=i.length,c=t.coefficients,u=c.length,d=new Int32Array(a+u-1);for(let g=0;g<a;g++){let x=i[g];for(let A=0;A<u;A++)d[g+A]=this.field.add(d[g+A],this.field.multiply(x,c[A]))}return new Ut(this.field,d)}negative(){let t=this.coefficients.length,i=new Int32Array(t);for(let a=0;a<t;a++)i[a]=this.field.subtract(0,this.coefficients[a]);return new Ut(this.field,i)}multiplyScalar(t){if(t===0)return new Ut(this.field,new Int32Array([0]));if(t===1)return this;let i=this.coefficients.length,a=new Int32Array(i);for(let c=0;c<i;c++)a[c]=this.field.multiply(this.coefficients[c],t);return new Ut(this.field,a)}multiplyByMonomial(t,i){if(t<0)throw new R;if(i===0)return new Ut(this.field,new Int32Array([0]));let a=this.coefficients.length,c=new Int32Array(a+t);for(let u=0;u<a;u++)c[u]=this.field.multiply(this.coefficients[u],i);return new Ut(this.field,c)}toString(){let t=new Be;for(let i=this.getDegree();i>=0;i--){let a=this.getCoefficient(i);a!==0&&(a<0?(t.append(" - "),a=-a):t.length()>0&&t.append(" + "),(i===0||a!==1)&&t.append(a),i!==0&&(i===1?t.append("x"):(t.append("x^"),t.append(i))))}return t.toString()}}class ll{add(t,i){return(t+i)%this.modulus}subtract(t,i){return(this.modulus+t-i)%this.modulus}exp(t){return this.expTable[t]}log(t){if(t===0)throw new R;return this.logTable[t]}inverse(t){if(t===0)throw new kr;return this.expTable[this.modulus-this.logTable[t]-1]}multiply(t,i){return t===0||i===0?0:this.expTable[(this.logTable[t]+this.logTable[i])%(this.modulus-1)]}getSize(){return this.modulus}equals(t){return t===this}}class hr extends ll{constructor(t,i){super(),this.modulus=t,this.expTable=new Int32Array(t),this.logTable=new Int32Array(t);let a=1;for(let c=0;c<t;c++)this.expTable[c]=a,a=a*i%t;for(let c=0;c<t-1;c++)this.logTable[this.expTable[c]]=c;this.zero=new Ut(this,new Int32Array([0])),this.one=new Ut(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(t,i){if(t<0)throw new R;if(i===0)return this.zero;let a=new Int32Array(t+1);return a[0]=i,new Ut(this,a)}}hr.PDF417_GF=new hr(ze.NUMBER_OF_CODEWORDS,3);class Fi{constructor(){this.field=hr.PDF417_GF}decode(t,i,a){let c=new Ut(this.field,t),u=new Int32Array(i),d=!1;for(let z=i;z>0;z--){let P=c.evaluateAt(this.field.exp(z));u[i-z]=P,P!==0&&(d=!0)}if(!d)return 0;let g=this.field.getOne();if(a!=null)for(const z of a){let P=this.field.exp(t.length-1-z),q=new Ut(this.field,new Int32Array([this.field.subtract(0,P),1]));g=g.multiply(q)}let x=new Ut(this.field,u),A=this.runEuclideanAlgorithm(this.field.buildMonomial(i,1),x,i),_=A[0],O=A[1],D=this.findErrorLocations(_),k=this.findErrorMagnitudes(O,_,D);for(let z=0;z<D.length;z++){let P=t.length-1-this.field.log(D[z]);if(P<0)throw j.getChecksumInstance();t[P]=this.field.subtract(t[P],k[z])}return D.length}runEuclideanAlgorithm(t,i,a){if(t.getDegree()<i.getDegree()){let D=t;t=i,i=D}let c=t,u=i,d=this.field.getZero(),g=this.field.getOne();for(;u.getDegree()>=Math.round(a/2);){let D=c,k=d;if(c=u,d=g,c.isZero())throw j.getChecksumInstance();u=D;let z=this.field.getZero(),P=c.getCoefficient(c.getDegree()),q=this.field.inverse(P);for(;u.getDegree()>=c.getDegree()&&!u.isZero();){let ie=u.getDegree()-c.getDegree(),ye=this.field.multiply(u.getCoefficient(u.getDegree()),q);z=z.add(this.field.buildMonomial(ie,ye)),u=u.subtract(c.multiplyByMonomial(ie,ye))}g=z.multiply(d).subtract(k).negative()}let x=g.getCoefficient(0);if(x===0)throw j.getChecksumInstance();let A=this.field.inverse(x),_=g.multiply(A),O=u.multiply(A);return[_,O]}findErrorLocations(t){let i=t.getDegree(),a=new Int32Array(i),c=0;for(let u=1;u<this.field.getSize()&&c<i;u++)t.evaluateAt(u)===0&&(a[c]=this.field.inverse(u),c++);if(c!==i)throw j.getChecksumInstance();return a}findErrorMagnitudes(t,i,a){let c=i.getDegree(),u=new Int32Array(c);for(let A=1;A<=c;A++)u[c-A]=this.field.multiply(A,i.getCoefficient(A));let d=new Ut(this.field,u),g=a.length,x=new Int32Array(g);for(let A=0;A<g;A++){let _=this.field.inverse(a[A]),O=this.field.subtract(0,t.evaluateAt(_)),D=this.field.inverse(d.evaluateAt(_));x[A]=this.field.multiply(O,D)}return x}}class Hi{constructor(t,i,a,c,u){t instanceof Hi?this.constructor_2(t):this.constructor_1(t,i,a,c,u)}constructor_1(t,i,a,c,u){const d=i==null||a==null,g=c==null||u==null;if(d&&g)throw new te;d?(i=new Te(0,c.getY()),a=new Te(0,u.getY())):g&&(c=new Te(t.getWidth()-1,i.getY()),u=new Te(t.getWidth()-1,a.getY())),this.image=t,this.topLeft=i,this.bottomLeft=a,this.topRight=c,this.bottomRight=u,this.minX=Math.trunc(Math.min(i.getX(),a.getX())),this.maxX=Math.trunc(Math.max(c.getX(),u.getX())),this.minY=Math.trunc(Math.min(i.getY(),c.getY())),this.maxY=Math.trunc(Math.max(a.getY(),u.getY()))}constructor_2(t){this.image=t.image,this.topLeft=t.getTopLeft(),this.bottomLeft=t.getBottomLeft(),this.topRight=t.getTopRight(),this.bottomRight=t.getBottomRight(),this.minX=t.getMinX(),this.maxX=t.getMaxX(),this.minY=t.getMinY(),this.maxY=t.getMaxY()}static merge(t,i){return t==null?i:i==null?t:new Hi(t.image,t.topLeft,t.bottomLeft,i.topRight,i.bottomRight)}addMissingRows(t,i,a){let c=this.topLeft,u=this.bottomLeft,d=this.topRight,g=this.bottomRight;if(t>0){let x=a?this.topLeft:this.topRight,A=Math.trunc(x.getY()-t);A<0&&(A=0);let _=new Te(x.getX(),A);a?c=_:d=_}if(i>0){let x=a?this.bottomLeft:this.bottomRight,A=Math.trunc(x.getY()+i);A>=this.image.getHeight()&&(A=this.image.getHeight()-1);let _=new Te(x.getX(),A);a?u=_:g=_}return new Hi(this.image,c,u,d,g)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class ss{constructor(t,i,a,c){this.columnCount=t,this.errorCorrectionLevel=c,this.rowCountUpperPart=i,this.rowCountLowerPart=a,this.rowCount=i+a}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Yr{constructor(){this.buffer=""}static form(t,i){let a=-1;function c(d,g,x,A,_,O){if(d==="%%")return"%";if(i[++a]===void 0)return;d=A?parseInt(A.substr(1)):void 0;let D=_?parseInt(_.substr(1)):void 0,k;switch(O){case"s":k=i[a];break;case"c":k=i[a][0];break;case"f":k=parseFloat(i[a]).toFixed(d);break;case"p":k=parseFloat(i[a]).toPrecision(d);break;case"e":k=parseFloat(i[a]).toExponential(d);break;case"x":k=parseInt(i[a]).toString(D||16);break;case"d":k=parseFloat(parseInt(i[a],D||10).toPrecision(d)).toFixed(0);break}k=typeof k=="object"?JSON.stringify(k):(+k).toString(D);let z=parseInt(x),P=x&&x[0]+""=="0"?"0":" ";for(;k.length<z;)k=g!==void 0?k+P:P+k;return k}let u=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(u,c)}format(t,...i){this.buffer+=Yr.form(t,i)}toString(){return this.buffer}}class tr{constructor(t){this.boundingBox=new Hi(t),this.codewords=new Array(t.getMaxY()-t.getMinY()+1)}getCodewordNearby(t){let i=this.getCodeword(t);if(i!=null)return i;for(let a=1;a<tr.MAX_NEARBY_DISTANCE;a++){let c=this.imageRowToCodewordIndex(t)-a;if(c>=0&&(i=this.codewords[c],i!=null)||(c=this.imageRowToCodewordIndex(t)+a,c<this.codewords.length&&(i=this.codewords[c],i!=null)))return i}return null}imageRowToCodewordIndex(t){return t-this.boundingBox.getMinY()}setCodeword(t,i){this.codewords[this.imageRowToCodewordIndex(t)]=i}getCodeword(t){return this.codewords[this.imageRowToCodewordIndex(t)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const t=new Yr;let i=0;for(const a of this.codewords){if(a==null){t.format("%3d:    |   %n",i++);continue}t.format("%3d: %3d|%3d%n",i++,a.getRowNumber(),a.getValue())}return t.toString()}}tr.MAX_NEARBY_DISTANCE=5;class nr{constructor(){this.values=new Map}setValue(t){t=Math.trunc(t);let i=this.values.get(t);i==null&&(i=0),i++,this.values.set(t,i)}getValue(){let t=-1,i=new Array;for(const[a,c]of this.values.entries()){const u={getKey:()=>a,getValue:()=>c};u.getValue()>t?(t=u.getValue(),i=[],i.push(u.getKey())):u.getValue()===t&&i.push(u.getKey())}return ze.toIntArray(i)}getConfidence(t){return this.values.get(t)}}class ol extends tr{constructor(t,i){super(t),this._isLeft=i}setRowNumbers(){for(let t of this.getCodewords())t?.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(t){let i=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(i,t);let a=this.getBoundingBox(),c=this._isLeft?a.getTopLeft():a.getTopRight(),u=this._isLeft?a.getBottomLeft():a.getBottomRight(),d=this.imageRowToCodewordIndex(Math.trunc(c.getY())),g=this.imageRowToCodewordIndex(Math.trunc(u.getY())),x=-1,A=1,_=0;for(let O=d;O<g;O++){if(i[O]==null)continue;let D=i[O],k=D.getRowNumber()-x;if(k===0)_++;else if(k===1)A=Math.max(A,_),_=1,x=D.getRowNumber();else if(k<0||D.getRowNumber()>=t.getRowCount()||k>O)i[O]=null;else{let z;A>2?z=(A-2)*k:z=k;let P=z>=O;for(let q=1;q<=z&&!P;q++)P=i[O-q]!=null;P?i[O]=null:(x=D.getRowNumber(),_=1)}}}getRowHeights(){let t=this.getBarcodeMetadata();if(t==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(t);let i=new Int32Array(t.getRowCount());for(let a of this.getCodewords())if(a!=null){let c=a.getRowNumber();if(c>=i.length)continue;i[c]++}return i}adjustIncompleteIndicatorColumnRowNumbers(t){let i=this.getBoundingBox(),a=this._isLeft?i.getTopLeft():i.getTopRight(),c=this._isLeft?i.getBottomLeft():i.getBottomRight(),u=this.imageRowToCodewordIndex(Math.trunc(a.getY())),d=this.imageRowToCodewordIndex(Math.trunc(c.getY())),g=this.getCodewords(),x=-1;for(let A=u;A<d;A++){if(g[A]==null)continue;let _=g[A];_.setRowNumberAsRowIndicatorColumn();let O=_.getRowNumber()-x;O===0||(O===1?x=_.getRowNumber():_.getRowNumber()>=t.getRowCount()?g[A]=null:x=_.getRowNumber())}}getBarcodeMetadata(){let t=this.getCodewords(),i=new nr,a=new nr,c=new nr,u=new nr;for(let g of t){if(g==null)continue;g.setRowNumberAsRowIndicatorColumn();let x=g.getValue()%30,A=g.getRowNumber();switch(this._isLeft||(A+=2),A%3){case 0:a.setValue(x*3+1);break;case 1:u.setValue(x/3),c.setValue(x%3);break;case 2:i.setValue(x+1);break}}if(i.getValue().length===0||a.getValue().length===0||c.getValue().length===0||u.getValue().length===0||i.getValue()[0]<1||a.getValue()[0]+c.getValue()[0]<ze.MIN_ROWS_IN_BARCODE||a.getValue()[0]+c.getValue()[0]>ze.MAX_ROWS_IN_BARCODE)return null;let d=new ss(i.getValue()[0],a.getValue()[0],c.getValue()[0],u.getValue()[0]);return this.removeIncorrectCodewords(t,d),d}removeIncorrectCodewords(t,i){for(let a=0;a<t.length;a++){let c=t[a];if(t[a]==null)continue;let u=c.getValue()%30,d=c.getRowNumber();if(d>i.getRowCount()){t[a]=null;continue}switch(this._isLeft||(d+=2),d%3){case 0:u*3+1!==i.getRowCountUpperPart()&&(t[a]=null);break;case 1:(Math.trunc(u/3)!==i.getErrorCorrectionLevel()||u%3!==i.getRowCountLowerPart())&&(t[a]=null);break;case 2:u+1!==i.getColumnCount()&&(t[a]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class dn{constructor(t,i){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=t,this.barcodeColumnCount=t.getColumnCount(),this.boundingBox=i,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let t=ze.MAX_CODEWORDS_IN_BARCODE,i;do i=t,t=this.adjustRowNumbersAndGetCount();while(t>0&&t<i);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(t){t?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let t=this.adjustRowNumbersByRow();if(t===0)return 0;for(let i=1;i<this.barcodeColumnCount+1;i++){let a=this.detectionResultColumns[i].getCodewords();for(let c=0;c<a.length;c++)a[c]!=null&&(a[c].hasValidRowNumber()||this.adjustRowNumbers(i,c,a))}return t}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let t=this.detectionResultColumns[0].getCodewords(),i=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let a=0;a<t.length;a++)if(t[a]!=null&&i[a]!=null&&t[a].getRowNumber()===i[a].getRowNumber())for(let c=1;c<=this.barcodeColumnCount;c++){let u=this.detectionResultColumns[c].getCodewords()[a];u!=null&&(u.setRowNumber(t[a].getRowNumber()),u.hasValidRowNumber()||(this.detectionResultColumns[c].getCodewords()[a]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let t=0,i=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let a=0;a<i.length;a++){if(i[a]==null)continue;let c=i[a].getRowNumber(),u=0;for(let d=this.barcodeColumnCount+1;d>0&&u<this.ADJUST_ROW_NUMBER_SKIP;d--){let g=this.detectionResultColumns[d].getCodewords()[a];g!=null&&(u=dn.adjustRowNumberIfValid(c,u,g),g.hasValidRowNumber()||t++)}}return t}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let t=0,i=this.detectionResultColumns[0].getCodewords();for(let a=0;a<i.length;a++){if(i[a]==null)continue;let c=i[a].getRowNumber(),u=0;for(let d=1;d<this.barcodeColumnCount+1&&u<this.ADJUST_ROW_NUMBER_SKIP;d++){let g=this.detectionResultColumns[d].getCodewords()[a];g!=null&&(u=dn.adjustRowNumberIfValid(c,u,g),g.hasValidRowNumber()||t++)}}return t}static adjustRowNumberIfValid(t,i,a){return a==null||a.hasValidRowNumber()||(a.isValidRowNumber(t)?(a.setRowNumber(t),i=0):++i),i}adjustRowNumbers(t,i,a){if(!this.detectionResultColumns[t-1])return;let c=a[i],u=this.detectionResultColumns[t-1].getCodewords(),d=u;this.detectionResultColumns[t+1]!=null&&(d=this.detectionResultColumns[t+1].getCodewords());let g=new Array(14);g[2]=u[i],g[3]=d[i],i>0&&(g[0]=a[i-1],g[4]=u[i-1],g[5]=d[i-1]),i>1&&(g[8]=a[i-2],g[10]=u[i-2],g[11]=d[i-2]),i<a.length-1&&(g[1]=a[i+1],g[6]=u[i+1],g[7]=d[i+1]),i<a.length-2&&(g[9]=a[i+2],g[12]=u[i+2],g[13]=d[i+2]);for(let x of g)if(dn.adjustRowNumber(c,x))return}static adjustRowNumber(t,i){return i==null?!1:i.hasValidRowNumber()&&i.getBucket()===t.getBucket()?(t.setRowNumber(i.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(t){this.boundingBox=t}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(t,i){this.detectionResultColumns[t]=i}getDetectionResultColumn(t){return this.detectionResultColumns[t]}toString(){let t=this.detectionResultColumns[0];t==null&&(t=this.detectionResultColumns[this.barcodeColumnCount+1]);let i=new Yr;for(let a=0;a<t.getCodewords().length;a++){i.format("CW %3d:",a);for(let c=0;c<this.barcodeColumnCount+2;c++){if(this.detectionResultColumns[c]==null){i.format("    |   ");continue}let u=this.detectionResultColumns[c].getCodewords()[a];if(u==null){i.format("    |   ");continue}i.format(" %3d|%3d",u.getRowNumber(),u.getValue())}i.format("%n")}return i.toString()}}class ci{constructor(t,i,a,c){this.rowNumber=ci.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(t),this.endX=Math.trunc(i),this.bucket=Math.trunc(a),this.value=Math.trunc(c)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(t){return t!==ci.BARCODE_ROW_UNKNOWN&&this.bucket===t%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(t){this.rowNumber=t}toString(){return this.rowNumber+"|"+this.value}}ci.BARCODE_ROW_UNKNOWN=-1;class En{static initialize(){for(let t=0;t<ze.SYMBOL_TABLE.length;t++){let i=ze.SYMBOL_TABLE[t],a=i&1;for(let c=0;c<ze.BARS_IN_MODULE;c++){let u=0;for(;(i&1)===a;)u+=1,i>>=1;a=i&1,En.RATIOS_TABLE[t]||(En.RATIOS_TABLE[t]=new Array(ze.BARS_IN_MODULE)),En.RATIOS_TABLE[t][ze.BARS_IN_MODULE-c-1]=Math.fround(u/ze.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(t){let i=En.getDecodedCodewordValue(En.sampleBitCounts(t));return i!==-1?i:En.getClosestDecodedValue(t)}static sampleBitCounts(t){let i=it.sum(t),a=new Int32Array(ze.BARS_IN_MODULE),c=0,u=0;for(let d=0;d<ze.MODULES_IN_CODEWORD;d++){let g=i/(2*ze.MODULES_IN_CODEWORD)+d*i/ze.MODULES_IN_CODEWORD;u+t[c]<=g&&(u+=t[c],c++),a[c]++}return a}static getDecodedCodewordValue(t){let i=En.getBitValue(t);return ze.getCodeword(i)===-1?-1:i}static getBitValue(t){let i=0;for(let a=0;a<t.length;a++)for(let c=0;c<t[a];c++)i=i<<1|(a%2===0?1:0);return Math.trunc(i)}static getClosestDecodedValue(t){let i=it.sum(t),a=new Array(ze.BARS_IN_MODULE);if(i>1)for(let d=0;d<a.length;d++)a[d]=Math.fround(t[d]/i);let c=jr.MAX_VALUE,u=-1;this.bSymbolTableReady||En.initialize();for(let d=0;d<En.RATIOS_TABLE.length;d++){let g=0,x=En.RATIOS_TABLE[d];for(let A=0;A<ze.BARS_IN_MODULE;A++){let _=Math.fround(x[A]-a[A]);if(g+=Math.fround(_*_),g>=c)break}g<c&&(c=g,u=ze.SYMBOL_TABLE[d])}return u}}En.bSymbolTableReady=!1,En.RATIOS_TABLE=new Array(ze.SYMBOL_TABLE.length).map(N=>new Array(ze.BARS_IN_MODULE));class qr{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(t){this.segmentIndex=t}getFileId(){return this.fileId}setFileId(t){this.fileId=t}getOptionalData(){return this.optionalData}setOptionalData(t){this.optionalData=t}isLastSegment(){return this.lastSegment}setLastSegment(t){this.lastSegment=t}getSegmentCount(){return this.segmentCount}setSegmentCount(t){this.segmentCount=t}getSender(){return this.sender||null}setSender(t){this.sender=t}getAddressee(){return this.addressee||null}setAddressee(t){this.addressee=t}getFileName(){return this.fileName}setFileName(t){this.fileName=t}getFileSize(){return this.fileSize}setFileSize(t){this.fileSize=t}getChecksum(){return this.checksum}setChecksum(t){this.checksum=t}getTimestamp(){return this.timestamp}setTimestamp(t){this.timestamp=t}}class po{static parseLong(t,i=void 0){return parseInt(t,i)}}class ls extends v{}ls.kind="NullPointerException";class cl{writeBytes(t){this.writeBytesOffset(t,0,t.length)}writeBytesOffset(t,i,a){if(t==null)throw new ls;if(i<0||i>t.length||a<0||i+a>t.length||i+a<0)throw new le;if(a===0)return;for(let c=0;c<a;c++)this.write(t[i+c])}flush(){}close(){}}class Oa extends v{}class os extends cl{constructor(t=32){if(super(),this.count=0,t<0)throw new R("Negative initial size: "+t);this.buf=new Uint8Array(t)}ensureCapacity(t){t-this.buf.length>0&&this.grow(t)}grow(t){let a=this.buf.length<<1;if(a-t<0&&(a=t),a<0){if(t<0)throw new Oa;a=J.MAX_VALUE}this.buf=ae.copyOfUint8Array(this.buf,a)}write(t){this.ensureCapacity(this.count+1),this.buf[this.count]=t,this.count+=1}writeBytesOffset(t,i,a){if(i<0||i>t.length||a<0||i+a-t.length>0)throw new le;this.ensureCapacity(this.count+a),G.arraycopy(t,i,this.buf,this.count,a),this.count+=a}writeTo(t){t.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return ae.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(t){return t?typeof t=="string"?this.toString_string(t):this.toString_number(t):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(t){return new String(this.buf).toString()}toString_number(t){return new String(this.buf).toString()}close(){}}var bt;(function(N){N[N.ALPHA=0]="ALPHA",N[N.LOWER=1]="LOWER",N[N.MIXED=2]="MIXED",N[N.PUNCT=3]="PUNCT",N[N.ALPHA_SHIFT=4]="ALPHA_SHIFT",N[N.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(bt||(bt={}));function yo(){if(typeof window<"u")return window.BigInt||null;if(typeof Nc<"u")return Nc.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let cs;function ir(N){if(typeof cs>"u"&&(cs=yo()),cs===null)throw new Error("BigInt is not supported!");return cs(N)}function ul(){let N=[];N[0]=ir(1);let t=ir(900);N[1]=t;for(let i=2;i<16;i++)N[i]=N[i-1]*t;return N}class re{static decode(t,i){let a=new Be(""),c=he.ISO8859_1;a.enableDecoding(c);let u=1,d=t[u++],g=new qr;for(;u<t[0];){switch(d){case re.TEXT_COMPACTION_MODE_LATCH:u=re.textCompaction(t,u,a);break;case re.BYTE_COMPACTION_MODE_LATCH:case re.BYTE_COMPACTION_MODE_LATCH_6:u=re.byteCompaction(d,t,c,u,a);break;case re.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(t[u++]);break;case re.NUMERIC_COMPACTION_MODE_LATCH:u=re.numericCompaction(t,u,a);break;case re.ECI_CHARSET:he.getCharacterSetECIByValue(t[u++]);break;case re.ECI_GENERAL_PURPOSE:u+=2;break;case re.ECI_USER_DEFINED:u++;break;case re.BEGIN_MACRO_PDF417_CONTROL_BLOCK:u=re.decodeMacroBlock(t,u,g);break;case re.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case re.MACRO_PDF417_TERMINATOR:throw new K;default:u--,u=re.textCompaction(t,u,a);break}if(u<t.length)d=t[u++];else throw K.getFormatInstance()}if(a.length()===0)throw K.getFormatInstance();let x=new kt(null,a.toString(),null,i);return x.setOther(g),x}static decodeMacroBlock(t,i,a){if(i+re.NUMBER_OF_SEQUENCE_CODEWORDS>t[0])throw K.getFormatInstance();let c=new Int32Array(re.NUMBER_OF_SEQUENCE_CODEWORDS);for(let g=0;g<re.NUMBER_OF_SEQUENCE_CODEWORDS;g++,i++)c[g]=t[i];a.setSegmentIndex(J.parseInt(re.decodeBase900toBase10(c,re.NUMBER_OF_SEQUENCE_CODEWORDS)));let u=new Be;i=re.textCompaction(t,i,u),a.setFileId(u.toString());let d=-1;for(t[i]===re.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(d=i+1);i<t[0];)switch(t[i]){case re.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(i++,t[i]){case re.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let g=new Be;i=re.textCompaction(t,i+1,g),a.setFileName(g.toString());break;case re.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let x=new Be;i=re.textCompaction(t,i+1,x),a.setSender(x.toString());break;case re.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let A=new Be;i=re.textCompaction(t,i+1,A),a.setAddressee(A.toString());break;case re.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let _=new Be;i=re.numericCompaction(t,i+1,_),a.setSegmentCount(J.parseInt(_.toString()));break;case re.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let O=new Be;i=re.numericCompaction(t,i+1,O),a.setTimestamp(po.parseLong(O.toString()));break;case re.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let D=new Be;i=re.numericCompaction(t,i+1,D),a.setChecksum(J.parseInt(D.toString()));break;case re.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let k=new Be;i=re.numericCompaction(t,i+1,k),a.setFileSize(po.parseLong(k.toString()));break;default:throw K.getFormatInstance()}break;case re.MACRO_PDF417_TERMINATOR:i++,a.setLastSegment(!0);break;default:throw K.getFormatInstance()}if(d!==-1){let g=i-d;a.isLastSegment()&&g--,a.setOptionalData(ae.copyOfRange(t,d,d+g))}return i}static textCompaction(t,i,a){let c=new Int32Array((t[0]-i)*2),u=new Int32Array((t[0]-i)*2),d=0,g=!1;for(;i<t[0]&&!g;){let x=t[i++];if(x<re.TEXT_COMPACTION_MODE_LATCH)c[d]=x/30,c[d+1]=x%30,d+=2;else switch(x){case re.TEXT_COMPACTION_MODE_LATCH:c[d++]=re.TEXT_COMPACTION_MODE_LATCH;break;case re.BYTE_COMPACTION_MODE_LATCH:case re.BYTE_COMPACTION_MODE_LATCH_6:case re.NUMERIC_COMPACTION_MODE_LATCH:case re.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case re.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case re.MACRO_PDF417_TERMINATOR:i--,g=!0;break;case re.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c[d]=re.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,x=t[i++],u[d]=x,d++;break}}return re.decodeTextCompaction(c,u,d,a),i}static decodeTextCompaction(t,i,a,c){let u=bt.ALPHA,d=bt.ALPHA,g=0;for(;g<a;){let x=t[g],A="";switch(u){case bt.ALPHA:if(x<26)A=String.fromCharCode(65+x);else switch(x){case 26:A=" ";break;case re.LL:u=bt.LOWER;break;case re.ML:u=bt.MIXED;break;case re.PS:d=u,u=bt.PUNCT_SHIFT;break;case re.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(i[g]);break;case re.TEXT_COMPACTION_MODE_LATCH:u=bt.ALPHA;break}break;case bt.LOWER:if(x<26)A=String.fromCharCode(97+x);else switch(x){case 26:A=" ";break;case re.AS:d=u,u=bt.ALPHA_SHIFT;break;case re.ML:u=bt.MIXED;break;case re.PS:d=u,u=bt.PUNCT_SHIFT;break;case re.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(i[g]);break;case re.TEXT_COMPACTION_MODE_LATCH:u=bt.ALPHA;break}break;case bt.MIXED:if(x<re.PL)A=re.MIXED_CHARS[x];else switch(x){case re.PL:u=bt.PUNCT;break;case 26:A=" ";break;case re.LL:u=bt.LOWER;break;case re.AL:u=bt.ALPHA;break;case re.PS:d=u,u=bt.PUNCT_SHIFT;break;case re.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(i[g]);break;case re.TEXT_COMPACTION_MODE_LATCH:u=bt.ALPHA;break}break;case bt.PUNCT:if(x<re.PAL)A=re.PUNCT_CHARS[x];else switch(x){case re.PAL:u=bt.ALPHA;break;case re.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(i[g]);break;case re.TEXT_COMPACTION_MODE_LATCH:u=bt.ALPHA;break}break;case bt.ALPHA_SHIFT:if(u=d,x<26)A=String.fromCharCode(65+x);else switch(x){case 26:A=" ";break;case re.TEXT_COMPACTION_MODE_LATCH:u=bt.ALPHA;break}break;case bt.PUNCT_SHIFT:if(u=d,x<re.PAL)A=re.PUNCT_CHARS[x];else switch(x){case re.PAL:u=bt.ALPHA;break;case re.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(i[g]);break;case re.TEXT_COMPACTION_MODE_LATCH:u=bt.ALPHA;break}break}A!==""&&c.append(A),g++}}static byteCompaction(t,i,a,c,u){let d=new os,g=0,x=0,A=!1;switch(t){case re.BYTE_COMPACTION_MODE_LATCH:let _=new Int32Array(6),O=i[c++];for(;c<i[0]&&!A;)switch(_[g++]=O,x=900*x+O,O=i[c++],O){case re.TEXT_COMPACTION_MODE_LATCH:case re.BYTE_COMPACTION_MODE_LATCH:case re.NUMERIC_COMPACTION_MODE_LATCH:case re.BYTE_COMPACTION_MODE_LATCH_6:case re.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case re.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case re.MACRO_PDF417_TERMINATOR:c--,A=!0;break;default:if(g%5===0&&g>0){for(let D=0;D<6;++D)d.write(Number(ir(x)>>ir(8*(5-D))));x=0,g=0}break}c===i[0]&&O<re.TEXT_COMPACTION_MODE_LATCH&&(_[g++]=O);for(let D=0;D<g;D++)d.write(_[D]);break;case re.BYTE_COMPACTION_MODE_LATCH_6:for(;c<i[0]&&!A;){let D=i[c++];if(D<re.TEXT_COMPACTION_MODE_LATCH)g++,x=900*x+D;else switch(D){case re.TEXT_COMPACTION_MODE_LATCH:case re.BYTE_COMPACTION_MODE_LATCH:case re.NUMERIC_COMPACTION_MODE_LATCH:case re.BYTE_COMPACTION_MODE_LATCH_6:case re.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case re.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case re.MACRO_PDF417_TERMINATOR:c--,A=!0;break}if(g%5===0&&g>0){for(let k=0;k<6;++k)d.write(Number(ir(x)>>ir(8*(5-k))));x=0,g=0}}break}return u.append(Ue.decode(d.toByteArray(),a)),c}static numericCompaction(t,i,a){let c=0,u=!1,d=new Int32Array(re.MAX_NUMERIC_CODEWORDS);for(;i<t[0]&&!u;){let g=t[i++];if(i===t[0]&&(u=!0),g<re.TEXT_COMPACTION_MODE_LATCH)d[c]=g,c++;else switch(g){case re.TEXT_COMPACTION_MODE_LATCH:case re.BYTE_COMPACTION_MODE_LATCH:case re.BYTE_COMPACTION_MODE_LATCH_6:case re.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case re.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case re.MACRO_PDF417_TERMINATOR:i--,u=!0;break}(c%re.MAX_NUMERIC_CODEWORDS===0||g===re.NUMERIC_COMPACTION_MODE_LATCH||u)&&c>0&&(a.append(re.decodeBase900toBase10(d,c)),c=0)}return i}static decodeBase900toBase10(t,i){let a=ir(0);for(let u=0;u<i;u++)a+=re.EXP900[i-u-1]*ir(t[u]);let c=a.toString();if(c.charAt(0)!=="1")throw new K;return c.substring(1)}}re.TEXT_COMPACTION_MODE_LATCH=900,re.BYTE_COMPACTION_MODE_LATCH=901,re.NUMERIC_COMPACTION_MODE_LATCH=902,re.BYTE_COMPACTION_MODE_LATCH_6=924,re.ECI_USER_DEFINED=925,re.ECI_GENERAL_PURPOSE=926,re.ECI_CHARSET=927,re.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,re.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,re.MACRO_PDF417_TERMINATOR=922,re.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,re.MAX_NUMERIC_CODEWORDS=15,re.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,re.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,re.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,re.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,re.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,re.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,re.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,re.PL=25,re.LL=27,re.AS=27,re.ML=28,re.AL=28,re.PS=29,re.PAL=29,re.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,re.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",re.EXP900=yo()?ul():[],re.NUMBER_OF_SEQUENCE_CODEWORDS=2;class $e{constructor(){}static decode(t,i,a,c,u,d,g){let x=new Hi(t,i,a,c,u),A=null,_=null,O;for(let z=!0;;z=!1){if(i!=null&&(A=$e.getRowIndicatorColumn(t,x,i,!0,d,g)),c!=null&&(_=$e.getRowIndicatorColumn(t,x,c,!1,d,g)),O=$e.merge(A,_),O==null)throw te.getNotFoundInstance();let P=O.getBoundingBox();if(z&&P!=null&&(P.getMinY()<x.getMinY()||P.getMaxY()>x.getMaxY()))x=P;else break}O.setBoundingBox(x);let D=O.getBarcodeColumnCount()+1;O.setDetectionResultColumn(0,A),O.setDetectionResultColumn(D,_);let k=A!=null;for(let z=1;z<=D;z++){let P=k?z:D-z;if(O.getDetectionResultColumn(P)!==void 0)continue;let q;P===0||P===D?q=new ol(x,P===0):q=new tr(x),O.setDetectionResultColumn(P,q);let ie=-1,ye=ie;for(let pe=x.getMinY();pe<=x.getMaxY();pe++){if(ie=$e.getStartColumn(O,P,pe,k),ie<0||ie>x.getMaxX()){if(ye===-1)continue;ie=ye}let me=$e.detectCodeword(t,x.getMinX(),x.getMaxX(),k,ie,pe,d,g);me!=null&&(q.setCodeword(pe,me),ye=ie,d=Math.min(d,me.getWidth()),g=Math.max(g,me.getWidth()))}}return $e.createDecoderResult(O)}static merge(t,i){if(t==null&&i==null)return null;let a=$e.getBarcodeMetadata(t,i);if(a==null)return null;let c=Hi.merge($e.adjustBoundingBox(t),$e.adjustBoundingBox(i));return new dn(a,c)}static adjustBoundingBox(t){if(t==null)return null;let i=t.getRowHeights();if(i==null)return null;let a=$e.getMax(i),c=0;for(let g of i)if(c+=a-g,g>0)break;let u=t.getCodewords();for(let g=0;c>0&&u[g]==null;g++)c--;let d=0;for(let g=i.length-1;g>=0&&(d+=a-i[g],!(i[g]>0));g--);for(let g=u.length-1;d>0&&u[g]==null;g--)d--;return t.getBoundingBox().addMissingRows(c,d,t.isLeft())}static getMax(t){let i=-1;for(let a of t)i=Math.max(i,a);return i}static getBarcodeMetadata(t,i){let a;if(t==null||(a=t.getBarcodeMetadata())==null)return i==null?null:i.getBarcodeMetadata();let c;return i==null||(c=i.getBarcodeMetadata())==null?a:a.getColumnCount()!==c.getColumnCount()&&a.getErrorCorrectionLevel()!==c.getErrorCorrectionLevel()&&a.getRowCount()!==c.getRowCount()?null:a}static getRowIndicatorColumn(t,i,a,c,u,d){let g=new ol(i,c);for(let x=0;x<2;x++){let A=x===0?1:-1,_=Math.trunc(Math.trunc(a.getX()));for(let O=Math.trunc(Math.trunc(a.getY()));O<=i.getMaxY()&&O>=i.getMinY();O+=A){let D=$e.detectCodeword(t,0,t.getWidth(),c,_,O,u,d);D!=null&&(g.setCodeword(O,D),c?_=D.getStartX():_=D.getEndX())}}return g}static adjustCodewordCount(t,i){let a=i[0][1],c=a.getValue(),u=t.getBarcodeColumnCount()*t.getBarcodeRowCount()-$e.getNumberOfECCodeWords(t.getBarcodeECLevel());if(c.length===0){if(u<1||u>ze.MAX_CODEWORDS_IN_BARCODE)throw te.getNotFoundInstance();a.setValue(u)}else c[0]!==u&&a.setValue(u)}static createDecoderResult(t){let i=$e.createBarcodeMatrix(t);$e.adjustCodewordCount(t,i);let a=new Array,c=new Int32Array(t.getBarcodeRowCount()*t.getBarcodeColumnCount()),u=[],d=new Array;for(let x=0;x<t.getBarcodeRowCount();x++)for(let A=0;A<t.getBarcodeColumnCount();A++){let _=i[x][A+1].getValue(),O=x*t.getBarcodeColumnCount()+A;_.length===0?a.push(O):_.length===1?c[O]=_[0]:(d.push(O),u.push(_))}let g=new Array(u.length);for(let x=0;x<g.length;x++)g[x]=u[x];return $e.createDecoderResultFromAmbiguousValues(t.getBarcodeECLevel(),c,ze.toIntArray(a),ze.toIntArray(d),g)}static createDecoderResultFromAmbiguousValues(t,i,a,c,u){let d=new Int32Array(c.length),g=100;for(;g-- >0;){for(let x=0;x<d.length;x++)i[c[x]]=u[x][d[x]];try{return $e.decodeCodewords(i,t,a)}catch(x){if(!(x instanceof j))throw x}if(d.length===0)throw j.getChecksumInstance();for(let x=0;x<d.length;x++)if(d[x]<u[x].length-1){d[x]++;break}else if(d[x]=0,x===d.length-1)throw j.getChecksumInstance()}throw j.getChecksumInstance()}static createBarcodeMatrix(t){let i=Array.from({length:t.getBarcodeRowCount()},()=>new Array(t.getBarcodeColumnCount()+2));for(let c=0;c<i.length;c++)for(let u=0;u<i[c].length;u++)i[c][u]=new nr;let a=0;for(let c of t.getDetectionResultColumns()){if(c!=null){for(let u of c.getCodewords())if(u!=null){let d=u.getRowNumber();if(d>=0){if(d>=i.length)continue;i[d][a].setValue(u.getValue())}}}a++}return i}static isValidBarcodeColumn(t,i){return i>=0&&i<=t.getBarcodeColumnCount()+1}static getStartColumn(t,i,a,c){let u=c?1:-1,d=null;if($e.isValidBarcodeColumn(t,i-u)&&(d=t.getDetectionResultColumn(i-u).getCodeword(a)),d!=null)return c?d.getEndX():d.getStartX();if(d=t.getDetectionResultColumn(i).getCodewordNearby(a),d!=null)return c?d.getStartX():d.getEndX();if($e.isValidBarcodeColumn(t,i-u)&&(d=t.getDetectionResultColumn(i-u).getCodewordNearby(a)),d!=null)return c?d.getEndX():d.getStartX();let g=0;for(;$e.isValidBarcodeColumn(t,i-u);){i-=u;for(let x of t.getDetectionResultColumn(i).getCodewords())if(x!=null)return(c?x.getEndX():x.getStartX())+u*g*(x.getEndX()-x.getStartX());g++}return c?t.getBoundingBox().getMinX():t.getBoundingBox().getMaxX()}static detectCodeword(t,i,a,c,u,d,g,x){u=$e.adjustCodewordStartColumn(t,i,a,c,u,d);let A=$e.getModuleBitCount(t,i,a,c,u,d);if(A==null)return null;let _,O=it.sum(A);if(c)_=u+O;else{for(let z=0;z<A.length/2;z++){let P=A[z];A[z]=A[A.length-1-z],A[A.length-1-z]=P}_=u,u=_-O}if(!$e.checkCodewordSkew(O,g,x))return null;let D=En.getDecodedValue(A),k=ze.getCodeword(D);return k===-1?null:new ci(u,_,$e.getCodewordBucketNumber(D),k)}static getModuleBitCount(t,i,a,c,u,d){let g=u,x=new Int32Array(8),A=0,_=c?1:-1,O=c;for(;(c?g<a:g>=i)&&A<x.length;)t.get(g,d)===O?(x[A]++,g+=_):(A++,O=!O);return A===x.length||g===(c?a:i)&&A===x.length-1?x:null}static getNumberOfECCodeWords(t){return 2<<t}static adjustCodewordStartColumn(t,i,a,c,u,d){let g=u,x=c?-1:1;for(let A=0;A<2;A++){for(;(c?g>=i:g<a)&&c===t.get(g,d);){if(Math.abs(u-g)>$e.CODEWORD_SKEW_SIZE)return u;g+=x}x=-x,c=!c}return g}static checkCodewordSkew(t,i,a){return i-$e.CODEWORD_SKEW_SIZE<=t&&t<=a+$e.CODEWORD_SKEW_SIZE}static decodeCodewords(t,i,a){if(t.length===0)throw K.getFormatInstance();let c=1<<i+1,u=$e.correctErrors(t,a,c);$e.verifyCodewordCount(t,c);let d=re.decode(t,""+i);return d.setErrorsCorrected(u),d.setErasures(a.length),d}static correctErrors(t,i,a){if(i!=null&&i.length>a/2+$e.MAX_ERRORS||a<0||a>$e.MAX_EC_CODEWORDS)throw j.getChecksumInstance();return $e.errorCorrection.decode(t,a,i)}static verifyCodewordCount(t,i){if(t.length<4)throw K.getFormatInstance();let a=t[0];if(a>t.length)throw K.getFormatInstance();if(a===0)if(i<t.length)t[0]=t.length-i;else throw K.getFormatInstance()}static getBitCountForCodeword(t){let i=new Int32Array(8),a=0,c=i.length-1;for(;!((t&1)!==a&&(a=t&1,c--,c<0));)i[c]++,t>>=1;return i}static getCodewordBucketNumber(t){return t instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(t):this.getCodewordBucketNumber_number(t)}static getCodewordBucketNumber_number(t){return $e.getCodewordBucketNumber($e.getBitCountForCodeword(t))}static getCodewordBucketNumber_Int32Array(t){return(t[0]-t[2]+t[4]-t[6]+9)%9}static toString(t){let i=new Yr;for(let a=0;a<t.length;a++){i.format("Row %2d: ",a);for(let c=0;c<t[a].length;c++){let u=t[a][c];u.getValue().length===0?i.format("        ",null):i.format("%4d(%2d)",u.getValue()[0],u.getConfidence(u.getValue()[0]))}i.format("%n")}return i.toString()}}$e.CODEWORD_SKEW_SIZE=2,$e.MAX_ERRORS=3,$e.MAX_EC_CODEWORDS=512,$e.errorCorrection=new Fi;class Sn{decode(t,i=null){let a=Sn.decode(t,i,!1);if(a==null||a.length===0||a[0]==null)throw te.getNotFoundInstance();return a[0]}decodeMultiple(t,i=null){try{return Sn.decode(t,i,!0)}catch(a){throw a instanceof K||a instanceof j?te.getNotFoundInstance():a}}static decode(t,i,a){const c=new Array,u=qe.detectMultiple(t,i,a);for(const d of u.getPoints()){const g=$e.decode(u.getBits(),d[4],d[5],d[6],d[7],Sn.getMinCodewordWidth(d),Sn.getMaxCodewordWidth(d)),x=new Ae(g.getText(),g.getRawBytes(),void 0,d,we.PDF_417);x.putMetadata(dt.ERROR_CORRECTION_LEVEL,g.getECLevel());const A=g.getOther();A!=null&&x.putMetadata(dt.PDF417_EXTRA_METADATA,A),c.push(x)}return c.map(d=>d)}static getMaxWidth(t,i){return t==null||i==null?0:Math.trunc(Math.abs(t.getX()-i.getX()))}static getMinWidth(t,i){return t==null||i==null?J.MAX_VALUE:Math.trunc(Math.abs(t.getX()-i.getX()))}static getMaxCodewordWidth(t){return Math.floor(Math.max(Math.max(Sn.getMaxWidth(t[0],t[4]),Sn.getMaxWidth(t[6],t[2])*ze.MODULES_IN_CODEWORD/ze.MODULES_IN_STOP_PATTERN),Math.max(Sn.getMaxWidth(t[1],t[5]),Sn.getMaxWidth(t[7],t[3])*ze.MODULES_IN_CODEWORD/ze.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(t){return Math.floor(Math.min(Math.min(Sn.getMinWidth(t[0],t[4]),Sn.getMinWidth(t[6],t[2])*ze.MODULES_IN_CODEWORD/ze.MODULES_IN_STOP_PATTERN),Math.min(Sn.getMinWidth(t[1],t[5]),Sn.getMinWidth(t[7],t[3])*ze.MODULES_IN_CODEWORD/ze.MODULES_IN_STOP_PATTERN)))}reset(){}}class us extends v{}us.kind="ReaderException";class xo{constructor(t,i){this.verbose=t===!0,i&&this.setHints(i)}decode(t,i){return i&&this.setHints(i),this.decodeInternal(t)}decodeWithState(t){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(t)}setHints(t){this.hints=t;const i=!f(t)&&t.get(ve.TRY_HARDER)===!0,a=f(t)?null:t.get(ve.POSSIBLE_FORMATS),c=new Array;if(!f(a)){const u=a.some(d=>d===we.UPC_A||d===we.UPC_E||d===we.EAN_13||d===we.EAN_8||d===we.CODABAR||d===we.CODE_39||d===we.CODE_93||d===we.CODE_128||d===we.ITF||d===we.RSS_14||d===we.RSS_EXPANDED);u&&!i&&c.push(new li(t,this.verbose)),a.includes(we.QR_CODE)&&c.push(new Pi),a.includes(we.DATA_MATRIX)&&c.push(new zi),a.includes(we.AZTEC)&&c.push(new ns),a.includes(we.PDF_417)&&c.push(new Sn),u&&i&&c.push(new li(t,this.verbose))}c.length===0&&(i||c.push(new li(t,this.verbose)),c.push(new Pi),c.push(new zi),c.push(new ns),c.push(new Sn),i&&c.push(new li(t,this.verbose))),this.readers=c}reset(){if(this.readers!==null)for(const t of this.readers)t.reset()}decodeInternal(t){if(this.readers===null)throw new us("No readers where selected, nothing can be read.");for(const i of this.readers)try{return i.decode(t,this.hints)}catch(a){if(a instanceof us)continue}throw new te("No MultiFormat Readers were able to detect the code.")}}class wo extends be{constructor(t=null,i=500){const a=new xo;a.setHints(t),super(a,i)}decodeBitmap(t){return this.reader.decodeWithState(t)}}class Qc extends be{constructor(t=500){super(new Sn,t)}}class Kc extends be{constructor(t=500){super(new Pi,t)}}var hl;(function(N){N[N.ERROR_CORRECTION=0]="ERROR_CORRECTION",N[N.CHARACTER_SET=1]="CHARACTER_SET",N[N.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",N[N.MIN_SIZE=3]="MIN_SIZE",N[N.MAX_SIZE=4]="MAX_SIZE",N[N.MARGIN=5]="MARGIN",N[N.PDF417_COMPACT=6]="PDF417_COMPACT",N[N.PDF417_COMPACTION=7]="PDF417_COMPACTION",N[N.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",N[N.AZTEC_LAYERS=9]="AZTEC_LAYERS",N[N.QR_VERSION=10]="QR_VERSION"})(hl||(hl={}));var cn=hl;class Ia{constructor(t){this.field=t,this.cachedGenerators=[],this.cachedGenerators.push(new vn(t,Int32Array.from([1])))}buildGenerator(t){const i=this.cachedGenerators;if(t>=i.length){let a=i[i.length-1];const c=this.field;for(let u=i.length;u<=t;u++){const d=a.multiply(new vn(c,Int32Array.from([1,c.exp(u-1+c.getGeneratorBase())])));i.push(d),a=d}}return i[t]}encode(t,i){if(i===0)throw new R("No error correction bytes");const a=t.length-i;if(a<=0)throw new R("No data bytes provided");const c=this.buildGenerator(i),u=new Int32Array(a);G.arraycopy(t,0,u,0,a);let d=new vn(this.field,u);d=d.multiplyByMonomial(i,1);const x=d.divide(c)[1].getCoefficients(),A=i-x.length;for(let _=0;_<A;_++)t[a+_]=0;G.arraycopy(x,0,t,a+A,x.length)}}class Zt{constructor(){}static applyMaskPenaltyRule1(t){return Zt.applyMaskPenaltyRule1Internal(t,!0)+Zt.applyMaskPenaltyRule1Internal(t,!1)}static applyMaskPenaltyRule2(t){let i=0;const a=t.getArray(),c=t.getWidth(),u=t.getHeight();for(let d=0;d<u-1;d++){const g=a[d];for(let x=0;x<c-1;x++){const A=g[x];A===g[x+1]&&A===a[d+1][x]&&A===a[d+1][x+1]&&i++}}return Zt.N2*i}static applyMaskPenaltyRule3(t){let i=0;const a=t.getArray(),c=t.getWidth(),u=t.getHeight();for(let d=0;d<u;d++)for(let g=0;g<c;g++){const x=a[d];g+6<c&&x[g]===1&&x[g+1]===0&&x[g+2]===1&&x[g+3]===1&&x[g+4]===1&&x[g+5]===0&&x[g+6]===1&&(Zt.isWhiteHorizontal(x,g-4,g)||Zt.isWhiteHorizontal(x,g+7,g+11))&&i++,d+6<u&&a[d][g]===1&&a[d+1][g]===0&&a[d+2][g]===1&&a[d+3][g]===1&&a[d+4][g]===1&&a[d+5][g]===0&&a[d+6][g]===1&&(Zt.isWhiteVertical(a,g,d-4,d)||Zt.isWhiteVertical(a,g,d+7,d+11))&&i++}return i*Zt.N3}static isWhiteHorizontal(t,i,a){i=Math.max(i,0),a=Math.min(a,t.length);for(let c=i;c<a;c++)if(t[c]===1)return!1;return!0}static isWhiteVertical(t,i,a,c){a=Math.max(a,0),c=Math.min(c,t.length);for(let u=a;u<c;u++)if(t[u][i]===1)return!1;return!0}static applyMaskPenaltyRule4(t){let i=0;const a=t.getArray(),c=t.getWidth(),u=t.getHeight();for(let x=0;x<u;x++){const A=a[x];for(let _=0;_<c;_++)A[_]===1&&i++}const d=t.getHeight()*t.getWidth();return Math.floor(Math.abs(i*2-d)*10/d)*Zt.N4}static getDataMaskBit(t,i,a){let c,u;switch(t){case 0:c=a+i&1;break;case 1:c=a&1;break;case 2:c=i%3;break;case 3:c=(a+i)%3;break;case 4:c=Math.floor(a/2)+Math.floor(i/3)&1;break;case 5:u=a*i,c=(u&1)+u%3;break;case 6:u=a*i,c=(u&1)+u%3&1;break;case 7:u=a*i,c=u%3+(a+i&1)&1;break;default:throw new R("Invalid mask pattern: "+t)}return c===0}static applyMaskPenaltyRule1Internal(t,i){let a=0;const c=i?t.getHeight():t.getWidth(),u=i?t.getWidth():t.getHeight(),d=t.getArray();for(let g=0;g<c;g++){let x=0,A=-1;for(let _=0;_<u;_++){const O=i?d[g][_]:d[_][g];O===A?x++:(x>=5&&(a+=Zt.N1+(x-5)),x=1,A=O)}x>=5&&(a+=Zt.N1+(x-5))}return a}}Zt.N1=3,Zt.N2=3,Zt.N3=40,Zt.N4=10;class hs{constructor(t,i){this.width=t,this.height=i;const a=new Array(i);for(let c=0;c!==i;c++)a[c]=new Uint8Array(t);this.bytes=a}getHeight(){return this.height}getWidth(){return this.width}get(t,i){return this.bytes[i][t]}getArray(){return this.bytes}setNumber(t,i,a){this.bytes[i][t]=a}setBoolean(t,i,a){this.bytes[i][t]=a?1:0}clear(t){for(const i of this.bytes)ae.fill(i,t)}equals(t){if(!(t instanceof hs))return!1;const i=t;if(this.width!==i.width||this.height!==i.height)return!1;for(let a=0,c=this.height;a<c;++a){const u=this.bytes[a],d=i.bytes[a];for(let g=0,x=this.width;g<x;++g)if(u[g]!==d[g])return!1}return!0}toString(){const t=new Be;for(let i=0,a=this.height;i<a;++i){const c=this.bytes[i];for(let u=0,d=this.width;u<d;++u)switch(c[u]){case 0:t.append(" 0");break;case 1:t.append(" 1");break;default:t.append("  ");break}t.append(`
`)}return t.toString()}}class fr{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const t=new Be;return t.append(`<<
`),t.append(" mode: "),t.append(this.mode?this.mode.toString():"null"),t.append(`
 ecLevel: `),t.append(this.ecLevel?this.ecLevel.toString():"null"),t.append(`
 version: `),t.append(this.version?this.version.toString():"null"),t.append(`
 maskPattern: `),t.append(this.maskPattern.toString()),this.matrix?(t.append(`
 matrix:
`),t.append(this.matrix.toString())):t.append(`
 matrix: null
`),t.append(`>>
`),t.toString()}setMode(t){this.mode=t}setECLevel(t){this.ecLevel=t}setVersion(t){this.version=t}setMaskPattern(t){this.maskPattern=t}setMatrix(t){this.matrix=t}static isValidMaskPattern(t){return t>=0&&t<fr.NUM_MASK_PATTERNS}}fr.NUM_MASK_PATTERNS=8;class St extends v{}St.kind="WriterException";class Pe{constructor(){}static clearMatrix(t){t.clear(255)}static buildMatrix(t,i,a,c,u){Pe.clearMatrix(u),Pe.embedBasicPatterns(a,u),Pe.embedTypeInfo(i,c,u),Pe.maybeEmbedVersionInfo(a,u),Pe.embedDataBits(t,c,u)}static embedBasicPatterns(t,i){Pe.embedPositionDetectionPatternsAndSeparators(i),Pe.embedDarkDotAtLeftBottomCorner(i),Pe.maybeEmbedPositionAdjustmentPatterns(t,i),Pe.embedTimingPatterns(i)}static embedTypeInfo(t,i,a){const c=new $;Pe.makeTypeInfoBits(t,i,c);for(let u=0,d=c.getSize();u<d;++u){const g=c.get(c.getSize()-1-u),x=Pe.TYPE_INFO_COORDINATES[u],A=x[0],_=x[1];if(a.setBoolean(A,_,g),u<8){const O=a.getWidth()-u-1;a.setBoolean(O,8,g)}else{const D=a.getHeight()-7+(u-8);a.setBoolean(8,D,g)}}}static maybeEmbedVersionInfo(t,i){if(t.getVersionNumber()<7)return;const a=new $;Pe.makeVersionInfoBits(t,a);let c=17;for(let u=0;u<6;++u)for(let d=0;d<3;++d){const g=a.get(c);c--,i.setBoolean(u,i.getHeight()-11+d,g),i.setBoolean(i.getHeight()-11+d,u,g)}}static embedDataBits(t,i,a){let c=0,u=-1,d=a.getWidth()-1,g=a.getHeight()-1;for(;d>0;){for(d===6&&(d-=1);g>=0&&g<a.getHeight();){for(let x=0;x<2;++x){const A=d-x;if(!Pe.isEmpty(a.get(A,g)))continue;let _;c<t.getSize()?(_=t.get(c),++c):_=!1,i!==255&&Zt.getDataMaskBit(i,A,g)&&(_=!_),a.setBoolean(A,g,_)}g+=u}u=-u,g+=u,d-=2}if(c!==t.getSize())throw new St("Not all bits consumed: "+c+"/"+t.getSize())}static findMSBSet(t){return 32-J.numberOfLeadingZeros(t)}static calculateBCHCode(t,i){if(i===0)throw new R("0 polynomial");const a=Pe.findMSBSet(i);for(t<<=a-1;Pe.findMSBSet(t)>=a;)t^=i<<Pe.findMSBSet(t)-a;return t}static makeTypeInfoBits(t,i,a){if(!fr.isValidMaskPattern(i))throw new St("Invalid mask pattern");const c=t.getBits()<<3|i;a.appendBits(c,5);const u=Pe.calculateBCHCode(c,Pe.TYPE_INFO_POLY);a.appendBits(u,10);const d=new $;if(d.appendBits(Pe.TYPE_INFO_MASK_PATTERN,15),a.xor(d),a.getSize()!==15)throw new St("should not happen but we got: "+a.getSize())}static makeVersionInfoBits(t,i){i.appendBits(t.getVersionNumber(),6);const a=Pe.calculateBCHCode(t.getVersionNumber(),Pe.VERSION_INFO_POLY);if(i.appendBits(a,12),i.getSize()!==18)throw new St("should not happen but we got: "+i.getSize())}static isEmpty(t){return t===255}static embedTimingPatterns(t){for(let i=8;i<t.getWidth()-8;++i){const a=(i+1)%2;Pe.isEmpty(t.get(i,6))&&t.setNumber(i,6,a),Pe.isEmpty(t.get(6,i))&&t.setNumber(6,i,a)}}static embedDarkDotAtLeftBottomCorner(t){if(t.get(8,t.getHeight()-8)===0)throw new St;t.setNumber(8,t.getHeight()-8,1)}static embedHorizontalSeparationPattern(t,i,a){for(let c=0;c<8;++c){if(!Pe.isEmpty(a.get(t+c,i)))throw new St;a.setNumber(t+c,i,0)}}static embedVerticalSeparationPattern(t,i,a){for(let c=0;c<7;++c){if(!Pe.isEmpty(a.get(t,i+c)))throw new St;a.setNumber(t,i+c,0)}}static embedPositionAdjustmentPattern(t,i,a){for(let c=0;c<5;++c){const u=Pe.POSITION_ADJUSTMENT_PATTERN[c];for(let d=0;d<5;++d)a.setNumber(t+d,i+c,u[d])}}static embedPositionDetectionPattern(t,i,a){for(let c=0;c<7;++c){const u=Pe.POSITION_DETECTION_PATTERN[c];for(let d=0;d<7;++d)a.setNumber(t+d,i+c,u[d])}}static embedPositionDetectionPatternsAndSeparators(t){const i=Pe.POSITION_DETECTION_PATTERN[0].length;Pe.embedPositionDetectionPattern(0,0,t),Pe.embedPositionDetectionPattern(t.getWidth()-i,0,t),Pe.embedPositionDetectionPattern(0,t.getWidth()-i,t);const a=8;Pe.embedHorizontalSeparationPattern(0,a-1,t),Pe.embedHorizontalSeparationPattern(t.getWidth()-a,a-1,t),Pe.embedHorizontalSeparationPattern(0,t.getWidth()-a,t);const c=7;Pe.embedVerticalSeparationPattern(c,0,t),Pe.embedVerticalSeparationPattern(t.getHeight()-c-1,0,t),Pe.embedVerticalSeparationPattern(c,t.getHeight()-c,t)}static maybeEmbedPositionAdjustmentPatterns(t,i){if(t.getVersionNumber()<2)return;const a=t.getVersionNumber()-1,c=Pe.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[a];for(let u=0,d=c.length;u!==d;u++){const g=c[u];if(g>=0)for(let x=0;x!==d;x++){const A=c[x];A>=0&&Pe.isEmpty(i.get(A,g))&&Pe.embedPositionAdjustmentPattern(A-2,g-2,i)}}}}Pe.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Pe.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Pe.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Pe.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Pe.VERSION_INFO_POLY=7973,Pe.TYPE_INFO_POLY=1335,Pe.TYPE_INFO_MASK_PATTERN=21522;class Jc{constructor(t,i){this.dataBytes=t,this.errorCorrectionBytes=i}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class zt{constructor(){}static calculateMaskPenalty(t){return Zt.applyMaskPenaltyRule1(t)+Zt.applyMaskPenaltyRule2(t)+Zt.applyMaskPenaltyRule3(t)+Zt.applyMaskPenaltyRule4(t)}static encode(t,i,a=null){let c=zt.DEFAULT_BYTE_MODE_ENCODING;const u=a!==null&&a.get(cn.CHARACTER_SET)!==void 0;u&&(c=a.get(cn.CHARACTER_SET).toString());const d=this.chooseMode(t,c),g=new $;if(d===Le.BYTE&&(u||zt.DEFAULT_BYTE_MODE_ENCODING!==c)){const pe=he.getCharacterSetECIByName(c);pe!==void 0&&this.appendECI(pe,g)}this.appendModeInfo(d,g);const x=new $;this.appendBytes(t,d,x,c);let A;if(a!==null&&a.get(cn.QR_VERSION)!==void 0){const pe=Number.parseInt(a.get(cn.QR_VERSION).toString(),10);A=Ie.getVersionForNumber(pe);const me=this.calculateBitsNeeded(d,g,x,A);if(!this.willFit(me,A,i))throw new St("Data too big for requested version")}else A=this.recommendVersion(i,d,g,x);const _=new $;_.appendBitArray(g);const O=d===Le.BYTE?x.getSizeInBytes():t.length;this.appendLengthInfo(O,A,d,_),_.appendBitArray(x);const D=A.getECBlocksForLevel(i),k=A.getTotalCodewords()-D.getTotalECCodewords();this.terminateBits(k,_);const z=this.interleaveWithECBytes(_,A.getTotalCodewords(),k,D.getNumBlocks()),P=new fr;P.setECLevel(i),P.setMode(d),P.setVersion(A);const q=A.getDimensionForVersion(),ie=new hs(q,q),ye=this.chooseMaskPattern(z,i,A,ie);return P.setMaskPattern(ye),Pe.buildMatrix(z,i,A,ye,ie),P.setMatrix(ie),P}static recommendVersion(t,i,a,c){const u=this.calculateBitsNeeded(i,a,c,Ie.getVersionForNumber(1)),d=this.chooseVersion(u,t),g=this.calculateBitsNeeded(i,a,c,d);return this.chooseVersion(g,t)}static calculateBitsNeeded(t,i,a,c){return i.getSize()+t.getCharacterCountBits(c)+a.getSize()}static getAlphanumericCode(t){return t<zt.ALPHANUMERIC_TABLE.length?zt.ALPHANUMERIC_TABLE[t]:-1}static chooseMode(t,i=null){if(he.SJIS.getName()===i&&this.isOnlyDoubleByteKanji(t))return Le.KANJI;let a=!1,c=!1;for(let u=0,d=t.length;u<d;++u){const g=t.charAt(u);if(zt.isDigit(g))a=!0;else if(this.getAlphanumericCode(g.charCodeAt(0))!==-1)c=!0;else return Le.BYTE}return c?Le.ALPHANUMERIC:a?Le.NUMERIC:Le.BYTE}static isOnlyDoubleByteKanji(t){let i;try{i=Ue.encode(t,he.SJIS)}catch{return!1}const a=i.length;if(a%2!==0)return!1;for(let c=0;c<a;c+=2){const u=i[c]&255;if((u<129||u>159)&&(u<224||u>235))return!1}return!0}static chooseMaskPattern(t,i,a,c){let u=Number.MAX_SAFE_INTEGER,d=-1;for(let g=0;g<fr.NUM_MASK_PATTERNS;g++){Pe.buildMatrix(t,i,a,g,c);let x=this.calculateMaskPenalty(c);x<u&&(u=x,d=g)}return d}static chooseVersion(t,i){for(let a=1;a<=40;a++){const c=Ie.getVersionForNumber(a);if(zt.willFit(t,c,i))return c}throw new St("Data too big")}static willFit(t,i,a){const c=i.getTotalCodewords(),d=i.getECBlocksForLevel(a).getTotalECCodewords(),g=c-d,x=(t+7)/8;return g>=x}static terminateBits(t,i){const a=t*8;if(i.getSize()>a)throw new St("data bits cannot fit in the QR Code"+i.getSize()+" > "+a);for(let d=0;d<4&&i.getSize()<a;++d)i.appendBit(!1);const c=i.getSize()&7;if(c>0)for(let d=c;d<8;d++)i.appendBit(!1);const u=t-i.getSizeInBytes();for(let d=0;d<u;++d)i.appendBits((d&1)===0?236:17,8);if(i.getSize()!==a)throw new St("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(t,i,a,c,u,d){if(c>=a)throw new St("Block ID too large");const g=t%a,x=a-g,A=Math.floor(t/a),_=A+1,O=Math.floor(i/a),D=O+1,k=A-O,z=_-D;if(k!==z)throw new St("EC bytes mismatch");if(a!==x+g)throw new St("RS blocks mismatch");if(t!==(O+k)*x+(D+z)*g)throw new St("Total bytes mismatch");c<x?(u[0]=O,d[0]=k):(u[0]=D,d[0]=z)}static interleaveWithECBytes(t,i,a,c){if(t.getSizeInBytes()!==a)throw new St("Number of bits and data bytes does not match");let u=0,d=0,g=0;const x=new Array;for(let _=0;_<c;++_){const O=new Int32Array(1),D=new Int32Array(1);zt.getNumDataBytesAndNumECBytesForBlockID(i,a,c,_,O,D);const k=O[0],z=new Uint8Array(k);t.toBytes(8*u,z,0,k);const P=zt.generateECBytes(z,D[0]);x.push(new Jc(z,P)),d=Math.max(d,k),g=Math.max(g,P.length),u+=O[0]}if(a!==u)throw new St("Data bytes does not match offset");const A=new $;for(let _=0;_<d;++_)for(const O of x){const D=O.getDataBytes();_<D.length&&A.appendBits(D[_],8)}for(let _=0;_<g;++_)for(const O of x){const D=O.getErrorCorrectionBytes();_<D.length&&A.appendBits(D[_],8)}if(i!==A.getSizeInBytes())throw new St("Interleaving error: "+i+" and "+A.getSizeInBytes()+" differ.");return A}static generateECBytes(t,i){const a=t.length,c=new Int32Array(a+i);for(let d=0;d<a;d++)c[d]=t[d]&255;new Ia(gt.QR_CODE_FIELD_256).encode(c,i);const u=new Uint8Array(i);for(let d=0;d<i;d++)u[d]=c[a+d];return u}static appendModeInfo(t,i){i.appendBits(t.getBits(),4)}static appendLengthInfo(t,i,a,c){const u=a.getCharacterCountBits(i);if(t>=1<<u)throw new St(t+" is bigger than "+((1<<u)-1));c.appendBits(t,u)}static appendBytes(t,i,a,c){switch(i){case Le.NUMERIC:zt.appendNumericBytes(t,a);break;case Le.ALPHANUMERIC:zt.appendAlphanumericBytes(t,a);break;case Le.BYTE:zt.append8BitBytes(t,a,c);break;case Le.KANJI:zt.appendKanjiBytes(t,a);break;default:throw new St("Invalid mode: "+i)}}static getDigit(t){return t.charCodeAt(0)-48}static isDigit(t){const i=zt.getDigit(t);return i>=0&&i<=9}static appendNumericBytes(t,i){const a=t.length;let c=0;for(;c<a;){const u=zt.getDigit(t.charAt(c));if(c+2<a){const d=zt.getDigit(t.charAt(c+1)),g=zt.getDigit(t.charAt(c+2));i.appendBits(u*100+d*10+g,10),c+=3}else if(c+1<a){const d=zt.getDigit(t.charAt(c+1));i.appendBits(u*10+d,7),c+=2}else i.appendBits(u,4),c++}}static appendAlphanumericBytes(t,i){const a=t.length;let c=0;for(;c<a;){const u=zt.getAlphanumericCode(t.charCodeAt(c));if(u===-1)throw new St;if(c+1<a){const d=zt.getAlphanumericCode(t.charCodeAt(c+1));if(d===-1)throw new St;i.appendBits(u*45+d,11),c+=2}else i.appendBits(u,6),c++}}static append8BitBytes(t,i,a){let c;try{c=Ue.encode(t,a)}catch(u){throw new St(u)}for(let u=0,d=c.length;u!==d;u++){const g=c[u];i.appendBits(g,8)}}static appendKanjiBytes(t,i){let a;try{a=Ue.encode(t,he.SJIS)}catch(u){throw new St(u)}const c=a.length;for(let u=0;u<c;u+=2){const d=a[u]&255,g=a[u+1]&255,x=d<<8&4294967295|g;let A=-1;if(x>=33088&&x<=40956?A=x-33088:x>=57408&&x<=60351&&(A=x-49472),A===-1)throw new St("Invalid byte sequence");const _=(A>>8)*192+(A&255);i.appendBits(_,13)}}static appendECI(t,i){i.appendBits(Le.ECI.getBits(),4),i.appendBits(t.getValue(),8)}}zt.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),zt.DEFAULT_BYTE_MODE_ENCODING=he.UTF8.getName();class dr{write(t,i,a,c=null){if(t.length===0)throw new R("Found empty contents");if(i<0||a<0)throw new R("Requested dimensions are too small: "+i+"x"+a);let u=nt.L,d=dr.QUIET_ZONE_SIZE;c!==null&&(c.get(cn.ERROR_CORRECTION)!==void 0&&(u=nt.fromString(c.get(cn.ERROR_CORRECTION).toString())),c.get(cn.MARGIN)!==void 0&&(d=Number.parseInt(c.get(cn.MARGIN).toString(),10)));const g=zt.encode(t,u,c);return this.renderResult(g,i,a,d)}writeToDom(t,i,a,c,u=null){typeof t=="string"&&(t=document.querySelector(t));const d=this.write(i,a,c,u);t&&t.appendChild(d)}renderResult(t,i,a,c){const u=t.getMatrix();if(u===null)throw new Wn;const d=u.getWidth(),g=u.getHeight(),x=d+c*2,A=g+c*2,_=Math.max(i,x),O=Math.max(a,A),D=Math.min(Math.floor(_/x),Math.floor(O/A)),k=Math.floor((_-d*D)/2),z=Math.floor((O-g*D)/2),P=this.createSVGElement(_,O);for(let q=0,ie=z;q<g;q++,ie+=D)for(let ye=0,pe=k;ye<d;ye++,pe+=D)if(u.get(ye,q)===1){const me=this.createSvgRectElement(pe,ie,D,D);P.appendChild(me)}return P}createSVGElement(t,i){const a=document.createElementNS(dr.SVG_NS,"svg");return a.setAttributeNS(null,"height",t.toString()),a.setAttributeNS(null,"width",i.toString()),a}createSvgRectElement(t,i,a,c){const u=document.createElementNS(dr.SVG_NS,"rect");return u.setAttributeNS(null,"x",t.toString()),u.setAttributeNS(null,"y",i.toString()),u.setAttributeNS(null,"height",a.toString()),u.setAttributeNS(null,"width",c.toString()),u.setAttributeNS(null,"fill","#000000"),u}}dr.QUIET_ZONE_SIZE=4,dr.SVG_NS="http://www.w3.org/2000/svg";class Xr{encode(t,i,a,c,u){if(t.length===0)throw new R("Found empty contents");if(i!==we.QR_CODE)throw new R("Can only encode QR_CODE, but got "+i);if(a<0||c<0)throw new R(`Requested dimensions are too small: ${a}x${c}`);let d=nt.L,g=Xr.QUIET_ZONE_SIZE;u!==null&&(u.get(cn.ERROR_CORRECTION)!==void 0&&(d=nt.fromString(u.get(cn.ERROR_CORRECTION).toString())),u.get(cn.MARGIN)!==void 0&&(g=Number.parseInt(u.get(cn.MARGIN).toString(),10)));const x=zt.encode(t,d,u);return Xr.renderResult(x,a,c,g)}static renderResult(t,i,a,c){const u=t.getMatrix();if(u===null)throw new Wn;const d=u.getWidth(),g=u.getHeight(),x=d+c*2,A=g+c*2,_=Math.max(i,x),O=Math.max(a,A),D=Math.min(Math.floor(_/x),Math.floor(O/A)),k=Math.floor((_-d*D)/2),z=Math.floor((O-g*D)/2),P=new Ye(_,O);for(let q=0,ie=z;q<g;q++,ie+=D)for(let ye=0,pe=k;ye<d;ye++,pe+=D)u.get(ye,q)===1&&P.setRegion(pe,ie,D,D);return P}}Xr.QUIET_ZONE_SIZE=4;class $c{encode(t,i,a,c,u){let d;if(i===we.QR_CODE)d=new Xr;else throw new R("No encoder available for format "+i);return d.encode(t,i,a,c,u)}}class Ti extends ke{constructor(t,i,a,c,u,d,g,x){if(super(d,g),this.yuvData=t,this.dataWidth=i,this.dataHeight=a,this.left=c,this.top=u,c+d>i||u+g>a)throw new R("Crop rectangle does not fit within image data.");x&&this.reverseHorizontal(d,g)}getRow(t,i){if(t<0||t>=this.getHeight())throw new R("Requested row is outside the image: "+t);const a=this.getWidth();(i==null||i.length<a)&&(i=new Uint8ClampedArray(a));const c=(t+this.top)*this.dataWidth+this.left;return G.arraycopy(this.yuvData,c,i,0,a),i}getMatrix(){const t=this.getWidth(),i=this.getHeight();if(t===this.dataWidth&&i===this.dataHeight)return this.yuvData;const a=t*i,c=new Uint8ClampedArray(a);let u=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return G.arraycopy(this.yuvData,u,c,0,a),c;for(let d=0;d<i;d++){const g=d*t;G.arraycopy(this.yuvData,u,c,g,t),u+=this.dataWidth}return c}isCropSupported(){return!0}crop(t,i,a,c){return new Ti(this.yuvData,this.dataWidth,this.dataHeight,this.left+t,this.top+i,a,c,!1)}renderThumbnail(){const t=this.getWidth()/Ti.THUMBNAIL_SCALE_FACTOR,i=this.getHeight()/Ti.THUMBNAIL_SCALE_FACTOR,a=new Int32Array(t*i),c=this.yuvData;let u=this.top*this.dataWidth+this.left;for(let d=0;d<i;d++){const g=d*t;for(let x=0;x<t;x++){const A=c[u+x*Ti.THUMBNAIL_SCALE_FACTOR]&255;a[g+x]=4278190080|A*65793}u+=this.dataWidth*Ti.THUMBNAIL_SCALE_FACTOR}return a}getThumbnailWidth(){return this.getWidth()/Ti.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Ti.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(t,i){const a=this.yuvData;for(let c=0,u=this.top*this.dataWidth+this.left;c<i;c++,u+=this.dataWidth){const d=u+t/2;for(let g=u,x=u+t-1;g<d;g++,x--){const A=a[g];a[g]=a[x],a[x]=A}}}invert(){return new Xe(this)}}Ti.THUMBNAIL_SCALE_FACTOR=2;class fl extends ke{constructor(t,i,a,c,u,d,g){if(super(i,a),this.dataWidth=c,this.dataHeight=u,this.left=d,this.top=g,t.BYTES_PER_ELEMENT===4){const x=i*a,A=new Uint8ClampedArray(x);for(let _=0;_<x;_++){const O=t[_],D=O>>16&255,k=O>>7&510,z=O&255;A[_]=(D+k+z)/4&255}this.luminances=A}else this.luminances=t;if(c===void 0&&(this.dataWidth=i),u===void 0&&(this.dataHeight=a),d===void 0&&(this.left=0),g===void 0&&(this.top=0),this.left+i>this.dataWidth||this.top+a>this.dataHeight)throw new R("Crop rectangle does not fit within image data.")}getRow(t,i){if(t<0||t>=this.getHeight())throw new R("Requested row is outside the image: "+t);const a=this.getWidth();(i==null||i.length<a)&&(i=new Uint8ClampedArray(a));const c=(t+this.top)*this.dataWidth+this.left;return G.arraycopy(this.luminances,c,i,0,a),i}getMatrix(){const t=this.getWidth(),i=this.getHeight();if(t===this.dataWidth&&i===this.dataHeight)return this.luminances;const a=t*i,c=new Uint8ClampedArray(a);let u=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return G.arraycopy(this.luminances,u,c,0,a),c;for(let d=0;d<i;d++){const g=d*t;G.arraycopy(this.luminances,u,c,g,t),u+=this.dataWidth}return c}isCropSupported(){return!0}crop(t,i,a,c){return new fl(this.luminances,a,c,this.dataWidth,this.dataHeight,this.left+t,this.top+i)}invert(){return new Xe(this)}}class vo extends he{static forName(t){return this.getCharacterSetECIByName(t)}}class Ra{}Ra.ISO_8859_1=he.ISO8859_1;class Wr{isCompact(){return this.compact}setCompact(t){this.compact=t}getSize(){return this.size}setSize(t){this.size=t}getLayers(){return this.layers}setLayers(t){this.layers=t}getCodeWords(){return this.codeWords}setCodeWords(t){this.codeWords=t}getMatrix(){return this.matrix}setMatrix(t){this.matrix=t}}class bo{static singletonList(t){return[t]}static min(t,i){return t.sort(i)[0]}}class Ao{constructor(t){this.previous=t}getPrevious(){return this.previous}}class gr extends Ao{constructor(t,i,a){super(t),this.value=i,this.bitCount=a}appendTo(t,i){t.appendBits(this.value,this.bitCount)}add(t,i){return new gr(this,t,i)}addBinaryShift(t,i){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new gr(this,t,i)}toString(){let t=this.value&(1<<this.bitCount)-1;return t|=1<<this.bitCount,"<"+J.toBinaryString(t|1<<this.bitCount).substring(1)+">"}}class fs extends gr{constructor(t,i,a){super(t,0,0),this.binaryShiftStart=i,this.binaryShiftByteCount=a}appendTo(t,i){for(let a=0;a<this.binaryShiftByteCount;a++)(a===0||a===31&&this.binaryShiftByteCount<=62)&&(t.appendBits(31,5),this.binaryShiftByteCount>62?t.appendBits(this.binaryShiftByteCount-31,16):a===0?t.appendBits(Math.min(this.binaryShiftByteCount,31),5):t.appendBits(this.binaryShiftByteCount-31,5)),t.appendBits(i[this.binaryShiftStart+a],8)}addBinaryShift(t,i){return new fs(this,t,i)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Eo(N,t,i){return new fs(N,t,i)}function Zr(N,t,i){return new gr(N,t,i)}const Qr=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],rr=0,ds=1,Jn=2,dl=3,ui=4,Da=new gr(null,0,0),mr=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function eu(N){for(let t of N)ae.fill(t,-1);return N[rr][ui]=0,N[ds][ui]=0,N[ds][rr]=28,N[dl][ui]=0,N[Jn][ui]=0,N[Jn][rr]=15,N}const Ma=eu(ae.createInt32Array(6,6));class hi{constructor(t,i,a,c){this.token=t,this.mode=i,this.binaryShiftByteCount=a,this.bitCount=c}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(t,i){let a=this.bitCount,c=this.token;if(t!==this.mode){let d=mr[this.mode][t];c=Zr(c,d&65535,d>>16),a+=d>>16}let u=t===Jn?4:5;return c=Zr(c,i,u),new hi(c,t,0,a+u)}shiftAndAppend(t,i){let a=this.token,c=this.mode===Jn?4:5;return a=Zr(a,Ma[this.mode][t],c),a=Zr(a,i,5),new hi(a,this.mode,0,this.bitCount+c+5)}addBinaryShiftChar(t){let i=this.token,a=this.mode,c=this.bitCount;if(this.mode===ui||this.mode===Jn){let g=mr[a][rr];i=Zr(i,g&65535,g>>16),c+=g>>16,a=rr}let u=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,d=new hi(i,a,this.binaryShiftByteCount+1,c+u);return d.binaryShiftByteCount===2078&&(d=d.endBinaryShift(t+1)),d}endBinaryShift(t){if(this.binaryShiftByteCount===0)return this;let i=this.token;return i=Eo(i,t-this.binaryShiftByteCount,this.binaryShiftByteCount),new hi(i,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(t){let i=this.bitCount+(mr[this.mode][t.mode]>>16);return this.binaryShiftByteCount<t.binaryShiftByteCount?i+=hi.calculateBinaryShiftCost(t)-hi.calculateBinaryShiftCost(this):this.binaryShiftByteCount>t.binaryShiftByteCount&&t.binaryShiftByteCount>0&&(i+=10),i<=t.bitCount}toBitArray(t){let i=[];for(let c=this.endBinaryShift(t.length).token;c!==null;c=c.getPrevious())i.unshift(c);let a=new $;for(const c of i)c.appendTo(a,t);return a}toString(){return Ee.format("%s bits=%d bytes=%d",Qr[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(t){return t.binaryShiftByteCount>62?21:t.binaryShiftByteCount>31?20:t.binaryShiftByteCount>0?10:0}}hi.INITIAL_STATE=new hi(Da,rr,0,0);function So(N){const t=Ee.getCharCode(" "),i=Ee.getCharCode("."),a=Ee.getCharCode(",");N[rr][t]=1;const c=Ee.getCharCode("Z"),u=Ee.getCharCode("A");for(let D=u;D<=c;D++)N[rr][D]=D-u+2;N[ds][t]=1;const d=Ee.getCharCode("z"),g=Ee.getCharCode("a");for(let D=g;D<=d;D++)N[ds][D]=D-g+2;N[Jn][t]=1;const x=Ee.getCharCode("9"),A=Ee.getCharCode("0");for(let D=A;D<=x;D++)N[Jn][D]=D-A+2;N[Jn][a]=12,N[Jn][i]=13;const _=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let D=0;D<_.length;D++)N[dl][Ee.getCharCode(_[D])]=D;const O=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let D=0;D<O.length;D++)Ee.getCharCode(O[D])>0&&(N[ui][Ee.getCharCode(O[D])]=D);return N}const Ba=So(ae.createInt32Array(5,256));class pr{constructor(t){this.text=t}encode(){const t=Ee.getCharCode(" "),i=Ee.getCharCode(`
`);let a=bo.singletonList(hi.INITIAL_STATE);for(let u=0;u<this.text.length;u++){let d,g=u+1<this.text.length?this.text[u+1]:0;switch(this.text[u]){case Ee.getCharCode("\r"):d=g===i?2:0;break;case Ee.getCharCode("."):d=g===t?3:0;break;case Ee.getCharCode(","):d=g===t?4:0;break;case Ee.getCharCode(":"):d=g===t?5:0;break;default:d=0}d>0?(a=pr.updateStateListForPair(a,u,d),u++):a=this.updateStateListForChar(a,u)}return bo.min(a,(u,d)=>u.getBitCount()-d.getBitCount()).toBitArray(this.text)}updateStateListForChar(t,i){const a=[];for(let c of t)this.updateStateForChar(c,i,a);return pr.simplifyStates(a)}updateStateForChar(t,i,a){let c=this.text[i]&255,u=Ba[t.getMode()][c]>0,d=null;for(let g=0;g<=ui;g++){let x=Ba[g][c];if(x>0){if(d==null&&(d=t.endBinaryShift(i)),!u||g===t.getMode()||g===Jn){const A=d.latchAndAppend(g,x);a.push(A)}if(!u&&Ma[t.getMode()][g]>=0){const A=d.shiftAndAppend(g,x);a.push(A)}}}if(t.getBinaryShiftByteCount()>0||Ba[t.getMode()][c]===0){let g=t.addBinaryShiftChar(i);a.push(g)}}static updateStateListForPair(t,i,a){const c=[];for(let u of t)this.updateStateForPair(u,i,a,c);return this.simplifyStates(c)}static updateStateForPair(t,i,a,c){let u=t.endBinaryShift(i);if(c.push(u.latchAndAppend(ui,a)),t.getMode()!==ui&&c.push(u.shiftAndAppend(ui,a)),a===3||a===4){let d=u.latchAndAppend(Jn,16-a).latchAndAppend(Jn,1);c.push(d)}if(t.getBinaryShiftByteCount()>0){let d=t.addBinaryShiftChar(i).addBinaryShiftChar(i+1);c.push(d)}}static simplifyStates(t){let i=[];for(const a of t){let c=!0;for(const u of i){if(u.isBetterThanOrEqualTo(a)){c=!1;break}a.isBetterThanOrEqualTo(u)&&(i=i.filter(d=>d!==u))}c&&i.push(a)}return i}}class ot{constructor(){}static encodeBytes(t){return ot.encode(t,ot.DEFAULT_EC_PERCENT,ot.DEFAULT_AZTEC_LAYERS)}static encode(t,i,a){let c=new pr(t).encode(),u=J.truncDivision(c.getSize()*i,100)+11,d=c.getSize()+u,g,x,A,_,O;if(a!==ot.DEFAULT_AZTEC_LAYERS){if(g=a<0,x=Math.abs(a),x>(g?ot.MAX_NB_BITS_COMPACT:ot.MAX_NB_BITS))throw new R(Ee.format("Illegal value %s for layers",a));A=ot.totalBitsInLayer(x,g),_=ot.WORD_SIZE[x];let me=A-A%_;if(O=ot.stuffBits(c,_),O.getSize()+u>me)throw new R("Data to large for user specified layer");if(g&&O.getSize()>_*64)throw new R("Data to large for user specified layer")}else{_=0,O=null;for(let me=0;;me++){if(me>ot.MAX_NB_BITS)throw new R("Data too large for an Aztec code");if(g=me<=3,x=g?me+1:me,A=ot.totalBitsInLayer(x,g),d>A)continue;(O==null||_!==ot.WORD_SIZE[x])&&(_=ot.WORD_SIZE[x],O=ot.stuffBits(c,_));let tt=A-A%_;if(!(g&&O.getSize()>_*64)&&O.getSize()+u<=tt)break}}let D=ot.generateCheckWords(O,A,_),k=O.getSize()/_,z=ot.generateModeMessage(g,x,k),P=(g?11:14)+x*4,q=new Int32Array(P),ie;if(g){ie=P;for(let me=0;me<q.length;me++)q[me]=me}else{ie=P+1+2*J.truncDivision(J.truncDivision(P,2)-1,15);let me=J.truncDivision(P,2),tt=J.truncDivision(ie,2);for(let We=0;We<me;We++){let tn=We+J.truncDivision(We,15);q[me-We-1]=tt-tn-1,q[me+We]=tt+tn+1}}let ye=new Ye(ie);for(let me=0,tt=0;me<x;me++){let We=(x-me)*4+(g?9:12);for(let tn=0;tn<We;tn++){let $n=tn*2;for(let Dn=0;Dn<2;Dn++)D.get(tt+$n+Dn)&&ye.set(q[me*2+Dn],q[me*2+tn]),D.get(tt+We*2+$n+Dn)&&ye.set(q[me*2+tn],q[P-1-me*2-Dn]),D.get(tt+We*4+$n+Dn)&&ye.set(q[P-1-me*2-Dn],q[P-1-me*2-tn]),D.get(tt+We*6+$n+Dn)&&ye.set(q[P-1-me*2-tn],q[me*2+Dn])}tt+=We*8}if(ot.drawModeMessage(ye,g,ie,z),g)ot.drawBullsEye(ye,J.truncDivision(ie,2),5);else{ot.drawBullsEye(ye,J.truncDivision(ie,2),7);for(let me=0,tt=0;me<J.truncDivision(P,2)-1;me+=15,tt+=16)for(let We=J.truncDivision(ie,2)&1;We<ie;We+=2)ye.set(J.truncDivision(ie,2)-tt,We),ye.set(J.truncDivision(ie,2)+tt,We),ye.set(We,J.truncDivision(ie,2)-tt),ye.set(We,J.truncDivision(ie,2)+tt)}let pe=new Wr;return pe.setCompact(g),pe.setSize(ie),pe.setLayers(x),pe.setCodeWords(k),pe.setMatrix(ye),pe}static drawBullsEye(t,i,a){for(let c=0;c<a;c+=2)for(let u=i-c;u<=i+c;u++)t.set(u,i-c),t.set(u,i+c),t.set(i-c,u),t.set(i+c,u);t.set(i-a,i-a),t.set(i-a+1,i-a),t.set(i-a,i-a+1),t.set(i+a,i-a),t.set(i+a,i-a+1),t.set(i+a,i+a-1)}static generateModeMessage(t,i,a){let c=new $;return t?(c.appendBits(i-1,2),c.appendBits(a-1,6),c=ot.generateCheckWords(c,28,4)):(c.appendBits(i-1,5),c.appendBits(a-1,11),c=ot.generateCheckWords(c,40,4)),c}static drawModeMessage(t,i,a,c){let u=J.truncDivision(a,2);if(i)for(let d=0;d<7;d++){let g=u-3+d;c.get(d)&&t.set(g,u-5),c.get(d+7)&&t.set(u+5,g),c.get(20-d)&&t.set(g,u+5),c.get(27-d)&&t.set(u-5,g)}else for(let d=0;d<10;d++){let g=u-5+d+J.truncDivision(d,5);c.get(d)&&t.set(g,u-7),c.get(d+10)&&t.set(u+7,g),c.get(29-d)&&t.set(g,u+7),c.get(39-d)&&t.set(u-7,g)}}static generateCheckWords(t,i,a){let c=t.getSize()/a,u=new Ia(ot.getGF(a)),d=J.truncDivision(i,a),g=ot.bitsToWords(t,a,d);u.encode(g,d-c);let x=i%a,A=new $;A.appendBits(0,x);for(const _ of Array.from(g))A.appendBits(_,a);return A}static bitsToWords(t,i,a){let c=new Int32Array(a),u,d;for(u=0,d=t.getSize()/i;u<d;u++){let g=0;for(let x=0;x<i;x++)g|=t.get(u*i+x)?1<<i-x-1:0;c[u]=g}return c}static getGF(t){switch(t){case 4:return gt.AZTEC_PARAM;case 6:return gt.AZTEC_DATA_6;case 8:return gt.AZTEC_DATA_8;case 10:return gt.AZTEC_DATA_10;case 12:return gt.AZTEC_DATA_12;default:throw new R("Unsupported word size "+t)}}static stuffBits(t,i){let a=new $,c=t.getSize(),u=(1<<i)-2;for(let d=0;d<c;d+=i){let g=0;for(let x=0;x<i;x++)(d+x>=c||t.get(d+x))&&(g|=1<<i-1-x);(g&u)===u?(a.appendBits(g&u,i),d--):(g&u)===0?(a.appendBits(g|1,i),d--):a.appendBits(g,i)}return a}static totalBitsInLayer(t,i){return((i?88:112)+16*t)*t}}ot.DEFAULT_EC_PERCENT=33,ot.DEFAULT_AZTEC_LAYERS=0,ot.MAX_NB_BITS=32,ot.MAX_NB_BITS_COMPACT=4,ot.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class La{encode(t,i,a,c){return this.encodeWithHints(t,i,a,c,null)}encodeWithHints(t,i,a,c,u){let d=Ra.ISO_8859_1,g=ot.DEFAULT_EC_PERCENT,x=ot.DEFAULT_AZTEC_LAYERS;return u!=null&&(u.has(cn.CHARACTER_SET)&&(d=vo.forName(u.get(cn.CHARACTER_SET).toString())),u.has(cn.ERROR_CORRECTION)&&(g=J.parseInt(u.get(cn.ERROR_CORRECTION).toString())),u.has(cn.AZTEC_LAYERS)&&(x=J.parseInt(u.get(cn.AZTEC_LAYERS).toString()))),La.encodeLayers(t,i,a,c,d,g,x)}static encodeLayers(t,i,a,c,u,d,g){if(i!==we.AZTEC)throw new R("Can only encode AZTEC, but got "+i);let x=ot.encode(Ee.getBytes(t,u),d,g);return La.renderResult(x,a,c)}static renderResult(t,i,a){let c=t.getMatrix();if(c==null)throw new Wn;let u=c.getWidth(),d=c.getHeight(),g=Math.max(i,u),x=Math.max(a,d),A=Math.min(g/u,x/d),_=(g-u*A)/2,O=(x-d*A)/2,D=new Ye(g,x);for(let k=0,z=O;k<d;k++,z+=A)for(let P=0,q=_;P<u;P++,q+=A)c.get(P,k)&&D.setRegion(q,z,A,A);return D}}l.AbstractExpandedDecoder=ln,l.ArgumentException=T,l.ArithmeticException=kr,l.AztecCode=Wr,l.AztecCodeReader=ns,l.AztecCodeWriter=La,l.AztecDecoder=Ct,l.AztecDetector=nl,l.AztecDetectorResult=co,l.AztecEncoder=ot,l.AztecHighLevelEncoder=pr,l.AztecPoint=In,l.BarcodeFormat=we,l.Binarizer=H,l.BinaryBitmap=L,l.BitArray=$,l.BitMatrix=Ye,l.BitSource=oi,l.BrowserAztecCodeReader=qc,l.BrowserBarcodeReader=Xc,l.BrowserCodeReader=be,l.BrowserDatamatrixCodeReader=as,l.BrowserMultiFormatReader=wo,l.BrowserPDF417Reader=Qc,l.BrowserQRCodeReader=Kc,l.BrowserQRCodeSvgWriter=dr,l.CharacterSetECI=he,l.ChecksumException=j,l.Code128Reader=xe,l.Code39Reader=Dt,l.DataMatrixDecodedBitStreamParser=Ui,l.DataMatrixReader=zi,l.DecodeHintType=ve,l.DecoderResult=kt,l.DefaultGridSampler=tl,l.DetectorResult=ts,l.EAN13Reader=Ei,l.EncodeHintType=cn,l.Exception=v,l.FormatException=K,l.GenericGF=gt,l.GenericGFPoly=vn,l.GlobalHistogramBinarizer=ne,l.GridSampler=el,l.GridSamplerInstance=ai,l.HTMLCanvasElementLuminanceSource=Ze,l.HybridBinarizer=fe,l.ITFReader=Je,l.IllegalArgumentException=R,l.IllegalStateException=Wn,l.InvertedLuminanceSource=Xe,l.LuminanceSource=ke,l.MathUtils=it,l.MultiFormatOneDReader=li,l.MultiFormatReader=xo,l.MultiFormatWriter=$c,l.NotFoundException=te,l.OneDReader=Ft,l.PDF417DecodedBitStreamParser=re,l.PDF417DecoderErrorCorrection=Fi,l.PDF417Reader=Sn,l.PDF417ResultMetadata=qr,l.PerspectiveTransform=Zn,l.PlanarYUVLuminanceSource=Ti,l.QRCodeByteMatrix=hs,l.QRCodeDataMask=Vn,l.QRCodeDecodedBitStreamParser=jt,l.QRCodeDecoderErrorCorrectionLevel=nt,l.QRCodeDecoderFormatInformation=fn,l.QRCodeEncoder=zt,l.QRCodeEncoderQRCode=fr,l.QRCodeMaskUtil=Zt,l.QRCodeMatrixUtil=Pe,l.QRCodeMode=Le,l.QRCodeReader=Pi,l.QRCodeVersion=Ie,l.QRCodeWriter=Xr,l.RGBLuminanceSource=fl,l.RSS14Reader=Et,l.RSSExpandedReader=ge,l.ReaderException=us,l.ReedSolomonDecoder=ur,l.ReedSolomonEncoder=Ia,l.ReedSolomonException=Xn,l.Result=Ae,l.ResultMetadataType=dt,l.ResultPoint=Te,l.StringUtils=Ee,l.UnsupportedOperationException=wn,l.VideoInputDevice=V,l.WhiteRectangleDetector=Kt,l.WriterException=St,l.ZXingArrays=ae,l.ZXingCharset=vo,l.ZXingInteger=J,l.ZXingStandardCharsets=Ra,l.ZXingStringBuilder=Be,l.ZXingStringEncoding=Ue,l.ZXingSystem=G,l.createAbstractExpandedDecoder=zr,Object.defineProperty(l,"__esModule",{value:!0})}))})(Kl,Kl.exports)),Kl.exports}var Jt=Mw();const Bw=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));var Dg=(function(){function o(r,l,f){if(this.formatMap=new Map([[Ce.QR_CODE,Jt.BarcodeFormat.QR_CODE],[Ce.AZTEC,Jt.BarcodeFormat.AZTEC],[Ce.CODABAR,Jt.BarcodeFormat.CODABAR],[Ce.CODE_39,Jt.BarcodeFormat.CODE_39],[Ce.CODE_93,Jt.BarcodeFormat.CODE_93],[Ce.CODE_128,Jt.BarcodeFormat.CODE_128],[Ce.DATA_MATRIX,Jt.BarcodeFormat.DATA_MATRIX],[Ce.MAXICODE,Jt.BarcodeFormat.MAXICODE],[Ce.ITF,Jt.BarcodeFormat.ITF],[Ce.EAN_13,Jt.BarcodeFormat.EAN_13],[Ce.EAN_8,Jt.BarcodeFormat.EAN_8],[Ce.PDF_417,Jt.BarcodeFormat.PDF_417],[Ce.RSS_14,Jt.BarcodeFormat.RSS_14],[Ce.RSS_EXPANDED,Jt.BarcodeFormat.RSS_EXPANDED],[Ce.UPC_A,Jt.BarcodeFormat.UPC_A],[Ce.UPC_E,Jt.BarcodeFormat.UPC_E],[Ce.UPC_EAN_EXTENSION,Jt.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!Bw)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=l,this.logger=f;var p=this.createZXingFormats(r),m=new Map;m.set(Jt.DecodeHintType.POSSIBLE_FORMATS,p),m.set(Jt.DecodeHintType.TRY_HARDER,!1),this.hints=m}return o.prototype.decodeAsync=function(r){var l=this;return new Promise(function(f,p){try{f(l.decode(r))}catch(m){p(m)}})},o.prototype.decode=function(r){var l=new Jt.MultiFormatReader(this.verbose,this.hints),f=new Jt.HTMLCanvasElementLuminanceSource(r),p=new Jt.BinaryBitmap(new Jt.HybridBinarizer(f)),m=l.decode(p);return{text:m.text,format:p2.create(this.toHtml5QrcodeSupportedFormats(m.format)),debugData:this.createDebugData()}},o.prototype.createReverseFormatMap=function(){var r=new Map;return this.formatMap.forEach(function(l,f,p){r.set(l,f)}),r},o.prototype.toHtml5QrcodeSupportedFormats=function(r){if(!this.reverseFormatMap.has(r))throw"reverseFormatMap doesn't have ".concat(r);return this.reverseFormatMap.get(r)},o.prototype.createZXingFormats=function(r){for(var l=[],f=0,p=r;f<p.length;f++){var m=p[f];this.formatMap.has(m)?l.push(this.formatMap.get(m)):this.logger.logError("".concat(m," is not supported by")+"ZXingHtml5QrcodeShim")}return l},o.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},o})(),Lw=function(o,r,l,f){function p(m){return m instanceof l?m:new l(function(b){b(m)})}return new(l||(l=Promise))(function(m,b){function E(T){try{v(f.next(T))}catch(R){b(R)}}function S(T){try{v(f.throw(T))}catch(R){b(R)}}function v(T){T.done?m(T.value):p(T.value).then(E,S)}v((f=f.apply(o,r||[])).next())})},kw=function(o,r){var l={label:0,sent:function(){if(m[0]&1)throw m[1];return m[1]},trys:[],ops:[]},f,p,m,b;return b={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(b[Symbol.iterator]=function(){return this}),b;function E(v){return function(T){return S([v,T])}}function S(v){if(f)throw new TypeError("Generator is already executing.");for(;b&&(b=0,v[0]&&(l=0)),l;)try{if(f=1,p&&(m=v[0]&2?p.return:v[0]?p.throw||((m=p.return)&&m.call(p),0):p.next)&&!(m=m.call(p,v[1])).done)return m;switch(p=0,m&&(v=[v[0]&2,m.value]),v[0]){case 0:case 1:m=v;break;case 4:return l.label++,{value:v[1],done:!1};case 5:l.label++,p=v[1],v=[0];continue;case 7:v=l.ops.pop(),l.trys.pop();continue;default:if(m=l.trys,!(m=m.length>0&&m[m.length-1])&&(v[0]===6||v[0]===2)){l=0;continue}if(v[0]===3&&(!m||v[1]>m[0]&&v[1]<m[3])){l.label=v[1];break}if(v[0]===6&&l.label<m[1]){l.label=m[1],m=v;break}if(m&&l.label<m[2]){l.label=m[2],l.ops.push(v);break}m[2]&&l.ops.pop(),l.trys.pop();continue}v=r.call(o,l)}catch(T){v=[6,T],p=0}finally{f=m=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},Mg=(function(){function o(r,l,f){if(this.formatMap=new Map([[Ce.QR_CODE,"qr_code"],[Ce.AZTEC,"aztec"],[Ce.CODABAR,"codabar"],[Ce.CODE_39,"code_39"],[Ce.CODE_93,"code_93"],[Ce.CODE_128,"code_128"],[Ce.DATA_MATRIX,"data_matrix"],[Ce.ITF,"itf"],[Ce.EAN_13,"ean_13"],[Ce.EAN_8,"ean_8"],[Ce.PDF_417,"pdf417"],[Ce.UPC_A,"upc_a"],[Ce.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!o.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=l,this.logger=f;var p=this.createBarcodeDetectorFormats(r);if(this.detector=new BarcodeDetector(p),!this.detector)throw"BarcodeDetector detector not supported"}return o.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var r=new BarcodeDetector({formats:["qr_code"]});return typeof r<"u"},o.prototype.decodeAsync=function(r){return Lw(this,void 0,void 0,function(){var l,f;return kw(this,function(p){switch(p.label){case 0:return[4,this.detector.detect(r)];case 1:if(l=p.sent(),!l||l.length===0)throw"No barcode or QR code detected.";return f=this.selectLargestBarcode(l),[2,{text:f.rawValue,format:p2.create(this.toHtml5QrcodeSupportedFormats(f.format)),debugData:this.createDebugData()}]}})})},o.prototype.selectLargestBarcode=function(r){for(var l=null,f=0,p=0,m=r;p<m.length;p++){var b=m[p],E=b.boundingBox.width*b.boundingBox.height;E>f&&(f=E,l=b)}if(!l)throw"No largest barcode found";return l},o.prototype.createBarcodeDetectorFormats=function(r){for(var l=[],f=0,p=r;f<p.length;f++){var m=p[f];this.formatMap.has(m)?l.push(this.formatMap.get(m)):this.logger.warn("".concat(m," is not supported by")+"BarcodeDetectorDelegate")}return{formats:l}},o.prototype.toHtml5QrcodeSupportedFormats=function(r){if(!this.reverseFormatMap.has(r))throw"reverseFormatMap doesn't have ".concat(r);return this.reverseFormatMap.get(r)},o.prototype.createReverseFormatMap=function(){var r=new Map;return this.formatMap.forEach(function(l,f,p){r.set(l,f)}),r},o.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},o})(),Bg=function(o,r,l,f){function p(m){return m instanceof l?m:new l(function(b){b(m)})}return new(l||(l=Promise))(function(m,b){function E(T){try{v(f.next(T))}catch(R){b(R)}}function S(T){try{v(f.throw(T))}catch(R){b(R)}}function v(T){T.done?m(T.value):p(T.value).then(E,S)}v((f=f.apply(o,r||[])).next())})},Lg=function(o,r){var l={label:0,sent:function(){if(m[0]&1)throw m[1];return m[1]},trys:[],ops:[]},f,p,m,b;return b={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(b[Symbol.iterator]=function(){return this}),b;function E(v){return function(T){return S([v,T])}}function S(v){if(f)throw new TypeError("Generator is already executing.");for(;b&&(b=0,v[0]&&(l=0)),l;)try{if(f=1,p&&(m=v[0]&2?p.return:v[0]?p.throw||((m=p.return)&&m.call(p),0):p.next)&&!(m=m.call(p,v[1])).done)return m;switch(p=0,m&&(v=[v[0]&2,m.value]),v[0]){case 0:case 1:m=v;break;case 4:return l.label++,{value:v[1],done:!1};case 5:l.label++,p=v[1],v=[0];continue;case 7:v=l.ops.pop(),l.trys.pop();continue;default:if(m=l.trys,!(m=m.length>0&&m[m.length-1])&&(v[0]===6||v[0]===2)){l=0;continue}if(v[0]===3&&(!m||v[1]>m[0]&&v[1]<m[3])){l.label=v[1];break}if(v[0]===6&&l.label<m[1]){l.label=m[1],m=v;break}if(m&&l.label<m[2]){l.label=m[2],l.ops.push(v);break}m[2]&&l.ops.pop(),l.trys.pop();continue}v=r.call(o,l)}catch(T){v=[6,T],p=0}finally{f=m=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},jw=(function(){function o(r,l,f,p){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=f,l&&Mg.isSupported()?(this.primaryDecoder=new Mg(r,f,p),this.secondaryDecoder=new Dg(r,f,p)):this.primaryDecoder=new Dg(r,f,p)}return o.prototype.decodeAsync=function(r){return Bg(this,void 0,void 0,function(){var l;return Lg(this,function(f){switch(f.label){case 0:l=performance.now(),f.label=1;case 1:return f.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(r)];case 2:return[2,f.sent()];case 3:return this.possiblyLogPerformance(l),[7];case 4:return[2]}})})},o.prototype.decodeRobustlyAsync=function(r){return Bg(this,void 0,void 0,function(){var l,f;return Lg(this,function(p){switch(p.label){case 0:l=performance.now(),p.label=1;case 1:return p.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(r)];case 2:return[2,p.sent()];case 3:if(f=p.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(r)];throw f;case 4:return this.possiblyLogPerformance(l),[7];case 5:return[2]}})})},o.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},o.prototype.possiblyLogPerformance=function(r){if(this.verbose){var l=performance.now()-r;this.executionResults.push(l),this.executions++,this.possiblyFlushPerformanceReport()}},o.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var r=0,l=0,f=this.executionResults;l<f.length;l++){var p=f[l];r+=p}var m=r/this.executionResults.length;console.log("".concat(m," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},o})(),Of=(function(){var o=function(r,l){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,p){f.__proto__=p}||function(f,p){for(var m in p)Object.prototype.hasOwnProperty.call(p,m)&&(f[m]=p[m])},o(r,l)};return function(r,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");o(r,l);function f(){this.constructor=r}r.prototype=l===null?Object.create(l):(f.prototype=l.prototype,new f)}})(),zc=function(o,r,l,f){function p(m){return m instanceof l?m:new l(function(b){b(m)})}return new(l||(l=Promise))(function(m,b){function E(T){try{v(f.next(T))}catch(R){b(R)}}function S(T){try{v(f.throw(T))}catch(R){b(R)}}function v(T){T.done?m(T.value):p(T.value).then(E,S)}v((f=f.apply(o,r||[])).next())})},Pc=function(o,r){var l={label:0,sent:function(){if(m[0]&1)throw m[1];return m[1]},trys:[],ops:[]},f,p,m,b;return b={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(b[Symbol.iterator]=function(){return this}),b;function E(v){return function(T){return S([v,T])}}function S(v){if(f)throw new TypeError("Generator is already executing.");for(;b&&(b=0,v[0]&&(l=0)),l;)try{if(f=1,p&&(m=v[0]&2?p.return:v[0]?p.throw||((m=p.return)&&m.call(p),0):p.next)&&!(m=m.call(p,v[1])).done)return m;switch(p=0,m&&(v=[v[0]&2,m.value]),v[0]){case 0:case 1:m=v;break;case 4:return l.label++,{value:v[1],done:!1};case 5:l.label++,p=v[1],v=[0];continue;case 7:v=l.ops.pop(),l.trys.pop();continue;default:if(m=l.trys,!(m=m.length>0&&m[m.length-1])&&(v[0]===6||v[0]===2)){l=0;continue}if(v[0]===3&&(!m||v[1]>m[0]&&v[1]<m[3])){l.label=v[1];break}if(v[0]===6&&l.label<m[1]){l.label=m[1],m=v;break}if(m&&l.label<m[2]){l.label=m[2],l.ops.push(v);break}m[2]&&l.ops.pop(),l.trys.pop();continue}v=r.call(o,l)}catch(T){v=[6,T],p=0}finally{f=m=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},v2=(function(){function o(r,l){this.name=r,this.track=l}return o.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},o.prototype.apply=function(r){var l={};l[this.name]=r;var f={advanced:[l]};return this.track.applyConstraints(f)},o.prototype.value=function(){var r=this.track.getSettings();if(this.name in r){var l=r[this.name];return l}return null},o})(),Uw=(function(o){Of(r,o);function r(l,f){return o.call(this,l,f)||this}return r.prototype.min=function(){return this.getCapabilities().min},r.prototype.max=function(){return this.getCapabilities().max},r.prototype.step=function(){return this.getCapabilities().step},r.prototype.apply=function(l){var f={};f[this.name]=l;var p={advanced:[f]};return this.track.applyConstraints(p)},r.prototype.getCapabilities=function(){this.failIfNotSupported();var l=this.track.getCapabilities(),f=l[this.name];return{min:f.min,max:f.max,step:f.step}},r.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},r})(v2),zw=(function(o){Of(r,o);function r(l){return o.call(this,"zoom",l)||this}return r})(Uw),Pw=(function(o){Of(r,o);function r(l){return o.call(this,"torch",l)||this}return r})(v2),Fw=(function(){function o(r){this.track=r}return o.prototype.zoomFeature=function(){return new zw(this.track)},o.prototype.torchFeature=function(){return new Pw(this.track)},o})(),Hw=(function(){function o(r,l,f){this.isClosed=!1,this.parentElement=r,this.mediaStream=l,this.callbacks=f,this.surface=this.createVideoElement(this.parentElement.clientWidth),r.append(this.surface)}return o.prototype.createVideoElement=function(r){var l=document.createElement("video");return l.style.width="".concat(r,"px"),l.style.display="block",l.muted=!0,l.setAttribute("muted","true"),l.playsInline=!0,l},o.prototype.setupSurface=function(){var r=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var l=function(){var f=r.surface.clientWidth,p=r.surface.clientHeight;r.callbacks.onRenderSurfaceReady(f,p),r.surface.removeEventListener("playing",l)};this.surface.addEventListener("playing",l),this.surface.srcObject=this.mediaStream,this.surface.play()},o.create=function(r,l,f,p){return zc(this,void 0,void 0,function(){var m,b;return Pc(this,function(E){switch(E.label){case 0:return m=new o(r,l,p),f.aspectRatio?(b={aspectRatio:f.aspectRatio},[4,m.getFirstTrackOrFail().applyConstraints(b)]):[3,2];case 1:E.sent(),E.label=2;case 2:return m.setupSurface(),[2,m]}})})},o.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},o.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},o.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},o.prototype.resume=function(r){this.failIfClosed();var l=this,f=function(){setTimeout(r,200),l.surface.removeEventListener("playing",f)};this.surface.addEventListener("playing",f),this.surface.play()},o.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},o.prototype.getSurface=function(){return this.failIfClosed(),this.surface},o.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},o.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},o.prototype.applyVideoConstraints=function(r){return zc(this,void 0,void 0,function(){return Pc(this,function(l){if("aspectRatio"in r)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(r)]})})},o.prototype.close=function(){if(this.isClosed)return Promise.resolve();var r=this;return new Promise(function(l,f){var p=r.mediaStream.getVideoTracks(),m=p.length,b=0;r.mediaStream.getVideoTracks().forEach(function(E){r.mediaStream.removeTrack(E),E.stop(),++b,b>=m&&(r.isClosed=!0,r.parentElement.removeChild(r.surface),l())})})},o.prototype.getCapabilities=function(){return new Fw(this.getFirstTrackOrFail())},o})(),Vw=(function(){function o(r){this.mediaStream=r}return o.prototype.render=function(r,l,f){return zc(this,void 0,void 0,function(){return Pc(this,function(p){return[2,Hw.create(r,this.mediaStream,l,f)]})})},o.create=function(r){return zc(this,void 0,void 0,function(){var l,f;return Pc(this,function(p){switch(p.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return l={audio:!1,video:r},[4,navigator.mediaDevices.getUserMedia(l)];case 1:return f=p.sent(),[2,new o(f)]}})})},o})(),kg=function(o,r,l,f){function p(m){return m instanceof l?m:new l(function(b){b(m)})}return new(l||(l=Promise))(function(m,b){function E(T){try{v(f.next(T))}catch(R){b(R)}}function S(T){try{v(f.throw(T))}catch(R){b(R)}}function v(T){T.done?m(T.value):p(T.value).then(E,S)}v((f=f.apply(o,r||[])).next())})},jg=function(o,r){var l={label:0,sent:function(){if(m[0]&1)throw m[1];return m[1]},trys:[],ops:[]},f,p,m,b;return b={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(b[Symbol.iterator]=function(){return this}),b;function E(v){return function(T){return S([v,T])}}function S(v){if(f)throw new TypeError("Generator is already executing.");for(;b&&(b=0,v[0]&&(l=0)),l;)try{if(f=1,p&&(m=v[0]&2?p.return:v[0]?p.throw||((m=p.return)&&m.call(p),0):p.next)&&!(m=m.call(p,v[1])).done)return m;switch(p=0,m&&(v=[v[0]&2,m.value]),v[0]){case 0:case 1:m=v;break;case 4:return l.label++,{value:v[1],done:!1};case 5:l.label++,p=v[1],v=[0];continue;case 7:v=l.ops.pop(),l.trys.pop();continue;default:if(m=l.trys,!(m=m.length>0&&m[m.length-1])&&(v[0]===6||v[0]===2)){l=0;continue}if(v[0]===3&&(!m||v[1]>m[0]&&v[1]<m[3])){l.label=v[1];break}if(v[0]===6&&l.label<m[1]){l.label=m[1],m=v;break}if(m&&l.label<m[2]){l.label=m[2],l.ops.push(v);break}m[2]&&l.ops.pop(),l.trys.pop();continue}v=r.call(o,l)}catch(T){v=[6,T],p=0}finally{f=m=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},Gw=(function(){function o(){}return o.failIfNotSupported=function(){return kg(this,void 0,void 0,function(){return jg(this,function(r){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new o]})})},o.prototype.create=function(r){return kg(this,void 0,void 0,function(){return jg(this,function(l){return[2,Vw.create(r)]})})},o})(),Yw=function(o,r,l,f){function p(m){return m instanceof l?m:new l(function(b){b(m)})}return new(l||(l=Promise))(function(m,b){function E(T){try{v(f.next(T))}catch(R){b(R)}}function S(T){try{v(f.throw(T))}catch(R){b(R)}}function v(T){T.done?m(T.value):p(T.value).then(E,S)}v((f=f.apply(o,r||[])).next())})},qw=function(o,r){var l={label:0,sent:function(){if(m[0]&1)throw m[1];return m[1]},trys:[],ops:[]},f,p,m,b;return b={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(b[Symbol.iterator]=function(){return this}),b;function E(v){return function(T){return S([v,T])}}function S(v){if(f)throw new TypeError("Generator is already executing.");for(;b&&(b=0,v[0]&&(l=0)),l;)try{if(f=1,p&&(m=v[0]&2?p.return:v[0]?p.throw||((m=p.return)&&m.call(p),0):p.next)&&!(m=m.call(p,v[1])).done)return m;switch(p=0,m&&(v=[v[0]&2,m.value]),v[0]){case 0:case 1:m=v;break;case 4:return l.label++,{value:v[1],done:!1};case 5:l.label++,p=v[1],v=[0];continue;case 7:v=l.ops.pop(),l.trys.pop();continue;default:if(m=l.trys,!(m=m.length>0&&m[m.length-1])&&(v[0]===6||v[0]===2)){l=0;continue}if(v[0]===3&&(!m||v[1]>m[0]&&v[1]<m[3])){l.label=v[1];break}if(v[0]===6&&l.label<m[1]){l.label=m[1],m=v;break}if(m&&l.label<m[2]){l.label=m[2],l.ops.push(v);break}m[2]&&l.ops.pop(),l.trys.pop();continue}v=r.call(o,l)}catch(T){v=[6,T],p=0}finally{f=m=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},Xw=(function(){function o(){}return o.retrieve=function(){if(navigator.mediaDevices)return o.getCamerasFromMediaDevices();var r=MediaStreamTrack;return MediaStreamTrack&&r.getSources?o.getCamerasFromMediaStreamTrack():o.rejectWithError()},o.rejectWithError=function(){var r=Ks.unableToQuerySupportedDevices();return o.isHttpsOrLocalhost()||(r=Ks.insecureContextCameraQueryError()),Promise.reject(r)},o.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var r=location.host.split(":")[0];return r==="127.0.0.1"||r==="localhost"},o.getCamerasFromMediaDevices=function(){return Yw(this,void 0,void 0,function(){var r,l,f,p,m,b,E;return qw(this,function(S){switch(S.label){case 0:return r=function(v){for(var T=v.getVideoTracks(),R=0,L=T;R<L.length;R++){var j=L[R];j.enabled=!1,j.stop(),v.removeTrack(j)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return l=S.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(f=S.sent(),p=[],m=0,b=f;m<b.length;m++)E=b[m],E.kind==="videoinput"&&p.push({id:E.deviceId,label:E.label});return r(l),[2,p]}})})},o.getCamerasFromMediaStreamTrack=function(){return new Promise(function(r,l){var f=function(m){for(var b=[],E=0,S=m;E<S.length;E++){var v=S[E];v.kind==="video"&&b.push({id:v.id,label:v.label})}r(b)},p=MediaStreamTrack;p.getSources(f)})},o})(),an;(function(o){o[o.UNKNOWN=0]="UNKNOWN",o[o.NOT_STARTED=1]="NOT_STARTED",o[o.SCANNING=2]="SCANNING",o[o.PAUSED=3]="PAUSED"})(an||(an={}));var Ww=(function(){function o(){this.state=an.NOT_STARTED,this.onGoingTransactionNewState=an.UNKNOWN}return o.prototype.directTransition=function(r){this.failIfTransitionOngoing(),this.validateTransition(r),this.state=r},o.prototype.startTransition=function(r){return this.failIfTransitionOngoing(),this.validateTransition(r),this.onGoingTransactionNewState=r,this},o.prototype.execute=function(){if(this.onGoingTransactionNewState===an.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var r=this.onGoingTransactionNewState;this.onGoingTransactionNewState=an.UNKNOWN,this.directTransition(r)},o.prototype.cancel=function(){if(this.onGoingTransactionNewState===an.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=an.UNKNOWN},o.prototype.getState=function(){return this.state},o.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==an.UNKNOWN)throw"Cannot transition to a new state, already under transition"},o.prototype.validateTransition=function(r){switch(this.state){case an.UNKNOWN:throw"Transition from unknown is not allowed";case an.NOT_STARTED:this.failIfNewStateIs(r,[an.PAUSED]);break;case an.SCANNING:break;case an.PAUSED:break}},o.prototype.failIfNewStateIs=function(r,l){for(var f=0,p=l;f<p.length;f++){var m=p[f];if(r===m)throw"Cannot transition from ".concat(this.state," to ").concat(r)}},o})(),Zw=(function(){function o(r){this.stateManager=r}return o.prototype.startTransition=function(r){return this.stateManager.startTransition(r)},o.prototype.directTransition=function(r){this.stateManager.directTransition(r)},o.prototype.getState=function(){return this.stateManager.getState()},o.prototype.canScanFile=function(){return this.stateManager.getState()===an.NOT_STARTED},o.prototype.isScanning=function(){return this.stateManager.getState()!==an.NOT_STARTED},o.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===an.SCANNING},o.prototype.isPaused=function(){return this.stateManager.getState()===an.PAUSED},o})(),Qw=(function(){function o(){}return o.create=function(){return new Zw(new Ww)},o})(),Kw=(function(){var o=function(r,l){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,p){f.__proto__=p}||function(f,p){for(var m in p)Object.prototype.hasOwnProperty.call(p,m)&&(f[m]=p[m])},o(r,l)};return function(r,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");o(r,l);function f(){this.constructor=r}r.prototype=l===null?Object.create(l):(f.prototype=l.prototype,new f)}})(),wi=(function(o){Kw(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.DEFAULT_WIDTH=300,r.DEFAULT_WIDTH_OFFSET=2,r.FILE_SCAN_MIN_HEIGHT=300,r.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,r.MIN_QR_BOX_SIZE=50,r.SHADED_LEFT=1,r.SHADED_RIGHT=2,r.SHADED_TOP=3,r.SHADED_BOTTOM=4,r.SHADED_REGION_ELEMENT_ID="qr-shaded-region",r.VERBOSE=!1,r.BORDER_SHADER_DEFAULT_COLOR="#ffffff",r.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",r})(Zi),Jw=(function(){function o(r,l){this.logger=l,this.fps=wi.SCAN_DEFAULT_FPS,r?(r.fps&&(this.fps=r.fps),this.disableFlip=r.disableFlip===!0,this.qrbox=r.qrbox,this.aspectRatio=r.aspectRatio,this.videoConstraints=r.videoConstraints):this.disableFlip=wi.DEFAULT_DISABLE_FLIP}return o.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?w2.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},o.prototype.isShadedBoxEnabled=function(){return!cr(this.qrbox)},o.create=function(r,l){return new o(r,l)},o})(),Ug=(function(){function o(r,l){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(r))throw"HTML Element with id=".concat(r," not found");this.elementId=r,this.verbose=!1;var f;typeof l=="boolean"?this.verbose=l===!0:l&&(f=l,this.verbose=f.verbose===!0,f.experimentalFeatures),this.logger=new x2(this.verbose),this.qrcode=new jw(this.getSupportedFormats(l),this.getUseBarCodeDetectorIfSupported(f),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=Qw.create()}return o.prototype.start=function(r,l,f,p){var m=this;if(!r)throw"cameraIdOrConfig is required";if(!f||typeof f!="function")throw"qrCodeSuccessCallback is required and should be a function.";var b;p?b=p:b=this.verbose?this.logger.log:function(){};var E=Jw.create(l,this.logger);this.clearElement();var S=!1;E.videoConstraints&&(E.isMediaStreamConstraintsValid()?S=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var v=S,T=document.getElementById(this.elementId);T.clientWidth?T.clientWidth:wi.DEFAULT_WIDTH,T.style.position="relative",this.shouldScan=!0,this.element=T;var R=this,L=this.stateManagerProxy.startTransition(an.SCANNING);return new Promise(function(j,H){var G=v?E.videoConstraints:R.createVideoConstraints(r);if(!G){L.cancel(),H("videoConstraints should be defined");return}var le={};(!v||E.aspectRatio)&&(le.aspectRatio=E.aspectRatio);var W={onRenderSurfaceReady:function(ae,J){R.setupUi(ae,J,E),R.isScanning=!0,R.foreverScan(E,f,b)}};Gw.failIfNotSupported().then(function(ae){ae.create(G).then(function(J){return J.render(m.element,le,W).then(function($){R.renderedCamera=$,L.execute(),j(null)}).catch(function($){L.cancel(),H($)})}).catch(function(J){L.cancel(),H(Ks.errorGettingUserMedia(J))})}).catch(function(ae){L.cancel(),H(Ks.cameraStreamingNotSupported())})})},o.prototype.pause=function(r){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(an.PAUSED),this.showPausedState(),(cr(r)||r!==!0)&&(r=!1),r&&this.renderedCamera&&this.renderedCamera.pause()},o.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var r=this,l=function(){r.stateManagerProxy.directTransition(an.SCANNING),r.hidePausedState()};if(!this.renderedCamera.isPaused()){l();return}this.renderedCamera.resume(function(){l()})},o.prototype.getState=function(){return this.stateManagerProxy.getState()},o.prototype.stop=function(){var r=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var l=this.stateManagerProxy.startTransition(an.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var f=function(){if(r.element){var m=document.getElementById(wi.SHADED_REGION_ELEMENT_ID);m&&r.element.removeChild(m)}},p=this;return this.renderedCamera.close().then(function(){return p.renderedCamera=null,p.element&&(p.element.removeChild(p.canvasElement),p.canvasElement=null),f(),p.qrRegion&&(p.qrRegion=null),p.context&&(p.context=null),l.execute(),p.hidePausedState(),p.isScanning=!1,Promise.resolve()})},o.prototype.scanFile=function(r,l){return this.scanFileV2(r,l).then(function(f){return f.decodedText})},o.prototype.scanFileV2=function(r,l){var f=this;if(!r||!(r instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(cr(l)&&(l=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(p,m){f.possiblyCloseLastScanImageFile(),f.clearElement(),f.lastScanImageFile=URL.createObjectURL(r);var b=new Image;b.onload=function(){var E=b.width,S=b.height,v=document.getElementById(f.elementId),T=v.clientWidth?v.clientWidth:wi.DEFAULT_WIDTH,R=Math.max(v.clientHeight?v.clientHeight:S,wi.FILE_SCAN_MIN_HEIGHT),L=f.computeCanvasDrawConfig(E,S,T,R);if(l){var j=f.createCanvasElement(T,R,"qr-canvas-visible");j.style.display="inline-block",v.appendChild(j);var H=j.getContext("2d");if(!H)throw"Unable to get 2d context from canvas";H.canvas.width=T,H.canvas.height=R,H.drawImage(b,0,0,E,S,L.x,L.y,L.width,L.height)}var G=wi.FILE_SCAN_HIDDEN_CANVAS_PADDING,le=Math.max(b.width,L.width),W=Math.max(b.height,L.height),ae=le+2*G,J=W+2*G,$=f.createCanvasElement(ae,J);v.appendChild($);var Re=$.getContext("2d");if(!Re)throw"Unable to get 2d context from canvas";Re.canvas.width=ae,Re.canvas.height=J,Re.drawImage(b,0,0,E,S,G,G,le,W);try{f.qrcode.decodeRobustlyAsync($).then(function(ve){p(Og.createFromQrcodeResult(ve))}).catch(m)}catch(ve){m("QR code parse error, error = ".concat(ve))}},b.onerror=m,b.onabort=m,b.onstalled=m,b.onsuspend=m,b.src=URL.createObjectURL(r)})},o.prototype.clear=function(){this.clearElement()},o.getCameras=function(){return Xw.retrieve()},o.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},o.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},o.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},o.prototype.applyVideoConstraints=function(r){if(r){if(!w2.isMediaStreamConstraintsValid(r,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(r)},o.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},o.prototype.getSupportedFormats=function(r){var l=[Ce.QR_CODE,Ce.AZTEC,Ce.CODABAR,Ce.CODE_39,Ce.CODE_93,Ce.CODE_128,Ce.DATA_MATRIX,Ce.MAXICODE,Ce.ITF,Ce.EAN_13,Ce.EAN_8,Ce.PDF_417,Ce.RSS_14,Ce.RSS_EXPANDED,Ce.UPC_A,Ce.UPC_E,Ce.UPC_EAN_EXTENSION];if(!r||typeof r=="boolean"||!r.formatsToSupport)return l;if(!Array.isArray(r.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(r.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var f=[],p=0,m=r.formatsToSupport;p<m.length;p++){var b=m[p];Iw(b)?f.push(b):this.logger.warn("Invalid format: ".concat(b," passed in config, ignoring."))}if(f.length===0)throw"None of formatsToSupport match supported values.";return f},o.prototype.getUseBarCodeDetectorIfSupported=function(r){if(cr(r))return!0;if(!cr(r.useBarCodeDetectorIfSupported))return r.useBarCodeDetectorIfSupported!==!1;if(cr(r.experimentalFeatures))return!0;var l=r.experimentalFeatures;return cr(l.useBarCodeDetectorIfSupported)?!0:l.useBarCodeDetectorIfSupported!==!1},o.prototype.validateQrboxSize=function(r,l,f){var p=this,m=f.qrbox;this.validateQrboxConfig(m);var b=this.toQrdimensions(r,l,m),E=function(v){if(v<wi.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(wi.MIN_QR_BOX_SIZE,"px.")},S=function(v){return v>r&&(p.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),v=r),v};E(b.width),E(b.height),b.width=S(b.width)},o.prototype.validateQrboxConfig=function(r){if(typeof r!="number"&&typeof r!="function"&&(r.width===void 0||r.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},o.prototype.toQrdimensions=function(r,l,f){if(typeof f=="number")return{width:f,height:f};if(typeof f=="function")try{return f(r,l)}catch(p){throw new Error("qrbox config was passed as a function but it failed with unknown error"+p)}return f},o.prototype.setupUi=function(r,l,f){f.isShadedBoxEnabled()&&this.validateQrboxSize(r,l,f);var p=cr(f.qrbox)?{width:r,height:l}:f.qrbox;this.validateQrboxConfig(p);var m=this.toQrdimensions(r,l,p);m.height>l&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var b=f.isShadedBoxEnabled()&&m.height<=l,E={x:0,y:0,width:r,height:l},S=b?this.getShadedRegionBounds(r,l,m):E,v=this.createCanvasElement(S.width,S.height),T={willReadFrequently:!0},R=v.getContext("2d",T);R.canvas.width=S.width,R.canvas.height=S.height,this.element.append(v),b&&this.possiblyInsertShadingElement(this.element,r,l,m),this.createScannerPausedUiElement(this.element),this.qrRegion=S,this.context=R,this.canvasElement=v},o.prototype.createScannerPausedUiElement=function(r){var l=document.createElement("div");l.innerText=Ks.scannerPaused(),l.style.display="none",l.style.position="absolute",l.style.top="0px",l.style.zIndex="1",l.style.background="rgba(9, 9, 9, 0.46)",l.style.color="#FFECEC",l.style.textAlign="center",l.style.width="100%",r.appendChild(l),this.scannerPausedUiElement=l},o.prototype.scanContext=function(r,l){var f=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(p){return r(p.text,Og.createFromQrcodeResult(p)),f.possiblyUpdateShaders(!0),!0}).catch(function(p){f.possiblyUpdateShaders(!1);var m=Ks.codeParseError(p);return l(m,y2.createFrom(m)),!1})},o.prototype.foreverScan=function(r,l,f){var p=this;if(this.shouldScan&&this.renderedCamera){var m=this.renderedCamera.getSurface(),b=m.videoWidth/m.clientWidth,E=m.videoHeight/m.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var S=this.qrRegion.width*b,v=this.qrRegion.height*E,T=this.qrRegion.x*b,R=this.qrRegion.y*E;this.context.drawImage(m,T,R,S,v,0,0,this.qrRegion.width,this.qrRegion.height);var L=function(){p.foreverScanTimeout=setTimeout(function(){p.foreverScan(r,l,f)},p.getTimeoutFps(r.fps))};this.scanContext(l,f).then(function(j){!j&&r.disableFlip!==!0?(p.context.translate(p.context.canvas.width,0),p.context.scale(-1,1),p.scanContext(l,f).finally(function(){L()})):L()}).catch(function(j){p.logger.logError("Error happend while scanning context",j),L()})}},o.prototype.createVideoConstraints=function(r){if(typeof r=="string")return{deviceId:{exact:r}};if(typeof r=="object"){var l="facingMode",f="deviceId",p={user:!0,environment:!0},m="exact",b=function(H){if(H in p)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(H,"'")},E=Object.keys(r);if(E.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(E.length," keys");var S=Object.keys(r)[0];if(S!==l&&S!==f)throw"Only '".concat(l,"' and '").concat(f,"' ")+" are supported for 'cameraIdOrConfig'";if(S===l){var v=r.facingMode;if(typeof v=="string"){if(b(v))return{facingMode:v}}else if(typeof v=="object")if(m in v){if(b(v["".concat(m)]))return{facingMode:{exact:v["".concat(m)]}}}else throw"'facingMode' should be string or object with"+" ".concat(m," as key.");else{var T=typeof v;throw"Invalid type of 'facingMode' = ".concat(T)}}else{var R=r.deviceId;if(typeof R=="string")return{deviceId:R};if(typeof R=="object"){if(m in R)return{deviceId:{exact:R["".concat(m)]}};throw"'deviceId' should be string or object with"+" ".concat(m," as key.")}else{var L=typeof R;throw"Invalid type of 'deviceId' = ".concat(L)}}}var j=typeof r;throw"Invalid type of 'cameraIdOrConfig' = ".concat(j)},o.prototype.computeCanvasDrawConfig=function(r,l,f,p){if(r<=f&&l<=p){var m=(f-r)/2,b=(p-l)/2;return{x:m,y:b,width:r,height:l}}else{var E=r,S=l;return r>f&&(l=f/r*l,r=f),l>p&&(r=p/l*r,l=p),this.logger.log("Image downsampled from "+"".concat(E,"X").concat(S)+" to ".concat(r,"X").concat(l,".")),this.computeCanvasDrawConfig(r,l,f,p)}},o.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var r=document.getElementById(this.elementId);r&&(r.innerHTML="")},o.prototype.possiblyUpdateShaders=function(r){this.qrMatch!==r&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(l){l.style.backgroundColor=r?wi.BORDER_SHADER_MATCH_COLOR:wi.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=r)},o.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},o.prototype.createCanvasElement=function(r,l,f){var p=r,m=l,b=document.createElement("canvas");return b.style.width="".concat(p,"px"),b.style.height="".concat(m,"px"),b.style.display="none",b.id=cr(f)?"qr-canvas":f,b},o.prototype.getShadedRegionBounds=function(r,l,f){if(f.width>r||f.height>l)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(r-f.width)/2,y:(l-f.height)/2,width:f.width,height:f.height}},o.prototype.possiblyInsertShadingElement=function(r,l,f,p){if(!(l-p.width<1||f-p.height<1)){var m=document.createElement("div");m.style.position="absolute";var b=(l-p.width)/2,E=(f-p.height)/2;if(m.style.borderLeft="".concat(b,"px solid rgba(0, 0, 0, 0.48)"),m.style.borderRight="".concat(b,"px solid rgba(0, 0, 0, 0.48)"),m.style.borderTop="".concat(E,"px solid rgba(0, 0, 0, 0.48)"),m.style.borderBottom="".concat(E,"px solid rgba(0, 0, 0, 0.48)"),m.style.boxSizing="border-box",m.style.top="0px",m.style.bottom="0px",m.style.left="0px",m.style.right="0px",m.id="".concat(wi.SHADED_REGION_ELEMENT_ID),l-p.width<11||f-p.height<11)this.hasBorderShaders=!1;else{var S=5,v=40;this.insertShaderBorders(m,v,S,-S,null,0,!0),this.insertShaderBorders(m,v,S,-S,null,0,!1),this.insertShaderBorders(m,v,S,null,-S,0,!0),this.insertShaderBorders(m,v,S,null,-S,0,!1),this.insertShaderBorders(m,S,v+S,-S,null,-S,!0),this.insertShaderBorders(m,S,v+S,null,-S,-S,!0),this.insertShaderBorders(m,S,v+S,-S,null,-S,!1),this.insertShaderBorders(m,S,v+S,null,-S,-S,!1),this.hasBorderShaders=!0}r.append(m)}},o.prototype.insertShaderBorders=function(r,l,f,p,m,b,E){var S=document.createElement("div");S.style.position="absolute",S.style.backgroundColor=wi.BORDER_SHADER_DEFAULT_COLOR,S.style.width="".concat(l,"px"),S.style.height="".concat(f,"px"),p!==null&&(S.style.top="".concat(p,"px")),m!==null&&(S.style.bottom="".concat(m,"px")),E?S.style.left="".concat(b,"px"):S.style.right="".concat(b,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(S),r.appendChild(S)},o.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},o.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},o.prototype.getTimeoutFps=function(r){return 1e3/r},o})(),If="data:image/svg+xml;base64,",$w=If+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",ev=If+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",zg=If+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",tv="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",Pg=(function(){function o(){}return o.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},o})(),nv=(function(){function o(){this.data=Pg.createDefault();var r=localStorage.getItem(o.LOCAL_STORAGE_KEY);r?this.data=JSON.parse(r):this.reset()}return o.prototype.hasCameraPermissions=function(){return this.data.hasPermission},o.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},o.prototype.setHasPermission=function(r){this.data.hasPermission=r,this.flush()},o.prototype.setLastUsedCameraId=function(r){this.data.lastUsedCameraId=r,this.flush()},o.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},o.prototype.reset=function(){this.data=Pg.createDefault(),this.flush()},o.prototype.flush=function(){localStorage.setItem(o.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},o.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",o})(),iv=(function(){function o(){this.infoDiv=document.createElement("div")}return o.prototype.renderInto=function(r){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=Ig.poweredBy();var l=document.createElement("a");l.innerText="ScanApp",l.href="https://scanapp.org",l.target="new",l.style.color="white",this.infoDiv.appendChild(l);var f=document.createElement("br"),p=document.createElement("br");this.infoDiv.appendChild(f),this.infoDiv.appendChild(p);var m=document.createElement("a");m.innerText=Ig.reportIssues(),m.href="https://github.com/mebjas/html5-qrcode/issues",m.target="new",m.style.color="white",this.infoDiv.appendChild(m),r.appendChild(this.infoDiv)},o.prototype.show=function(){this.infoDiv.style.display="block"},o.prototype.hide=function(){this.infoDiv.style.display="none"},o})(),rv=(function(){function o(r,l){this.isShowingInfoIcon=!0,this.onTapIn=r,this.onTapOut=l,this.infoIcon=document.createElement("img")}return o.prototype.renderInto=function(r){var l=this;this.infoIcon.alt="Info icon",this.infoIcon.src=zg,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(f){return l.onHoverIn()},this.infoIcon.onmouseout=function(f){return l.onHoverOut()},this.infoIcon.onclick=function(f){return l.onClick()},r.appendChild(this.infoIcon)},o.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},o.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},o.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=tv,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=zg,this.infoIcon.style.opacity="0.6")},o})(),av=(function(){function o(){var r=this;this.infoDiv=new iv,this.infoIcon=new rv(function(){r.infoDiv.show()},function(){r.infoDiv.hide()})}return o.prototype.renderInto=function(r){this.infoDiv.renderInto(r),this.infoIcon.renderInto(r)},o})(),sv=function(o,r,l,f){function p(m){return m instanceof l?m:new l(function(b){b(m)})}return new(l||(l=Promise))(function(m,b){function E(T){try{v(f.next(T))}catch(R){b(R)}}function S(T){try{v(f.throw(T))}catch(R){b(R)}}function v(T){T.done?m(T.value):p(T.value).then(E,S)}v((f=f.apply(o,r||[])).next())})},lv=function(o,r){var l={label:0,sent:function(){if(m[0]&1)throw m[1];return m[1]},trys:[],ops:[]},f,p,m,b;return b={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(b[Symbol.iterator]=function(){return this}),b;function E(v){return function(T){return S([v,T])}}function S(v){if(f)throw new TypeError("Generator is already executing.");for(;b&&(b=0,v[0]&&(l=0)),l;)try{if(f=1,p&&(m=v[0]&2?p.return:v[0]?p.throw||((m=p.return)&&m.call(p),0):p.next)&&!(m=m.call(p,v[1])).done)return m;switch(p=0,m&&(v=[v[0]&2,m.value]),v[0]){case 0:case 1:m=v;break;case 4:return l.label++,{value:v[1],done:!1};case 5:l.label++,p=v[1],v=[0];continue;case 7:v=l.ops.pop(),l.trys.pop();continue;default:if(m=l.trys,!(m=m.length>0&&m[m.length-1])&&(v[0]===6||v[0]===2)){l=0;continue}if(v[0]===3&&(!m||v[1]>m[0]&&v[1]<m[3])){l.label=v[1];break}if(v[0]===6&&l.label<m[1]){l.label=m[1],m=v;break}if(m&&l.label<m[2]){l.label=m[2],l.ops.push(v);break}m[2]&&l.ops.pop(),l.trys.pop();continue}v=r.call(o,l)}catch(T){v=[6,T],p=0}finally{f=m=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},Fg=(function(){function o(){}return o.hasPermissions=function(){return sv(this,void 0,void 0,function(){var r,l,f,p;return lv(this,function(m){switch(m.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(r=m.sent(),l=0,f=r;l<f.length;l++)if(p=f[l],p.kind==="videoinput"&&p.label)return[2,!0];return[2,!1]}})})},o})(),va=(function(){function o(r){this.supportedScanTypes=this.validateAndReturnScanTypes(r)}return o.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},o.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},o.prototype.isCameraScanRequired=function(){for(var r=0,l=this.supportedScanTypes;r<l.length;r++){var f=l[r];if(o.isCameraScanType(f))return!0}return!1},o.isCameraScanType=function(r){return r===Ea.SCAN_TYPE_CAMERA},o.isFileScanType=function(r){return r===Ea.SCAN_TYPE_FILE},o.prototype.validateAndReturnScanTypes=function(r){if(!r||r.length===0)return Zi.DEFAULT_SUPPORTED_SCAN_TYPE;var l=Zi.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(r.length>l)throw"Max ".concat(l," values expected for ")+"supportedScanTypes";for(var f=0,p=r;f<p.length;f++){var m=p[f];if(!Zi.DEFAULT_SUPPORTED_SCAN_TYPE.includes(m))throw"Unsupported scan type ".concat(m)}return r},o})(),Ai=(function(){function o(){}return o.ALL_ELEMENT_CLASS="html5-qrcode-element",o.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",o.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",o.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",o.TORCH_BUTTON_ID="html5-qrcode-button-torch",o.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",o.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",o.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",o.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",o.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",o.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",o})(),Br=(function(){function o(){}return o.createElement=function(r,l){var f=document.createElement(r);return f.id=l,f.classList.add(Ai.ALL_ELEMENT_CLASS),r==="button"&&f.setAttribute("type","button"),f},o})(),b2=function(o,r,l,f){function p(m){return m instanceof l?m:new l(function(b){b(m)})}return new(l||(l=Promise))(function(m,b){function E(T){try{v(f.next(T))}catch(R){b(R)}}function S(T){try{v(f.throw(T))}catch(R){b(R)}}function v(T){T.done?m(T.value):p(T.value).then(E,S)}v((f=f.apply(o,r||[])).next())})},A2=function(o,r){var l={label:0,sent:function(){if(m[0]&1)throw m[1];return m[1]},trys:[],ops:[]},f,p,m,b;return b={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(b[Symbol.iterator]=function(){return this}),b;function E(v){return function(T){return S([v,T])}}function S(v){if(f)throw new TypeError("Generator is already executing.");for(;b&&(b=0,v[0]&&(l=0)),l;)try{if(f=1,p&&(m=v[0]&2?p.return:v[0]?p.throw||((m=p.return)&&m.call(p),0):p.next)&&!(m=m.call(p,v[1])).done)return m;switch(p=0,m&&(v=[v[0]&2,m.value]),v[0]){case 0:case 1:m=v;break;case 4:return l.label++,{value:v[1],done:!1};case 5:l.label++,p=v[1],v=[0];continue;case 7:v=l.ops.pop(),l.trys.pop();continue;default:if(m=l.trys,!(m=m.length>0&&m[m.length-1])&&(v[0]===6||v[0]===2)){l=0;continue}if(v[0]===3&&(!m||v[1]>m[0]&&v[1]<m[3])){l.label=v[1];break}if(v[0]===6&&l.label<m[1]){l.label=m[1],m=v;break}if(m&&l.label<m[2]){l.label=m[2],l.ops.push(v);break}m[2]&&l.ops.pop(),l.trys.pop();continue}v=r.call(o,l)}catch(T){v=[6,T],p=0}finally{f=m=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},Hg=(function(){function o(r,l,f){this.isTorchOn=!1,this.torchCapability=r,this.buttonController=l,this.onTorchActionFailureCallback=f}return o.prototype.isTorchEnabled=function(){return this.isTorchOn},o.prototype.flipState=function(){return b2(this,void 0,void 0,function(){var r,l;return A2(this,function(f){switch(f.label){case 0:this.buttonController.disable(),r=!this.isTorchOn,f.label=1;case 1:return f.trys.push([1,3,,4]),[4,this.torchCapability.apply(r)];case 2:return f.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),r),[3,4];case 3:return l=f.sent(),this.propagateFailure(r,l),this.buttonController.enable(),[3,4];case 4:return[2]}})})},o.prototype.updateUiBasedOnLatestSettings=function(r,l){r===l?(this.buttonController.setText(l?It.torchOffButton():It.torchOnButton()),this.isTorchOn=l):this.propagateFailure(l),this.buttonController.enable()},o.prototype.propagateFailure=function(r,l){var f=r?It.torchOnFailedMessage():It.torchOffFailedMessage();l&&(f+="; Error = "+l),this.onTorchActionFailureCallback(f)},o.prototype.reset=function(){this.isTorchOn=!1},o})(),ov=(function(){function o(r,l){this.onTorchActionFailureCallback=l,this.torchButton=Br.createElement("button",Ai.TORCH_BUTTON_ID),this.torchController=new Hg(r,this,l)}return o.prototype.render=function(r,l){var f=this;this.torchButton.innerText=It.torchOnButton(),this.torchButton.style.display=l.display,this.torchButton.style.marginLeft=l.marginLeft;var p=this;this.torchButton.addEventListener("click",function(m){return b2(f,void 0,void 0,function(){return A2(this,function(b){switch(b.label){case 0:return[4,p.torchController.flipState()];case 1:return b.sent(),p.torchController.isTorchEnabled()?(p.torchButton.classList.remove(Ai.TORCH_BUTTON_CLASS_TORCH_OFF),p.torchButton.classList.add(Ai.TORCH_BUTTON_CLASS_TORCH_ON)):(p.torchButton.classList.remove(Ai.TORCH_BUTTON_CLASS_TORCH_ON),p.torchButton.classList.add(Ai.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),r.appendChild(this.torchButton)},o.prototype.updateTorchCapability=function(r){this.torchController=new Hg(r,this,this.onTorchActionFailureCallback)},o.prototype.getTorchButton=function(){return this.torchButton},o.prototype.hide=function(){this.torchButton.style.display="none"},o.prototype.show=function(){this.torchButton.style.display="inline-block"},o.prototype.disable=function(){this.torchButton.disabled=!0},o.prototype.enable=function(){this.torchButton.disabled=!1},o.prototype.setText=function(r){this.torchButton.innerText=r},o.prototype.reset=function(){this.torchButton.innerText=It.torchOnButton(),this.torchController.reset()},o.create=function(r,l,f,p){var m=new o(l,p);return m.render(r,f),m},o})(),cv=(function(){function o(r,l,f){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=l?"block":"none",r.appendChild(this.fileBasedScanRegion);var p=document.createElement("label");p.setAttribute("for",this.getFileScanInputId()),p.style.display="inline-block",this.fileBasedScanRegion.appendChild(p),this.fileSelectionButton=Br.createElement("button",Ai.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(E){p.click()}),p.append(this.fileSelectionButton),this.fileScanInput=Br.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",p.appendChild(this.fileScanInput);var m=this;this.fileScanInput.addEventListener("change",function(E){if(!(E==null||E.target==null)){var S=E.target;if(!(S.files&&S.files.length===0)){var v=S.files,T=v[0],R=T.name;m.setImageNameToButton(R),f(T)}}});var b=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(b),this.fileBasedScanRegion.addEventListener("dragenter",function(E){m.fileBasedScanRegion.style.border=m.fileBasedScanRegionActiveBorder(),E.stopPropagation(),E.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(E){m.fileBasedScanRegion.style.border=m.fileBasedScanRegionDefaultBorder(),E.stopPropagation(),E.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(E){m.fileBasedScanRegion.style.border=m.fileBasedScanRegionActiveBorder(),E.stopPropagation(),E.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(E){E.stopPropagation(),E.preventDefault(),m.fileBasedScanRegion.style.border=m.fileBasedScanRegionDefaultBorder();var S=E.dataTransfer;if(S){var v=S.files;if(!v||v.length===0)return;for(var T=!1,R=0;R<v.length;++R){var L=v.item(R);if(L){var j=/image.*/;if(L.type.match(j)){T=!0;var H=L.name;m.setImageNameToButton(H),f(L),b.innerText=It.dragAndDropMessage();break}}}T||(b.innerText=It.dragAndDropMessageOnlyImages())}})}return o.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},o.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},o.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},o.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},o.prototype.createFileBasedScanRegion=function(){var r=document.createElement("div");return r.style.textAlign="center",r.style.margin="auto",r.style.width="80%",r.style.maxWidth="600px",r.style.border=this.fileBasedScanRegionDefaultBorder(),r.style.padding="10px",r.style.marginBottom="10px",r},o.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},o.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},o.prototype.createDragAndDropMessage=function(){var r=document.createElement("div");return r.innerText=It.dragAndDropMessage(),r.style.fontWeight="400",r},o.prototype.setImageNameToButton=function(r){var l=20;if(r.length>l){var f=r.substring(0,8),p=r.length,m=r.substring(p-8,p);r="".concat(f,"....").concat(m)}var b=It.fileSelectionChooseAnother()+" - "+r;this.fileSelectionButton.innerText=b},o.prototype.setInitialValueToButton=function(){var r=It.fileSelectionChooseImage()+" - "+It.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=r},o.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},o.create=function(r,l,f){var p=new o(r,l,f);return p},o})(),uv=(function(){function o(r){this.selectElement=Br.createElement("select",Ai.CAMERA_SELECTION_SELECT_ID),this.cameras=r,this.options=[]}return o.prototype.render=function(r){var l=document.createElement("span");l.style.marginRight="10px";var f=this.cameras.length;if(f===0)throw new Error("No cameras found");if(f===1)l.style.display="none";else{var p=It.selectCamera();l.innerText="".concat(p," (").concat(this.cameras.length,")  ")}for(var m=1,b=0,E=this.cameras;b<E.length;b++){var S=E[b],v=S.id,T=S.label==null?v:S.label;(!T||T==="")&&(T=[It.anonymousCameraPrefix(),m++].join(" "));var R=document.createElement("option");R.value=v,R.innerText=T,this.options.push(R),this.selectElement.appendChild(R)}l.appendChild(this.selectElement),r.appendChild(l)},o.prototype.disable=function(){this.selectElement.disabled=!0},o.prototype.isDisabled=function(){return this.selectElement.disabled===!0},o.prototype.enable=function(){this.selectElement.disabled=!1},o.prototype.getValue=function(){return this.selectElement.value},o.prototype.hasValue=function(r){for(var l=0,f=this.options;l<f.length;l++){var p=f[l];if(p.value===r)return!0}return!1},o.prototype.setValue=function(r){if(!this.hasValue(r))throw new Error("".concat(r," is not present in the camera list."));this.selectElement.value=r},o.prototype.hasSingleItem=function(){return this.cameras.length===1},o.prototype.numCameras=function(){return this.cameras.length},o.create=function(r,l){var f=new o(l);return f.render(r),f},o})(),hv=(function(){function o(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=Br.createElement("input",Ai.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return o.prototype.render=function(r,l){this.zoomElementContainer.style.display=l?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",r.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var f=It.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(f),this.rangeText.style.marginRight="10px";var p=this;this.rangeInput.addEventListener("input",function(){return p.onValueChange()}),this.rangeInput.addEventListener("change",function(){return p.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},o.prototype.onValueChange=function(){var r=It.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(r),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},o.prototype.setValues=function(r,l,f,p){this.rangeInput.min=r.toString(),this.rangeInput.max=l.toString(),this.rangeInput.step=p.toString(),this.rangeInput.value=f.toString(),this.onValueChange()},o.prototype.show=function(){this.zoomElementContainer.style.display="block"},o.prototype.hide=function(){this.zoomElementContainer.style.display="none"},o.prototype.setOnCameraZoomValueChangeCallback=function(r){this.onChangeCallback=r},o.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},o.create=function(r,l){var f=new o;return f.render(r,l),f},o})(),vi;(function(o){o[o.STATUS_DEFAULT=0]="STATUS_DEFAULT",o[o.STATUS_SUCCESS=1]="STATUS_SUCCESS",o[o.STATUS_WARNING=2]="STATUS_WARNING",o[o.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(vi||(vi={}));function fv(o){return{fps:o.fps,qrbox:o.qrbox,aspectRatio:o.aspectRatio,disableFlip:o.disableFlip,videoConstraints:o.videoConstraints}}function dv(o,r){return{formatsToSupport:o.formatsToSupport,useBarCodeDetectorIfSupported:o.useBarCodeDetectorIfSupported,experimentalFeatures:o.experimentalFeatures,verbose:r}}var gv=(function(){function o(r,l,f){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=r,this.config=this.createConfig(l),this.verbose=f===!0,!document.getElementById(r))throw"HTML Element with id=".concat(r," not found");this.scanTypeSelector=new va(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new x2(this.verbose),this.persistedDataManager=new nv,l.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return o.prototype.render=function(r,l){var f=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(m,b){if(r)r(m,b);else{if(f.lastMatchFound===m)return;f.lastMatchFound=m,f.setHeaderMessage(It.lastMatch(m),vi.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(m,b){l&&l(m,b)};var p=document.getElementById(this.elementId);if(!p)throw"HTML Element with id=".concat(this.elementId," not found");p.innerHTML="",this.createBasicLayout(p),this.html5Qrcode=new Ug(this.getScanRegionId(),dv(this.config,this.verbose))},o.prototype.pause=function(r){(cr(r)||r!==!0)&&(r=!1),this.getHtml5QrcodeOrFail().pause(r)},o.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},o.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},o.prototype.clear=function(){var r=this,l=function(){var f=document.getElementById(r.elementId);f&&(f.innerHTML="",r.resetBasicLayout(f))};return this.html5Qrcode?new Promise(function(f,p){if(!r.html5Qrcode){f();return}r.html5Qrcode.isScanning?r.html5Qrcode.stop().then(function(m){if(!r.html5Qrcode){f();return}r.html5Qrcode.clear(),l(),f()}).catch(function(m){r.verbose&&r.logger.logError("Unable to stop qrcode scanner",m),p(m)}):(r.html5Qrcode.clear(),l(),f())}):Promise.resolve()},o.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},o.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},o.prototype.applyVideoConstraints=function(r){return this.getHtml5QrcodeOrFail().applyVideoConstraints(r)},o.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},o.prototype.createConfig=function(r){return r?(r.fps||(r.fps=Zi.SCAN_DEFAULT_FPS),r.rememberLastUsedCamera!==!Zi.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(r.rememberLastUsedCamera=Zi.DEFAULT_REMEMBER_LAST_CAMERA_USED),r.supportedScanTypes||(r.supportedScanTypes=Zi.DEFAULT_SUPPORTED_SCAN_TYPE),r):{fps:Zi.SCAN_DEFAULT_FPS,rememberLastUsedCamera:Zi.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:Zi.DEFAULT_SUPPORTED_SCAN_TYPE}},o.prototype.createBasicLayout=function(r){r.style.position="relative",r.style.padding="0px",r.style.border="1px solid silver",this.createHeader(r);var l=document.createElement("div"),f=this.getScanRegionId();l.id=f,l.style.width="100%",l.style.minHeight="100px",l.style.textAlign="center",r.appendChild(l),va.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var p=document.createElement("div"),m=this.getDashboardId();p.id=m,p.style.width="100%",r.appendChild(p),this.setupInitialDashboard(p)},o.prototype.resetBasicLayout=function(r){r.style.border="none"},o.prototype.setupInitialDashboard=function(r){this.createSection(r),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},o.prototype.createHeader=function(r){var l=document.createElement("div");l.style.textAlign="left",l.style.margin="0px",r.appendChild(l);var f=new av;f.renderInto(l);var p=document.createElement("div");p.id=this.getHeaderMessageContainerId(),p.style.display="none",p.style.textAlign="center",p.style.fontSize="14px",p.style.padding="2px 10px",p.style.margin="4px",p.style.borderTop="1px solid #f6f6f6",l.appendChild(p)},o.prototype.createSection=function(r){var l=document.createElement("div");l.id=this.getDashboardSectionId(),l.style.width="100%",l.style.padding="10px 0px 10px 0px",l.style.textAlign="left",r.appendChild(l)},o.prototype.createCameraListUi=function(r,l,f){var p=this;p.showHideScanTypeSwapLink(!1),p.setHeaderMessage(It.cameraPermissionRequesting());var m=function(){f||p.createPermissionButton(r,l)};Ug.getCameras().then(function(b){p.persistedDataManager.setHasPermission(!0),p.showHideScanTypeSwapLink(!0),p.resetHeaderMessage(),b&&b.length>0?(r.removeChild(l),p.renderCameraSelection(b)):(p.setHeaderMessage(It.noCameraFound(),vi.STATUS_WARNING),m())}).catch(function(b){p.persistedDataManager.setHasPermission(!1),f?f.disabled=!1:m(),p.setHeaderMessage(b,vi.STATUS_WARNING),p.showHideScanTypeSwapLink(!0)})},o.prototype.createPermissionButton=function(r,l){var f=this,p=Br.createElement("button",this.getCameraPermissionButtonId());p.innerText=It.cameraPermissionTitle(),p.addEventListener("click",function(){p.disabled=!0,f.createCameraListUi(r,l,p)}),l.appendChild(p)},o.prototype.createPermissionsUi=function(r,l){var f=this;if(va.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){Fg.hasPermissions().then(function(p){p?f.createCameraListUi(r,l):(f.persistedDataManager.setHasPermission(!1),f.createPermissionButton(r,l))}).catch(function(p){f.persistedDataManager.setHasPermission(!1),f.createPermissionButton(r,l)});return}this.createPermissionButton(r,l)},o.prototype.createSectionControlPanel=function(){var r=document.getElementById(this.getDashboardSectionId()),l=document.createElement("div");r.appendChild(l);var f=document.createElement("div");f.id=this.getDashboardSectionCameraScanRegionId(),f.style.display=va.isCameraScanType(this.currentScanType)?"block":"none",l.appendChild(f);var p=document.createElement("div");p.style.textAlign="center",f.appendChild(p),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(f,p),this.renderFileScanUi(l)},o.prototype.renderFileScanUi=function(r){var l=va.isFileScanType(this.currentScanType),f=this,p=function(m){if(!f.html5Qrcode)throw"html5Qrcode not defined";va.isFileScanType(f.currentScanType)&&(f.setHeaderMessage(It.loadingImage()),f.html5Qrcode.scanFileV2(m,!0).then(function(b){f.resetHeaderMessage(),f.qrCodeSuccessCallback(b.decodedText,b)}).catch(function(b){f.setHeaderMessage(b,vi.STATUS_WARNING),f.qrCodeErrorCallback(b,y2.createFrom(b))}))};this.fileSelectionUi=cv.create(r,l,p)},o.prototype.renderCameraSelection=function(r){var l=this,f=this,p=document.getElementById(this.getDashboardSectionCameraScanRegionId());p.style.textAlign="center";var m=hv.create(p,!1),b=function(G){var le=G.zoomFeature();if(le.isSupported()){m.setOnCameraZoomValueChangeCallback(function(ae){le.apply(ae)});var W=1;l.config.defaultZoomValueIfSupported&&(W=l.config.defaultZoomValueIfSupported),W=Rw(W,le.min(),le.max()),m.setValues(le.min(),le.max(),W,le.step()),m.show()}},E=uv.create(p,r),S=document.createElement("span"),v=Br.createElement("button",Ai.CAMERA_START_BUTTON_ID);v.innerText=It.scanButtonStartScanningText(),S.appendChild(v);var T=Br.createElement("button",Ai.CAMERA_STOP_BUTTON_ID);T.innerText=It.scanButtonStopScanningText(),T.style.display="none",T.disabled=!0,S.appendChild(T);var R,L=function(G){if(!G.torchFeature().isSupported()){R&&R.hide();return}R?R.updateTorchCapability(G.torchFeature()):R=ov.create(S,G.torchFeature(),{display:"none",marginLeft:"5px"},function(le){f.setHeaderMessage(le,vi.STATUS_WARNING)}),R.show()};p.appendChild(S);var j=function(G){G||(v.style.display="none"),v.innerText=It.scanButtonStartScanningText(),v.style.opacity="1",v.disabled=!1,G&&(v.style.display="inline-block")};if(v.addEventListener("click",function(G){v.innerText=It.scanButtonScanningStarting(),E.disable(),v.disabled=!0,v.style.opacity="0.5",l.scanTypeSelector.hasMoreThanOneScanType()&&f.showHideScanTypeSwapLink(!1),f.resetHeaderMessage();var le=E.getValue();f.persistedDataManager.setLastUsedCameraId(le),f.html5Qrcode.start(le,fv(f.config),f.qrCodeSuccessCallback,f.qrCodeErrorCallback).then(function(W){T.disabled=!1,T.style.display="inline-block",j(!1);var ae=f.html5Qrcode.getRunningTrackCameraCapabilities();l.config.showTorchButtonIfSupported===!0&&L(ae),l.config.showZoomSliderIfSupported===!0&&b(ae)}).catch(function(W){f.showHideScanTypeSwapLink(!0),E.enable(),j(!0),f.setHeaderMessage(W,vi.STATUS_WARNING)})}),E.hasSingleItem()&&v.click(),T.addEventListener("click",function(G){if(!f.html5Qrcode)throw"html5Qrcode not defined";T.disabled=!0,f.html5Qrcode.stop().then(function(le){l.scanTypeSelector.hasMoreThanOneScanType()&&f.showHideScanTypeSwapLink(!0),E.enable(),v.disabled=!1,T.style.display="none",v.style.display="inline-block",R&&(R.reset(),R.hide()),m.removeOnCameraZoomValueChangeCallback(),m.hide(),f.insertCameraScanImageToScanRegion()}).catch(function(le){T.disabled=!1,f.setHeaderMessage(le,vi.STATUS_WARNING)})}),f.persistedDataManager.getLastUsedCameraId()){var H=f.persistedDataManager.getLastUsedCameraId();E.hasValue(H)?(E.setValue(H),v.click()):f.persistedDataManager.resetLastUsedCameraId()}},o.prototype.createSectionSwap=function(){var r=this,l=It.textIfCameraScanSelected(),f=It.textIfFileScanSelected(),p=document.getElementById(this.getDashboardSectionId()),m=document.createElement("div");m.style.textAlign="center";var b=Br.createElement("span",this.getDashboardSectionSwapLinkId());b.style.textDecoration="underline",b.style.cursor="pointer",b.innerText=va.isCameraScanType(this.currentScanType)?l:f,b.addEventListener("click",function(){if(!r.sectionSwapAllowed){r.verbose&&r.logger.logError("Section swap called when not allowed");return}r.resetHeaderMessage(),r.fileSelectionUi.resetValue(),r.sectionSwapAllowed=!1,va.isCameraScanType(r.currentScanType)?(r.clearScanRegion(),r.getCameraScanRegion().style.display="none",r.fileSelectionUi.show(),b.innerText=f,r.currentScanType=Ea.SCAN_TYPE_FILE,r.insertFileScanImageToScanRegion()):(r.clearScanRegion(),r.getCameraScanRegion().style.display="block",r.fileSelectionUi.hide(),b.innerText=l,r.currentScanType=Ea.SCAN_TYPE_CAMERA,r.insertCameraScanImageToScanRegion(),r.startCameraScanIfPermissionExistsOnSwap()),r.sectionSwapAllowed=!0}),m.appendChild(b),p.appendChild(m)},o.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var r=this,l=this;if(this.persistedDataManager.hasCameraPermissions()){Fg.hasPermissions().then(function(f){if(f){var p=document.getElementById(l.getCameraPermissionButtonId());if(!p)throw r.logger.logError("Permission button not found, fail;"),"Permission button not found";p.click()}else l.persistedDataManager.setHasPermission(!1)}).catch(function(f){l.persistedDataManager.setHasPermission(!1)});return}},o.prototype.resetHeaderMessage=function(){var r=document.getElementById(this.getHeaderMessageContainerId());r.style.display="none"},o.prototype.setHeaderMessage=function(r,l){l||(l=vi.STATUS_DEFAULT);var f=this.getHeaderMessageDiv();switch(f.innerText=r,f.style.display="block",l){case vi.STATUS_SUCCESS:f.style.background="rgba(106, 175, 80, 0.26)",f.style.color="#477735";break;case vi.STATUS_WARNING:f.style.background="rgba(203, 36, 49, 0.14)",f.style.color="#cb2431";break;case vi.STATUS_DEFAULT:default:f.style.background="rgba(0, 0, 0, 0)",f.style.color="rgb(17, 17, 17)";break}},o.prototype.showHideScanTypeSwapLink=function(r){this.scanTypeSelector.hasMoreThanOneScanType()&&(r!==!0&&(r=!1),this.sectionSwapAllowed=r,this.getDashboardSectionSwapLink().style.display=r?"inline-block":"none")},o.prototype.insertCameraScanImageToScanRegion=function(){var r=this,l=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){l.innerHTML="<br>",l.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(f){l.innerHTML="<br>",l.appendChild(r.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=$w,this.cameraScanImage.alt=It.cameraScanAltText()},o.prototype.insertFileScanImageToScanRegion=function(){var r=this,l=document.getElementById(this.getScanRegionId());if(this.fileScanImage){l.innerHTML="<br>",l.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(f){l.innerHTML="<br>",l.appendChild(r.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=ev,this.fileScanImage.alt=It.fileScanAltText()},o.prototype.clearScanRegion=function(){var r=document.getElementById(this.getScanRegionId());r.innerHTML=""},o.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},o.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},o.prototype.getDashboardSectionSwapLinkId=function(){return Ai.SCAN_TYPE_CHANGE_ANCHOR_ID},o.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},o.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},o.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},o.prototype.getCameraPermissionButtonId=function(){return Ai.CAMERA_PERMISSION_BUTTON_ID},o.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},o.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},o.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},o})();function mv(){let o=localStorage.getItem("virtual_device_id");return o||(o="dev_"+Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),localStorage.setItem("virtual_device_id",o)),o}function pv({onFinish:o}){return Oe.useEffect(()=>{const r=setTimeout(o,2e3);return(async()=>{try{const f=mv(),p=navigator.userAgent;await Rt.from("device_logs").insert([{device_id:f,user_agent:p}])}catch(f){console.warn("Logging failed:",f)}})(),()=>clearTimeout(r)},[o]),I.jsx("div",{className:"splash-screen",children:I.jsxs("div",{className:"splash-content",children:[I.jsx("img",{src:"/kids-church-app/newlogo.png",alt:"Logo",className:"splash-logo",style:{width:"120px",height:"120px",borderRadius:"20px",marginBottom:"16px",objectFit:"cover"}}),I.jsx("h1",{className:"splash-title",children:"Kid's Church"}),I.jsx("p",{className:"splash-text",children:"Attendance"})]})})}function yv(){const[o,r]=Oe.useState([]),[l,f]=Oe.useState(0);Oe.useEffect(()=>{p()},[]);async function p(){try{const{data:m,error:b}=await Rt.from("attendance").select("date").eq("status","PRESENT").order("date",{ascending:!0});if(b)throw b;const E={};m.forEach(L=>{E[L.date]=(E[L.date]||0)+1});const T=Object.keys(E).sort((L,j)=>new Date(L)-new Date(j)).slice(-5).map(L=>({date:L,count:E[L],label:new Date(L).toLocaleDateString(void 0,{month:"short",day:"numeric"})})),R=Math.max(...T.map(L=>L.count),1);r(T),f(R)}catch(m){console.error(m)}}return o.length===0?null:I.jsxs("div",{className:"chart-card fade-in",children:[I.jsxs("div",{className:"chart-header",children:[I.jsx(Hx,{size:16}),I.jsx("span",{children:"Attendance Trend"})]}),I.jsx("div",{className:"chart-container",children:o.map(m=>I.jsxs("div",{className:"chart-bar-group",children:[I.jsx("span",{className:"chart-value",children:m.count}),I.jsx("div",{className:"chart-bar",style:{height:"100%"},children:I.jsx("div",{style:{height:`${m.count/l*100}%`,background:"var(--primary)",borderRadius:"6px 6px 0 0",width:"100%",position:"absolute",bottom:0,transition:"height 1s ease-out"}})}),I.jsx("span",{className:"chart-label",children:m.label})]},m.date))})]})}function xv(){const[o,r]=Oe.useState([]);Oe.useEffect(()=>{l()},[]);async function l(){try{const{data:f,error:p}=await Rt.from("students").select("*");if(p)throw p;const m=new Date().getMonth(),b=f.filter(E=>E.birthday?new Date(E.birthday).getMonth()===m:!1).sort((E,S)=>new Date(E.birthday).getDate()-new Date(S.birthday).getDate());r(b)}catch(f){console.error(f)}}return o.length===0?null:I.jsxs("div",{className:"birthday-card fade-in",children:[I.jsxs("div",{className:"birthday-header",children:[I.jsx($x,{size:18}),I.jsx("span",{children:"Birthdays this Month"})]}),I.jsx("div",{className:"birthday-list",children:o.map(f=>I.jsxs("div",{className:"birthday-item",children:[I.jsx("div",{className:"birthday-name",children:f.nickname||f.full_name.split(" ")[0]}),I.jsx("div",{className:"birthday-date",children:new Date(f.birthday).toLocaleDateString(void 0,{month:"short",day:"numeric"})})]},f.id))})]})}function wv({student:o,onClose:r}){return I.jsx("div",{className:"modal-overlay fade-in",children:I.jsxs("div",{className:"modal-content",style:{textAlign:"center"},children:[I.jsx("div",{style:{background:"#ECFDF5",width:"80px",height:"80px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 16px"},children:I.jsx(Yc,{size:48,color:"#10B981"})}),I.jsx("h2",{children:"Welcome Back!"}),I.jsxs("p",{style:{fontSize:"18px",margin:"8px 0 24px"},children:[I.jsx("strong",{children:o.full_name})," is marked present."]}),I.jsx("button",{onClick:r,className:"btn full-width",style:{marginTop:"16px"},children:"OK, Next"})]})})}function vv({onNavigate:o}){const[r,l]=Oe.useState(!1),[f,p]=Oe.useState(null);return Oe.useEffect(()=>{if(r){const m=new gv("reader",{fps:10,qrbox:250},!1);return m.render(async b=>{try{m.clear(),l(!1);const{data:E,error:S}=await Rt.from("students").select("*").eq("id",b).single();if(S||!E){alert("Invalid QR Code or Student not found!");return}const v=new Date().toISOString().split("T")[0],{error:T}=await Rt.from("attendance").upsert({student_id:E.id,date:v,status:"PRESENT"},{onConflict:"student_id, date"});if(T)throw T;p(E)}catch(E){console.error(E),alert("Error marking attendance: "+E.message)}},b=>{}),()=>{try{m.clear()}catch{}}}},[r]),I.jsxs("div",{className:"page fade-in",children:[f&&I.jsx(wv,{student:f,onClose:()=>p(null)}),r&&I.jsx("div",{className:"modal-overlay",style:{zIndex:999},children:I.jsxs("div",{className:"modal-content",style:{padding:"20px",overflow:"hidden"},children:[I.jsx("button",{onClick:()=>l(!1),style:{position:"absolute",top:10,right:10,zIndex:1e3,background:"#F3F4F6",color:"#000",border:"none",borderRadius:"50%",width:32,height:32},children:"X"}),I.jsx("h3",{style:{marginBottom:"16px",textAlign:"center"},children:"Scan QR Code"}),I.jsx("div",{id:"reader",style:{width:"100%",borderRadius:"12px",overflow:"hidden"}}),I.jsx("p",{style:{textAlign:"center",color:"#6B7280",padding:"10px",fontSize:"13px"},children:"Point camera at Student QR"})]})}),I.jsxs("header",{className:"home-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",paddingBottom:"12px"},children:[I.jsxs("div",{children:[I.jsx("h1",{children:"Welcome Back!"}),I.jsx("p",{children:"Ready for class today?"})]}),I.jsxs("div",{style:{display:"flex",gap:"8px"},children:[I.jsxs("button",{onClick:()=>l(!0),style:{background:"#10B981",border:"none",color:"#fff",padding:"8px",borderRadius:"8px",cursor:"pointer",display:"flex",alignItems:"center",gap:"4px"},children:[I.jsx(uw,{size:20})," ",I.jsx("span",{style:{fontSize:"12px",fontWeight:"bold"},children:"SCAN"})]}),I.jsx("button",{onClick:()=>o("info"),style:{background:"none",border:"none",color:"var(--primary)",cursor:"pointer"},children:I.jsx(Yx,{size:28})})]})]}),I.jsx(yv,{}),I.jsx(xv,{}),I.jsxs("div",{className:"menu-grid",children:[I.jsxs("button",{className:"menu-card primary",onClick:()=>o("attendance"),children:[I.jsx("div",{className:"icon-bg",children:I.jsx(u2,{size:32})}),I.jsx("h3",{children:"Attendance"}),I.jsx("p",{children:"Mark students present"})]}),I.jsxs("button",{className:"menu-card secondary",onClick:()=>o("activity-log"),children:[I.jsx("div",{className:"icon-bg",children:I.jsx(Dx,{size:32})}),I.jsx("h3",{children:"Activity Log"}),I.jsx("p",{children:"Notes & Verse History"})]}),I.jsxs("button",{className:"menu-card danger",onClick:()=>o("follow-up"),children:[I.jsx("div",{className:"icon-bg",children:I.jsx(o2,{size:32})}),I.jsx("h3",{children:"Follow Up"}),I.jsx("p",{children:"Missed 3+ Sundays"})]}),I.jsxs("button",{className:"menu-card accent",onClick:()=>o("student-monitor"),children:[I.jsx("div",{className:"icon-bg",children:I.jsx(Nf,{size:32})}),I.jsx("h3",{children:"Profiles"}),I.jsx("p",{children:"Stats & History"})]}),I.jsxs("button",{className:"menu-card",onClick:()=>o("reports"),children:[I.jsx("div",{className:"icon-bg",style:{background:"#EDE9FE",color:"#7C3AED"},children:I.jsx(Xx,{size:32})}),I.jsx("h3",{children:"Reports"}),I.jsx("p",{children:"Full History"})]}),I.jsxs("button",{className:"menu-card",onClick:()=>o("student-manager"),children:[I.jsx("div",{className:"icon-bg",style:{background:"#FFEDD5",color:"#C2410C"},children:I.jsx(Zx,{size:32})}),I.jsx("h3",{children:"Manage"}),I.jsx("p",{children:"Add/Edit Students"})]})]})]})}function bv({onBack:o}){const[r,l]=Oe.useState([]),[f,p]=Oe.useState(!0);Oe.useEffect(()=>{m()},[]);async function m(){try{p(!0);const{data:E,error:S}=await Rt.from("attendance").select("date, remarks, memory_verse, students (full_name, nickname)").or("memory_verse.eq.true,remarks.neq.null").order("date",{ascending:!1});if(S)throw S;const v={};E.forEach(T=>{v[T.date]||(v[T.date]={date:T.date,verses:[],remarks:[]}),T.memory_verse&&v[T.date].verses.push(T.students.nickname||T.students.full_name),T.remarks&&v[T.date].remarks.push({name:T.students.nickname||T.students.full_name,note:T.remarks})}),l(Object.values(v))}catch(E){console.error(E)}finally{p(!1)}}const b=E=>new Date(E).toLocaleDateString(void 0,{weekday:"long",month:"long",day:"numeric"});return I.jsxs("div",{className:"page slide-in",style:{background:"#FAFAFA"},children:[I.jsxs("header",{className:"page-header",style:{background:"#fff",margin:0,padding:"20px",boxShadow:"0 1px 2px rgba(0,0,0,0.05)"},children:[I.jsx("button",{onClick:o,className:"back-btn",children:I.jsx(Qi,{size:24})}),I.jsx("h2",{children:"Activity Log"})]}),I.jsx("div",{className:"timeline",children:f?I.jsx("div",{className:"empty-state",children:"Loading..."}):r.length===0?I.jsx("div",{className:"empty-state",children:"No activity yet."}):r.map(E=>I.jsxs("div",{className:"timeline-item",children:[I.jsx("div",{className:"timeline-dot"}),I.jsx("div",{className:"timeline-date",children:b(E.date)}),E.verses.length>0&&I.jsxs("div",{className:"timeline-card timeline-section",children:[I.jsxs("div",{className:"timeline-title",style:{color:"#D97706"},children:[I.jsx(so,{size:14})," Memory Verses (",E.verses.length,")"]}),I.jsx("p",{style:{fontSize:"14px",lineHeight:"1.4",color:"#374151"},children:E.verses.join(", ")})]}),E.remarks.length>0&&I.jsxs("div",{className:"timeline-card timeline-section",children:[I.jsxs("div",{className:"timeline-title",style:{color:"var(--primary)"},children:[I.jsx(Cf,{size:14})," Remarks"]}),I.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:E.remarks.map((S,v)=>I.jsxs("div",{style:{fontSize:"13px"},children:[I.jsxs("span",{style:{fontWeight:"700",color:"#111827"},children:[S.name,":"]})," ",I.jsx("span",{style:{color:"#4B5563"},children:S.note})]},v))})]})]},E.date))})]})}function Av({stats:o}){const r=(b,E,S,v)=>b>=v?"gold":b>=S?"silver":b>=E?"bronze":"locked",l=r(o.total,1,3,10),f=r(o.verses,1,5,10),p=r(o.streak,2,4,8),m=[{id:"attendance",title:l==="bronze"?"First Step":l==="silver"?"Regular":"Rising Star",desc:l==="gold"?"10+ Visits":"Attendance",icon:I.jsx(l2,{size:24,fill:l==="gold"?"#F59E0B":"currentColor",color:l==="gold"?"#D97706":l==="silver"?"#64748B":"#92400E"}),rank:l},{id:"verses",title:f==="bronze"?"Student":f==="silver"?"Scholar":"Bible Champ",desc:f==="gold"?"10 Verses":"Bible Verse",icon:I.jsx(jx,{size:24,fill:f==="gold"?"#F59E0B":"currentColor",color:f==="gold"?"#D97706":f==="silver"?"#64748B":"#92400E"}),rank:f},{id:"streak",title:p==="bronze"?"Warming Up":p==="silver"?"On Fire":"Unstoppable",desc:p==="gold"?"8 Weeks!":"Streak",icon:I.jsx(Kx,{size:24,fill:p==="gold"?"#EF4444":"currentColor",color:p==="gold"?"#B91C1C":p==="silver"?"#64748B":"#92400E"}),rank:p}];return I.jsxs("div",{style:{padding:"0 20px 20px"},children:[I.jsxs("h3",{className:"section-header",style:{marginBottom:"12px",display:"flex",alignItems:"center",gap:"8px"},children:[I.jsx(c2,{size:18,color:"#D97706"})," Achievements"]}),I.jsx("div",{className:"trophy-grid",children:m.map((b,E)=>I.jsxs("div",{className:`trophy-card ${b.rank!=="locked"?"unlocked":""} rank-${b.rank}`,children:[I.jsx("span",{className:"trophy-icon",children:b.icon}),I.jsx("div",{className:"trophy-title",children:b.title}),I.jsx("div",{className:"trophy-desc",children:b.desc})]},E))})]})}function Ev({student:o,onBack:r}){const[l,f]=Oe.useState([]),[p,m]=Oe.useState({total:0,verses:0,streak:0}),[b,E]=Oe.useState(!0);Oe.useEffect(()=>{if(o.isDemo){E(!1),m(o.demoStats),f(o.demoHistory);return}S()},[o]);async function S(){try{E(!0);const{data:j,error:H}=await Rt.from("attendance").select("*").eq("student_id",o.id).eq("status","PRESENT").order("date",{ascending:!1});if(H)throw H;f(j);const G=j.length,le=j.filter(ae=>ae.memory_verse).length;let W=0;j.length>0&&(W=Math.min(G,j.length)),m({total:G,verses:le,streak:W})}catch(j){console.error(j)}finally{E(!1)}}const v=new Date().toISOString().split("T")[0],T=l.some(j=>j.date===v)||o.isDemo&&o.demoHistory.some(j=>j.date===v),[R,L]=Oe.useState(!1);return I.jsxs("div",{className:"page slide-in",style:{padding:0,background:"#F9FAFB"},children:[R&&I.jsx("div",{className:"modal-overlay fade-in",onClick:()=>L(!1),children:I.jsxs("div",{className:"modal-content",style:{textAlign:"center"},onClick:j=>j.stopPropagation(),children:[I.jsx("h3",{children:"Student QR Code"}),I.jsx("p",{style:{marginBottom:"16px",color:"#6B7280"},children:"Scan to mark present"}),I.jsx("div",{style:{background:"#fff",padding:"16px",border:"2px solid #E5E7EB",borderRadius:"12px",display:"inline-block"},children:I.jsx(Ow,{value:o.id,size:200})}),I.jsx("h4",{style:{marginTop:"16px"},children:o.full_name}),I.jsx("br",{}),I.jsx("button",{className:"btn full-width",onClick:()=>L(!1),style:{marginTop:"16px"},children:"Close"})]})}),I.jsxs("div",{className:"profile-header",children:[I.jsx("button",{onClick:r,className:"back-btn",style:{position:"absolute",top:"20px",left:"20px"},children:I.jsx(Qi,{size:24})}),I.jsx("button",{onClick:()=>L(!0),style:{position:"absolute",top:"20px",right:"20px",background:"var(--primary)",border:"none",color:"#fff",width:"40px",height:"40px",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",boxShadow:"0 4px 6px -1px rgba(79, 70, 229, 0.4)"},children:I.jsx(ow,{size:20})}),I.jsx("div",{className:`big-avatar ${T?"pulsing-border":""}`,style:T?{border:"4px solid #10B981",color:"#10B981",background:"#ECFDF5",borderRadius:"50%",overflow:"hidden"}:{borderRadius:"50%",overflow:"hidden"},children:o.avatar_url?I.jsx("img",{src:o.avatar_url,alt:"Profile",style:{width:"100%",height:"100%",objectFit:"cover"}}):o.nickname?o.nickname[0]:o.full_name[0]}),I.jsx("h2",{className:"profile-name",children:o.full_name}),I.jsxs("div",{className:"profile-meta",children:[I.jsx("span",{children:o.grade_level||"No Grade"}),"  ",I.jsx("span",{children:o.gender||"Student"}),o.nickname&&I.jsxs("span",{children:[' "',o.nickname,'"']})]})]}),I.jsxs("div",{className:"stats-row",children:[I.jsxs("div",{className:"stat-card",children:[I.jsx("span",{className:"stat-val",children:p.total}),I.jsx("span",{className:"stat-label",children:"Attended"})]}),I.jsxs("div",{className:"stat-card",children:[I.jsx("span",{className:"stat-val",style:{color:"#D97706"},children:p.verses}),I.jsx("span",{className:"stat-label",children:"Verses"})]}),I.jsxs("div",{className:"stat-card",children:[I.jsx("span",{className:"stat-val",style:{color:"#EC4899"},children:p.streak}),I.jsx("span",{className:"stat-label",children:"Streak"})]})]}),I.jsx(Av,{stats:p}),I.jsxs("div",{style:{padding:"0 20px 20px"},children:[I.jsx("h3",{className:"section-header",style:{marginBottom:"16px"},children:"Attendance History"}),b?I.jsx("div",{className:"empty-state",children:"Loading..."}):l.length===0?I.jsx("div",{className:"empty-state",children:"No attendance recorded."}):I.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:l.map((j,H)=>I.jsxs("div",{className:"card",style:{padding:"16px",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[I.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[I.jsx("div",{style:{background:"#EEF2FF",padding:"8px",borderRadius:"10px",color:"var(--primary)"},children:I.jsx(Px,{size:20})}),I.jsxs("div",{children:[I.jsx("div",{style:{fontWeight:"700",fontSize:"15px",color:"#1F2937"},children:new Date(j.date).toLocaleDateString(void 0,{month:"long",day:"numeric",year:"numeric"})}),j.remarks&&I.jsxs("div",{style:{fontSize:"13px",color:"#6B7280",marginTop:"2px"},children:['"',j.remarks,'"']})]})]}),j.memory_verse&&I.jsxs("div",{style:{background:"#FEF3C7",padding:"6px 12px",borderRadius:"20px",fontSize:"12px",fontWeight:"700",color:"#D97706",display:"flex",alignItems:"center",gap:"4px"},children:[I.jsx(so,{size:14})," Verse"]})]},j.id||H))})]})]})}function Sv({onBack:o,onSelect:r}){const[l,f]=Oe.useState([]),[p,m]=Oe.useState(!0),[b,E]=Oe.useState(""),[S,v]=Oe.useState("alpha"),T={id:"demo-zion",full_name:"Zion Lion",nickname:"Zion",grade_level:"Grade 3",gender:"Male",isDemo:!0,demoStats:{total:15,verses:12,streak:5},demoHistory:[{date:new Date().toISOString().split("T")[0],memory_verse:!0,remarks:"Present today!"},{date:"2023-10-27",memory_verse:!0,remarks:"Led the prayer"},{date:"2023-10-20",memory_verse:!0,remarks:""},{date:"2023-10-13",memory_verse:!1,remarks:"Brought a friend"}]},[R,L]=Oe.useState(new Set);Oe.useEffect(()=>{j(),H()},[]);async function j(){try{const{data:W}=await Rt.from("students").select("*").order("full_name");f(W)}catch{}finally{m(!1)}}async function H(){try{const W=new Date().toISOString().split("T")[0],{data:ae}=await Rt.from("attendance").select("student_id").eq("date",W).eq("status","PRESENT");ae&&L(new Set(ae.map(J=>J.student_id)))}catch(W){console.error(W)}}const le=[...l.filter(W=>W.full_name.toLowerCase().includes(b.toLowerCase()))].sort((W,ae)=>{if(S==="present"){const J=R.has(W.id),$=R.has(ae.id);if(J&&!$)return-1;if(!J&&$)return 1}return W.full_name.localeCompare(ae.full_name)});return I.jsxs("div",{className:"page slide-in",children:[I.jsxs("header",{className:"page-header",style:{justifyContent:"space-between"},children:[I.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[I.jsx("button",{onClick:o,className:"back-btn",children:I.jsx(Qi,{size:24})}),I.jsx("h2",{children:"Select Student"})]}),I.jsxs("button",{onClick:()=>v(W=>W==="alpha"?"present":"alpha"),style:{display:"flex",alignItems:"center",gap:"6px",padding:"8px 12px",borderRadius:"8px",border:"1px solid #E5E7EB",background:S==="present"?"#ECFDF5":"#fff",color:S==="present"?"#059669":"#374151",fontSize:"12px",fontWeight:"600",cursor:"pointer"},children:[I.jsx(Lx,{size:16}),S==="present"?"Present First":"A-Z"]})]}),I.jsxs("div",{className:"search-bar",children:[I.jsx("input",{type:"text",placeholder:"Search name...",className:"input search-input",value:b,onChange:W=>E(W.target.value)}),I.jsx(Tf,{size:20,className:"search-icon"})]}),I.jsxs("div",{className:"student-list",children:[I.jsxs("div",{className:"card student-card",onClick:()=>r(T),style:{border:"2px dashed #D97706",background:"#FFFBEB"},children:[I.jsxs("div",{className:"student-info",children:[I.jsxs("h3",{children:[T.full_name," ",I.jsx("span",{className:"badge",style:{background:"#FCD34D",color:"#92400E"},children:"DEMO"})]}),I.jsx("span",{children:"Present Today!"})]}),I.jsx(l2,{size:20,fill:"#10B981",color:"#10B981"})]}),p?I.jsx("div",{className:"empty-state",children:"Loading..."}):le.map(W=>{const ae=R.has(W.id);return I.jsxs("div",{className:"card student-card",onClick:()=>r(W),style:ae?{borderLeft:"3px solid #10B981"}:{},children:[I.jsxs("div",{className:"student-info",children:[I.jsx("h3",{children:W.full_name}),I.jsx("span",{style:ae?{color:"#10B981",fontWeight:"bold"}:{},children:ae?"Present":W.nickname||"View Profile"})]}),I.jsx(Nf,{size:20,color:ae?"#10B981":"var(--border-color)",fill:ae?"#ECFDF5":"none"})]},W.id)})]})]})}function _v({onBack:o}){return I.jsxs("div",{className:"page slide-in",children:[I.jsxs("header",{className:"page-header",children:[I.jsx("button",{onClick:o,className:"back-btn",children:I.jsx(Qi,{size:24})}),I.jsx("h2",{children:"Guidelines"})]}),I.jsxs("div",{style:{padding:"0 8px"},children:[I.jsxs("div",{className:"card",style:{padding:"20px",marginBottom:"16px",borderLeft:"4px solid var(--primary)"},children:[I.jsxs("h3",{style:{marginBottom:"8px",display:"flex",alignItems:"center",gap:"8px"},children:[I.jsx(u2,{size:20,color:"var(--primary)"})," New vs Regulars"]}),I.jsxs("p",{style:{fontSize:"14px",lineHeight:"1.5",color:"var(--text-muted)"},children:[I.jsx("strong",{children:"New Kids:"})," Any child who has visited less than 3 times. They get a special badge so you can welcome them!",I.jsx("br",{}),I.jsx("br",{}),I.jsx("strong",{children:"Regulars:"}),' Once a child visits for the 3rd time, they automatically become a "Regular".']})]}),I.jsxs("div",{className:"card",style:{padding:"20px",marginBottom:"16px",borderLeft:"4px solid #D97706"},children:[I.jsxs("h3",{style:{marginBottom:"8px",display:"flex",alignItems:"center",gap:"8px",color:"#D97706"},children:[I.jsx(so,{size:20})," Bible Verse & Notes"]}),I.jsxs("p",{style:{fontSize:"14px",lineHeight:"1.5",color:"var(--text-muted)"},children:["When marking attendance, tap the details:",I.jsx("br",{}),I.jsx("br",{}),I.jsxs("strong",{style:{color:"#D97706"},children:[I.jsx(so,{size:14,style:{display:"inline",marginRight:4}})," Bible Icon:"]})," Click this if the student can recite the Memory Verse for the day.",I.jsx("br",{}),I.jsx("br",{}),I.jsxs("strong",{style:{color:"var(--primary)"},children:[I.jsx(Cf,{size:14,style:{display:"inline",marginRight:4}})," Note Icon:"]}),' Use this to add remarks (e.g. "Sick", "Fetched by Lola").']})]}),I.jsxs("div",{className:"card",style:{padding:"20px",marginBottom:"16px",borderLeft:"4px solid #F59E0B"},children:[I.jsxs("h3",{style:{marginBottom:"8px",display:"flex",alignItems:"center",gap:"8px",color:"#F59E0B"},children:[I.jsx(c2,{size:20})," Achievements"]}),I.jsxs("div",{style:{fontSize:"14px",color:"var(--text-muted)"},children:[I.jsxs("p",{style:{marginBottom:"12px"},children:["Every medal has 3 Levels: ",I.jsx("strong",{children:"Bronze"}),", ",I.jsx("strong",{children:"Silver"}),", and ",I.jsx("strong",{children:"Gold"}),"."]}),I.jsxs("div",{style:{marginBottom:"8px"},children:[I.jsx("strong",{children:" Attendance"}),I.jsxs("ul",{style:{paddingLeft:"20px",margin:"4px 0"},children:[I.jsx("li",{children:"1st Visit: First Step"}),I.jsx("li",{children:"3 Visits: Regular"}),I.jsxs("li",{children:["10 Visits: ",I.jsx("strong",{children:"Rising Star"})," (Gold)"]})]})]}),I.jsxs("div",{style:{marginBottom:"8px"},children:[I.jsx("strong",{children:" Bible Verses"}),I.jsxs("ul",{style:{paddingLeft:"20px",margin:"4px 0"},children:[I.jsx("li",{children:"1 Verse: Student"}),I.jsx("li",{children:"5 Verses: Scholar"}),I.jsxs("li",{children:["10 Verses: ",I.jsx("strong",{children:"Bible Champ"})," (Gold)"]})]})]}),I.jsxs("div",{style:{marginBottom:"8px"},children:[I.jsx("strong",{children:" Weekly Streak"}),I.jsxs("ul",{style:{paddingLeft:"20px",margin:"4px 0"},children:[I.jsx("li",{children:"2 Weeks: Warming Up"}),I.jsx("li",{children:"4 Weeks: On Fire"}),I.jsxs("li",{children:["8 Weeks: ",I.jsx("strong",{children:"Unstoppable"})," (Gold)"]})]})]})]})]}),I.jsxs("div",{className:"card",style:{padding:"20px",marginBottom:"16px",borderLeft:"4px solid #DC2626"},children:[I.jsxs("h3",{style:{marginBottom:"8px",display:"flex",alignItems:"center",gap:"8px",color:"#DC2626"},children:[I.jsx(o2,{size:20})," Follow Up"]}),I.jsxs("p",{style:{fontSize:"14px",lineHeight:"1.5",color:"var(--text-muted)"},children:["The app monitors attendance automatically.",I.jsx("br",{}),I.jsx("br",{}),"If a student is ",I.jsx("strong",{children:"absent for 3 consecutive Sundays"}),' (based on the last 3 recorded dates), they will appear in the "Follow Up" list so you can visit them.']})]})]})]})}function Cv({onBack:o}){const[r,l]=Oe.useState([]),[f,p]=Oe.useState(!0),[m,b]=Oe.useState([]);Oe.useEffect(()=>{E()},[]);async function E(){try{p(!0);const{data:S,error:v}=await Rt.from("attendance").select("date").eq("status","PRESENT").order("date",{ascending:!1}),T={id:"demo-absent",full_name:"Sleeping Sam (Demo)",grade_level:"Grade 1",avatar_url:null,isDemo:!0};if(v)throw v;const R=[...new Set(S.map(ae=>ae.date))].slice(0,3);if(b(R),R.length<3){l([T]);return}const{data:L,error:j}=await Rt.from("attendance").select("student_id").in("date",R).eq("status","PRESENT");if(j)throw j;const H=new Set(L.map(ae=>ae.student_id)),{data:G,error:le}=await Rt.from("students").select("*").order("full_name");if(le)throw le;const W=G.filter(ae=>!H.has(ae.id));l([...W,T])}catch(S){console.error(S)}finally{p(!1)}}return I.jsxs("div",{className:"page slide-in",children:[I.jsxs("header",{className:"page-header",children:[I.jsx("button",{onClick:o,className:"back-btn",children:I.jsx(Qi,{size:24})}),I.jsxs("div",{children:[I.jsx("h2",{style:{fontSize:"18px",fontWeight:"700"},children:"To Visit / Follow Up"}),I.jsx("span",{style:{fontSize:"12px",color:"var(--text-muted)"},children:"Missed the last 3 Sundays"})]})]}),m.length<3&&!f&&I.jsxs("div",{className:"error-banner",style:{background:"#FFF7ED",color:"#C2410C",borderColor:"#FFEDD5"},children:["Not enough history yet (",m.length,"/3 Sundays)."]}),I.jsx("div",{className:"student-list",children:f?I.jsx("div",{className:"empty-state",children:"Calculating..."}):r.length===0?I.jsxs("div",{className:"empty-state",children:[I.jsx(Yc,{size:48,style:{marginBottom:"16px",color:"var(--success)"}}),I.jsx("p",{children:"Good news! Everyone has attended at least once recently."})]}):r.map(S=>I.jsxs("div",{className:"card student-card",style:{cursor:"default"},children:[I.jsxs("div",{className:"student-info",children:[I.jsx("h3",{children:S.full_name}),I.jsx("span",{style:{color:"#EF4444",fontWeight:"500"},children:"Missed 3 Consecutive"})]}),I.jsx("div",{style:{background:"#FEE2E2",padding:"8px",borderRadius:"50%",color:"#DC2626"},children:I.jsx(tw,{size:24})})]},S.id))})]})}function Tv({onNavigate:o,onSelectDate:r}){const[l,f]=Oe.useState([]),[p,m]=Oe.useState(!0);Oe.useEffect(()=>{b()},[]);async function b(){try{m(!0);const{data:S,error:v}=await Rt.from("attendance").select("date, status").eq("status","PRESENT").order("date",{ascending:!1});if(v)throw v;const T={};S.forEach(L=>{T[L.date]||(T[L.date]=0),T[L.date]++});const R=Object.keys(T).map(L=>({date:L,count:T[L]}));f(R)}catch(S){console.error(S)}finally{m(!1)}}const E=S=>{const v={weekday:"long",year:"numeric",month:"long",day:"numeric"};return new Date(S).toLocaleDateString(void 0,v)};return I.jsxs("div",{className:"page slide-in",children:[I.jsxs("header",{className:"page-header",children:[I.jsx("button",{onClick:()=>o("home"),className:"back-btn",children:I.jsx(Qi,{size:24})}),I.jsx("h2",{children:"Reports"})]}),I.jsx("div",{className:"student-list",children:p?I.jsx("div",{className:"empty-state",children:"Loading reports..."}):l.length===0?I.jsx("div",{className:"empty-state",children:"No attendance records found."}):l.map(S=>I.jsxs("div",{className:"card student-card",onClick:()=>r(S.date),children:[I.jsxs("div",{className:"student-info",children:[I.jsx("h3",{children:E(S.date)}),I.jsxs("span",{children:[S.count," Present"]})]}),I.jsx("div",{style:{color:"var(--primary)"},children:I.jsx(Qi,{size:20,style:{transform:"rotate(180deg)"}})})]},S.date))})]})}function Nv({date:o,onBack:r}){const[l,f]=Oe.useState([]),[p,m]=Oe.useState(!0);Oe.useEffect(()=>{b()},[o]);async function b(){try{m(!0);const{data:S,error:v}=await Rt.from("attendance").select("status, students (full_name, grade_level)").eq("date",o).eq("status","PRESENT");if(v)throw v;f(S)}catch(S){console.error(S)}finally{m(!1)}}const E=S=>new Date(S).toLocaleDateString(void 0,{dateStyle:"full"});return I.jsxs("div",{className:"page slide-in",children:[I.jsxs("header",{className:"page-header",children:[I.jsx("button",{onClick:r,className:"back-btn",children:I.jsx(Qi,{size:24})}),I.jsxs("div",{children:[I.jsx("h2",{style:{fontSize:"18px",fontWeight:"700"},children:"Present List"}),I.jsx("span",{style:{fontSize:"12px",color:"var(--text-muted)"},children:E(o)})]})]}),I.jsx("div",{className:"student-list",children:p?I.jsx("div",{className:"empty-state",children:"Loading..."}):l.length===0?I.jsx("div",{className:"empty-state",children:"No one marked present."}):l.map((S,v)=>I.jsxs("div",{className:"card student-card",style:{cursor:"default"},children:[I.jsxs("div",{className:"student-info",children:[I.jsx("h3",{children:S.students.full_name}),I.jsx("span",{children:S.students.grade_level||"No Grade"})]}),I.jsx("div",{className:"check-btn active",style:{width:"24px",height:"24px"},children:I.jsx(Yc,{size:16,color:"white"})})]},v))})]})}function Vg({onBack:o,onComplete:r,initialData:l}){const[f,p]=Oe.useState(l?.full_name||""),[m,b]=Oe.useState(l?.grade_level||""),[E,S]=Oe.useState(l?.parent_name||""),[v,T]=Oe.useState(l?.contact_number||""),[R,L]=Oe.useState(l?.nickname||""),[j,H]=Oe.useState(l?.gender||"Male"),[G,le]=Oe.useState(l?.birthday||""),[W,ae]=Oe.useState(!1),J=!!l,[$,Re]=Oe.useState(l?.avatar_url||""),[ve,K]=Oe.useState(!1),Se=async Ue=>{try{K(!0);const Ee=Ue.target.files[0];if(!Ee)return;const Be=document.createElement("img"),Ye=document.createElement("canvas"),te=new FileReader;te.onload=function(ne){Be.onload=function(){let Xe=Be.width,Ze=Be.height;Xe>Ze?Xe>300&&(Ze*=300/Xe,Xe=300):Ze>300&&(Xe*=300/Ze,Ze=300),Ye.width=Xe,Ye.height=Ze,Ye.getContext("2d").drawImage(Be,0,0,Xe,Ze),Ye.toBlob(async oe=>{const be=`${Date.now()}-${Math.floor(Math.random()*1e3)}.jpg`,{data:Ae,error:Ve}=await Rt.storage.from("avatars").upload(be,oe,{contentType:"image/jpeg",upsert:!1});if(Ve)throw Ve;const we=Rt.storage.from("avatars").getPublicUrl(be).data.publicUrl;Re(we),K(!1)},"image/jpeg",.8)},Be.src=ne.target.result},te.readAsDataURL(Ee)}catch(Ee){alert("Error uploading: "+Ee.message),K(!1)}},he=async Ue=>{if(Ue.preventDefault(),!f.trim())return;ae(!0);const Ee={full_name:f,grade_level:m,parent_name:E,contact_number:v,gender:j,nickname:R,birthday:G||null,avatar_url:$};try{if(J){const{error:Be}=await Rt.from("students").update(Ee).eq("id",l.id);if(Be)throw Be}else{const{error:Be}=await Rt.from("students").insert([Ee]);if(Be)throw Be}r()}catch(Be){console.error(Be),alert("Error saving: "+(Be.message||"Unknown error"))}finally{ae(!1)}},wn=async()=>{if(confirm("Are you sure you want to delete this student?")){ae(!0);try{const{error:Ue}=await Rt.from("students").delete().eq("id",l.id);if(Ue)throw Ue;r()}catch(Ue){alert(Ue.message)}finally{ae(!1)}}};return I.jsxs("div",{className:"page slide-in",children:[I.jsxs("header",{className:"page-header",children:[I.jsx("button",{onClick:o,className:"back-btn",children:I.jsx(Qi,{size:24})}),I.jsx("h2",{children:J?"Edit Student":"Register Student"})]}),I.jsxs("form",{onSubmit:he,className:"student-form",children:[I.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",marginBottom:"20px"},children:[I.jsx("div",{style:{width:"100px",height:"100px",borderRadius:"50%",background:"#F3F4F6",overflow:"hidden",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"12px",border:"3px solid #fff",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:$?I.jsx("img",{src:$,alt:"Avatar",style:{width:"100%",height:"100%",objectFit:"cover"}}):I.jsx(Nf,{size:48,color:"#9CA3AF"})}),I.jsxs("div",{className:"file-upload-btn",children:[I.jsx("label",{htmlFor:"avatar-upload",className:"btn secondary",style:{fontSize:"12px",padding:"6px 12px",cursor:"pointer"},children:ve?"Compressing...":$?"Change Photo":"Upload Photo"}),I.jsx("input",{id:"avatar-upload",type:"file",accept:"image/*",onChange:Se,style:{display:"none"},disabled:ve})]})]}),I.jsxs("div",{className:"form-group",children:[I.jsx("label",{children:"Full Name"}),I.jsx("input",{type:"text",className:"input",placeholder:"e.g. Timothy Santos",value:f,onChange:Ue=>p(Ue.target.value),autoFocus:!0})]}),I.jsxs("div",{className:"form-group",children:[I.jsx("label",{children:"Nickname (Optional)"}),I.jsx("input",{type:"text",className:"input",placeholder:"e.g. Tim",value:R,onChange:Ue=>L(Ue.target.value)})]}),I.jsxs("div",{className:"form-group",children:[I.jsx("label",{children:"Gender"}),I.jsxs("div",{className:"gender-select",children:[I.jsx("div",{className:`gender-option ${j==="Male"?"selected":""}`,onClick:()=>H("Male"),children:"Male"}),I.jsx("div",{className:`gender-option ${j==="Female"?"selected":""}`,onClick:()=>H("Female"),children:"Female"})]})]}),I.jsxs("div",{className:"form-group",children:[I.jsx("label",{children:"Birthday (Optional)"}),I.jsx("input",{type:"date",className:"input",value:G,onChange:Ue=>le(Ue.target.value)})]}),I.jsxs("div",{className:"form-group",children:[I.jsx("label",{children:"Grade Level"}),I.jsx("input",{type:"text",className:"input",placeholder:"e.g. Grade 1",value:m,onChange:Ue=>b(Ue.target.value)})]}),I.jsxs("div",{className:"form-group",children:[I.jsx("label",{children:"Parent Name (Optional)"}),I.jsx("input",{type:"text",className:"input",placeholder:"e.g. Mom/Dad Name",value:E,onChange:Ue=>S(Ue.target.value)})]}),I.jsxs("div",{className:"form-group",children:[I.jsx("label",{children:"Contact No. (Optional)"}),I.jsx("input",{type:"text",className:"input",placeholder:"0912...",value:v,onChange:Ue=>T(Ue.target.value)})]}),I.jsx("button",{type:"submit",className:"btn full-width",disabled:W,children:W?"Saving...":J?"Update Changes":"Save Student"}),J&&I.jsxs("button",{type:"button",onClick:wn,className:"btn full-width",style:{background:"#FEE2E2",color:"#DC2626",marginTop:"12px"},disabled:W,children:[I.jsx(gw,{size:20,style:{marginRight:"8px"}})," Delete Student"]})]})]})}function Ov({onBack:o,onAdd:r,onEdit:l}){const[f,p]=Oe.useState([]),[m,b]=Oe.useState(!0),[E,S]=Oe.useState("");Oe.useEffect(()=>{v()},[]);async function v(){try{b(!0);const{data:R,error:L}=await Rt.from("students").select("*").order("full_name");if(L)throw L;p(R)}catch(R){console.error(R)}finally{b(!1)}}const T=f.filter(R=>R.full_name.toLowerCase().includes(E.toLowerCase()));return I.jsxs("div",{className:"page slide-in",children:[I.jsxs("header",{className:"page-header",style:{justifyContent:"space-between"},children:[I.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[I.jsx("button",{onClick:o,className:"back-btn",children:I.jsx(Qi,{size:24})}),I.jsx("h2",{children:"Manage Students"})]}),I.jsxs("button",{onClick:r,className:"btn",style:{padding:"8px 12px",fontSize:"14px"},children:[I.jsx(sw,{size:18,style:{marginRight:"4px"}})," Add"]})]}),I.jsxs("div",{className:"search-bar",children:[I.jsx("input",{type:"text",placeholder:"Search name...",className:"input search-input",value:E,onChange:R=>S(R.target.value)}),I.jsx(Tf,{size:20,className:"search-icon"})]}),I.jsx("div",{className:"student-list",children:m?I.jsx("div",{className:"empty-state",children:"Loading..."}):T.length===0?I.jsx("div",{className:"empty-state",children:"No students found."}):T.map(R=>I.jsxs("div",{className:"card student-card",onClick:()=>l(R),children:[I.jsxs("div",{className:"student-info",children:[I.jsxs("h3",{children:[R.full_name," ",R.nickname&&I.jsxs("span",{style:{color:"var(--primary)",fontWeight:"normal"},children:['"',R.nickname,'"']})]}),I.jsx("span",{children:R.grade_level||"No Grade"})]}),I.jsx("div",{style:{color:"var(--primary)"},children:I.jsx(rw,{size:20})})]},R.id))})]})}function Iv({visible:o,onSave:r,onCancel:l,initialValue:f}){const[p,m]=Oe.useState("");return Oe.useEffect(()=>{o&&m(f||"")},[o,f]),o?I.jsx("div",{className:"modal-overlay",onClick:l,children:I.jsxs("div",{className:"modal",onClick:b=>b.stopPropagation(),children:[I.jsx("h3",{style:{marginBottom:"12px"},children:"Add Note"}),I.jsx("textarea",{className:"input",rows:3,placeholder:"e.g. Sick, Brought Friend...",value:p,onChange:b=>m(b.target.value),autoFocus:!0}),I.jsxs("div",{style:{display:"flex",gap:"12px",marginTop:"16px"},children:[I.jsx("button",{className:"btn",style:{flex:1,background:"#F3F4F6",color:"#333"},onClick:l,children:"Cancel"}),I.jsx("button",{className:"btn",style:{flex:1},onClick:()=>r(p),children:"Save"})]})]})}):null}function Rv({onBack:o}){const[r,l]=Oe.useState(""),[f,p]=Oe.useState([]),[m,b]=Oe.useState(!0),[E,S]=Oe.useState(null),[v,T]=Oe.useState({visible:!1,studentId:null,currentRemark:""});Oe.useEffect(()=>{R()},[]);async function R(){try{if(b(!0),!Rt)return;const{data:$,error:Re}=await Rt.from("students").select("*").order("full_name");if(Re)throw Re;const ve=new Date().toISOString().split("T")[0],{data:K,error:Se}=await Rt.from("attendance").select("student_id, memory_verse, remarks").eq("date",ve).eq("status","PRESENT");if(Se)throw Se;const he={};K.forEach(Ye=>{he[Ye.student_id]={present:!0,memory_verse:Ye.memory_verse,remarks:Ye.remarks}});const{data:wn,error:Ue}=await Rt.from("attendance").select("student_id").eq("status","PRESENT");if(Ue)throw Ue;const Ee={};wn.forEach(Ye=>{Ee[Ye.student_id]=(Ee[Ye.student_id]||0)+1});const Be=$.map(Ye=>{const te=he[Ye.id]||{present:!1,memory_verse:!1,remarks:""};return{...Ye,present:te.present,memory_verse:te.memory_verse,remarks:te.remarks,visits:Ee[Ye.id]||0}});p(Be)}catch($){S($.message)}finally{b(!1)}}const L=async $=>{if(!Rt)return;const Re=!$.present;Re?$.visits+1:$.visits-1;const ve=new Date().toISOString().split("T")[0];p(K=>K.map(Se=>Se.id===$.id?{...Se,present:Re}:Se));try{Re?await Rt.from("attendance").insert({student_id:$.id,status:"PRESENT",date:ve}):await Rt.from("attendance").delete().eq("student_id",$.id).eq("date",ve),R()}catch{R()}},j=async($,Re)=>{if(Re.stopPropagation(),!$.present){alert("Mark them present first!");return}const ve=!$.memory_verse;p(Se=>Se.map(he=>he.id===$.id?{...he,memory_verse:ve}:he));const K=new Date().toISOString().split("T")[0];await Rt.from("attendance").update({memory_verse:ve}).eq("student_id",$.id).eq("date",K)},H=($,Re)=>{if(Re.stopPropagation(),!$.present){alert("Mark them present first!");return}T({visible:!0,studentId:$.id,currentRemark:$.remarks})},G=async $=>{const Re=new Date().toISOString().split("T")[0],ve=v.studentId;p(K=>K.map(Se=>Se.id===ve?{...Se,remarks:$}:Se)),T({...v,visible:!1}),await Rt.from("attendance").update({remarks:$}).eq("student_id",ve).eq("date",Re)},le=f.filter($=>$.full_name.toLowerCase().includes(r.toLowerCase())),W=le.filter($=>$.visits<3),ae=le.filter($=>$.visits>=3),J=$=>I.jsxs("div",{className:"card student-card",onClick:()=>L($),children:[I.jsxs("div",{className:"student-info",style:{flex:1},children:[I.jsxs("h3",{children:[$.full_name," ",$.nickname&&I.jsxs("span",{style:{color:"var(--primary)",fontWeight:"normal"},children:['"',$.nickname,'"']})]}),I.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[I.jsx("span",{children:$.grade_level||"No Grade"}),$.visits<3&&$.visits>0&&I.jsx("span",{className:`badge visit-${$.visits}`,children:$.visits===1?"1st VISIT":"2nd VISIT"}),$.visits===0&&I.jsx("span",{className:"badge visit-1",children:"NEW"})]})]}),I.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[$.present&&I.jsxs(I.Fragment,{children:[I.jsx("button",{className:`action-btn ${$.memory_verse?"active-verse":""}`,onClick:Re=>j($,Re),children:I.jsx(so,{size:16})}),I.jsx("button",{className:`action-btn ${$.remarks?"active-remark":""}`,onClick:Re=>H($,Re),children:I.jsx(Cf,{size:16,fill:$.remarks?"currentColor":"none"})})]}),I.jsx("div",{className:`check-btn ${$.present?"active":""}`,children:I.jsx(Yc,{size:24,fill:$.present?"white":"none",color:$.present?"white":"var(--border-color)"})})]})]},$.id);return I.jsxs("div",{className:"page slide-in",children:[I.jsxs("header",{className:"page-header",children:[I.jsx("button",{onClick:o,className:"back-btn",children:I.jsx(Qi,{size:24})}),I.jsxs("div",{children:[I.jsx("h2",{style:{fontSize:"18px",fontWeight:"700"},children:"Attendance"}),I.jsx("span",{style:{fontSize:"12px",color:"var(--text-muted)"},children:new Date().toDateString()})]})]}),E&&I.jsx("div",{className:"error-banner",children:E}),I.jsxs("div",{className:"search-bar",children:[I.jsx("input",{type:"text",placeholder:"Search name...",className:"input search-input",value:r,onChange:$=>l($.target.value)}),I.jsx(Tf,{size:20,className:"search-icon"})]}),I.jsx("div",{className:"student-list",children:m?I.jsx("div",{className:"empty-state",children:"Loading..."}):le.length===0?I.jsx("div",{className:"empty-state",children:"No student found."}):I.jsxs(I.Fragment,{children:[W.length>0&&I.jsxs(I.Fragment,{children:[I.jsxs("div",{className:"section-header",children:["New Kids / Visitors (",W.length,")"]}),W.map(J)]}),ae.length>0&&I.jsxs(I.Fragment,{children:[I.jsxs("div",{className:"section-header",children:["Regulars (",ae.length,")"]}),ae.map(J)]})]})}),I.jsx(Iv,{visible:v.visible,initialValue:v.currentRemark,onCancel:()=>T({...v,visible:!1}),onSave:G})]})}function Dv(){const[o,r]=Oe.useState("splash"),[l,f]=Oe.useState(null),[p,m]=Oe.useState(null),[b,E]=Oe.useState(null),S=v=>r(v);return o==="splash"?I.jsx(pv,{onFinish:()=>S("home")}):o==="home"?I.jsx(vv,{onNavigate:S}):o==="info"?I.jsx(_v,{onBack:()=>S("home")}):o==="add-student"?I.jsx(Vg,{onBack:()=>S("student-manager"),onComplete:()=>S("student-manager"),initialData:null}):o==="edit-student"?I.jsx(Vg,{onBack:()=>{m(null),S("student-manager")},onComplete:()=>{m(null),S("student-manager")},initialData:p}):o==="student-manager"?I.jsx(Ov,{onBack:()=>S("home"),onAdd:()=>S("add-student"),onEdit:v=>{m(v),S("edit-student")}}):o==="student-monitor"?I.jsx(Sv,{onBack:()=>S("home"),onSelect:v=>{E(v),S("student-profile")}}):o==="student-profile"?I.jsx(Ev,{student:b,onBack:()=>S("student-monitor")}):o==="activity-log"?I.jsx(bv,{onBack:()=>S("home")}):o==="reports"?I.jsx(Tv,{onNavigate:S,onSelectDate:v=>{f(v),S("report-detail")}}):o==="report-detail"?I.jsx(Nv,{date:l,onBack:()=>S("reports")}):o==="follow-up"?I.jsx(Cv,{onBack:()=>S("home")}):I.jsx(Rv,{onBack:()=>S("home")})}Qm.createRoot(document.getElementById("root")).render(I.jsx(Oe.StrictMode,{children:I.jsx(Dv,{})}));
